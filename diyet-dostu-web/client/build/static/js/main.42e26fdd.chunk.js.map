{"version":3,"sources":["components/Login.js","components/Register.js","components/ChatBubble.js","components/UserInfoForm.js","components/DietPlanGenerator.js","components/Chat.js","components/ExerciseCard.js","components/Profile.js","components/Header.js","components/LandingPage.js","App.js","index.js"],"names":["Login","formData","setFormData","useState","email","password","error","setError","loading","setLoading","testMode","setTestMode","navigate","useNavigate","useEffect","localStorage","getItem","submitButton","document","getElementById","click","handleChange","e","[object Object]","target","name","value","React","createElement","className","Link","to","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","style","top","left","right","bottom","onSubmit","async","preventDefault","handleTestLogin","token","Date","now","setItem","response","axios","post","data","userId","console","message","request","htmlFor","type","id","placeholder","onChange","required","disabled","onClick","loginWithTestUser","href","Register","_ref","onLogin","confirmPassword","age","height","weight","goal","userData","info","parseInt","err","_err$response","_err$response$data","minLength","min","max","cx","cy","r","ChatBubble","role","content","isUser","hasMedicalInfo","includes","fillRule","clipRule","dangerouslySetInnerHTML","text","__html","replace","createMarkup","UserInfoForm","onCancel","gender","activityLevel","healthProblems","medications","dietHistory","mealCount","allergies","foodPreferences","dietGoal","targetWeight","weeklyExerciseHours","errors","setErrors","isSubmitting","setIsSubmitting","submit","newErrors","validateForm","Object","keys","length","headers","Authorization","rows","DietPlanGenerator","userInfo","dietPlan","setDietPlan","isLoading","setIsLoading","activeTab","setActiveTab","generateDietPlan","calculateTargetCalories","tdee","targetCalories","Math","round","minCalories","calculateWaterIntake","minWater","parseFloat","maxWater","cups","bmr","calculateBMR","calculateTDEE","sedanter","hafif_aktif","orta_aktif","cok_aktif","ekstra_aktif","macroDistribution","generateMacroDistribution","proteinPercentage","carbPercentage","fatPercentage","proteinCalories","carbCalories","fatCalories","proteinGrams","carbGrams","fatGrams","protein","percentage","grams","calories","carbs","fat","generatedPlan","stats","macros","mealPlan","generateTurkishMealPlan","turkishFoods","breakfast","description","lunch","dinner","snacks","distributionPlan","3","4","snack1","5","snack2","6","snack3","toString","forEach","meal","mealCalories","selectedMeal","floor","random","snackIndex","waterIntake","map","mealInfo","mealTitle","key","Chat","messages","setMessages","input","setInput","imageFile","setImageFile","imagePreview","setImagePreview","chatList","setChatList","activeChatId","setActiveChatId","sidebarOpen","setSidebarOpen","showUserInfoForm","setShowUserInfoForm","showDietPlan","setShowDietPlan","setUserInfo","messagesEndRef","useRef","textareaRef","fetchChatList","checkUserInfo","fetchChatHistory","scrollToBottom","get","createNewChat","chatId","chatHistory","Array","isArray","then","newChat","title","lastMessage","toISOString","prevList","catch","finally","current","scrollIntoView","behavior","clearImage","handleSubmit","trim","prev","userMessage","toLowerCase","setTimeout","FormData","append","log","Content-Type","imgError","assistantMessage","chatError","errorMessage","status","chat","date","stopPropagation","window","confirm","delete","success","filter","remainingChats","nextChat","alert","deleteChat","toggleSidebar","updatedList","msg","index","noteId","deleteNote","ref","onKeyDown","shiftKey","accept","file","files","reader","FileReader","onloadend","result","readAsDataURL","src","alt","ExerciseCard","exercise","onToggleComplete","duration","completed","Profile","setUserData","newNote","setNewNote","newWeight","setNewWeight","diseases","setDiseases","setMedications","healthInfoEditing","setHealthInfoEditing","fetchUserData","Error","handleToggleExercise","item","handleSaveHealthInfo","step","weightHistory","slice","reverse","entry","toLocaleDateString","entries","week","days","_ref2","day","meals","_ref3","mealTime","handleToggleMeal","exercisePlan","_ref4","_ref5","exercises","notes","note","handleToggleNote","renderHealthTab","_userData$info","_userData$info2","Header","isAuthenticated","onLogout","LandingPage","isLoaded","setIsLoaded","observer","IntersectionObserver","isIntersecting","classList","add","threshold","hiddenElements","querySelectorAll","el","observe","food","animationDelay","unobserve","App","setIsAuthenticated","defaults","common","substring","startsWith","removeItem","checkAuth","handleLogin","Router","handleLogout","Routes","Route","path","element","Navigate","ReactDOM","createRoot","render","StrictMode"],"mappings":"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","file":"static/js/main.42e26fdd.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\n\r\nconst Login = () => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [testMode, setTestMode] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // Sayfa yüklendiğinde token kontrolü yap\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      navigate('/chat');\r\n    }\r\n  }, [navigate]);\r\n\r\n  // Test modu aktifleştirildiğinde otomatik giriş yap\r\n  useEffect(() => {\r\n    if (testMode) {\r\n      const submitButton = document.getElementById('login-submit');\r\n      if (submitButton) {\r\n        submitButton.click();\r\n      }\r\n    }\r\n  }, [testMode]);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const loginWithTestUser = () => {\r\n    setFormData({\r\n      email: 'whodenur@gmail.com',\r\n      password: 'test123'\r\n    });\r\n    setTestMode(true);\r\n  };\r\n\r\n  const handleTestLogin = () => {\r\n    // Test kullanıcısı ile giriş işlemine devam et\r\n    const token = `test_token_${Date.now()}`;\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('userId', '1746606015392');\r\n    navigate('/chat');\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (testMode) {\r\n      // Test modunda ise API'ye istek göndermeden doğrudan giriş yap\r\n      handleTestLogin();\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setError('');\r\n      setLoading(true);\r\n      \r\n      const response = await axios.post('http://localhost:5000/api/login', formData);\r\n      \r\n      // JWT token'ı ve kullanıcı ID'sini localStorage'a kaydet\r\n      localStorage.setItem('token', response.data.token);\r\n      localStorage.setItem('userId', response.data.userId);\r\n      \r\n      // Kullanıcıyı sohbet sayfasına yönlendir\r\n      navigate('/chat');\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      \r\n      if (error.response) {\r\n        setError(error.response.data.message || 'Giriş başarısız');\r\n      } else if (error.request) {\r\n        setError('Sunucuya ulaşılamıyor. Lütfen daha sonra tekrar deneyin.');\r\n      } else {\r\n        setError('Giriş işlemi sırasında bir hata oluştu.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-diet-gray p-4 relative overflow-hidden\">\r\n      {/* Geri dönüş oku */}\r\n      <Link to=\"/\" className=\"absolute top-4 left-4 z-20 text-diet-green hover:text-diet-green-dark transition-colors\">\r\n        <div className=\"flex items-center\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n          </svg>\r\n          <span className=\"ml-1 font-medium\">Anasayfa</span>\r\n        </div>\r\n      </Link>\r\n      \r\n      {/* Animasyonlu sebze ve meyveler */}\r\n      <div className=\"food-animation-container\">\r\n        <div className=\"floating-food apple\" style={{ top: '10%', left: '5%' }}>🍎</div>\r\n        <div className=\"floating-food banana\" style={{ top: '15%', right: '8%' }}>🍌</div>\r\n        <div className=\"floating-food broccoli\" style={{ bottom: '20%', left: '10%' }}>🥦</div>\r\n        <div className=\"floating-food avocado\" style={{ bottom: '15%', right: '15%' }}>🥑</div>\r\n        <div className=\"floating-food orange\" style={{ top: '35%', left: '20%' }}>🍊</div>\r\n        <div className=\"floating-food tomato\" style={{ top: '45%', right: '20%' }}>🍅</div>\r\n        <div className=\"floating-food carrot\" style={{ bottom: '30%', left: '25%' }}>🥕</div>\r\n        <div className=\"floating-food pear\" style={{ bottom: '40%', right: '10%' }}>🍐</div>\r\n      </div>\r\n      \r\n      <div className=\"bg-white rounded-lg shadow-xl p-8 w-full max-w-md z-10 bg-opacity-95 auth-container\">\r\n        <div className=\"text-center mb-8\">\r\n          <h2 className=\"text-3xl font-bold text-diet-green\">Diyet Dostu</h2>\r\n          <p className=\"text-gray-600 mt-2\">Sağlıklı yaşam asistanınız</p>\r\n        </div>\r\n        \r\n        {error && (\r\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 text-center\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        \r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <div>\r\n            <label className=\"block text-gray-700 mb-2\" htmlFor=\"email\">\r\n              E-posta\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              className=\"auth-input\"\r\n              placeholder=\"E-posta adresiniz\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-gray-700 mb-2\" htmlFor=\"password\">\r\n              Parola\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              className=\"auth-input\"\r\n              placeholder=\"Parolanız\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <button\r\n            id=\"login-submit\"\r\n            type=\"submit\"\r\n            className=\"auth-button pulsing-button\"\r\n            disabled={loading}\r\n          >\r\n            {loading ? 'Giriş yapılıyor...' : 'Giriş Yap'}\r\n          </button>\r\n        </form>\r\n        \r\n        <div className=\"text-center mt-6\">\r\n          <p className=\"text-gray-600 mb-4\">veya</p>\r\n          <button\r\n            onClick={loginWithTestUser}\r\n            className=\"w-full bg-diet-blue text-white p-3 rounded-lg hover:bg-blue-600 transition-colors pulsing-button\"\r\n          >\r\n            Test Kullanıcısı ile Giriş Yap\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"text-center mt-6\">\r\n          <p className=\"text-gray-600\">\r\n            Hesabınız yok mu?{' '}\r\n            <a href=\"/register\" className=\"text-diet-green hover:underline\">\r\n              Kaydolun\r\n            </a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login; ","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Register = ({ onLogin }) => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    age: '',\r\n    height: '',\r\n    weight: '',\r\n    goal: 'kilo verme' // Varsayılan hedef\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    \r\n    // Parola kontrolü\r\n    if (formData.password !== formData.confirmPassword) {\r\n      setError('Parolalar eşleşmiyor');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    \r\n    // API'ye gönderilecek veriyi hazırla\r\n    const userData = {\r\n      email: formData.email,\r\n      password: formData.password,\r\n      info: {\r\n        age: parseInt(formData.age),\r\n        height: parseInt(formData.height),\r\n        weight: parseInt(formData.weight),\r\n        goal: formData.goal\r\n      }\r\n    };\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/register', userData);\r\n      localStorage.setItem('token', response.data.token);\r\n      localStorage.setItem('userId', response.data.userId);\r\n      onLogin();\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Kayıt sırasında bir hata oluştu');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-diet-gray p-4 relative overflow-hidden\">\r\n      {/* Geri dönüş oku */}\r\n      <Link to=\"/\" className=\"absolute top-4 left-4 z-20 text-diet-green hover:text-diet-green-dark transition-colors\">\r\n        <div className=\"flex items-center\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n          </svg>\r\n          <span className=\"ml-1 font-medium\">Anasayfa</span>\r\n        </div>\r\n      </Link>\r\n      \r\n      {/* Animasyonlu sebze ve meyveler */}\r\n      <div className=\"food-animation-container\">\r\n        <div className=\"floating-food apple\" style={{ top: '10%', left: '5%' }}>🍎</div>\r\n        <div className=\"floating-food banana\" style={{ top: '15%', right: '8%' }}>🍌</div>\r\n        <div className=\"floating-food broccoli\" style={{ bottom: '20%', left: '10%' }}>🥦</div>\r\n        <div className=\"floating-food avocado\" style={{ bottom: '15%', right: '15%' }}>🥑</div>\r\n        <div className=\"floating-food orange\" style={{ top: '35%', left: '20%' }}>🍊</div>\r\n        <div className=\"floating-food tomato\" style={{ top: '45%', right: '20%' }}>🍅</div>\r\n        <div className=\"floating-food carrot\" style={{ bottom: '30%', left: '25%' }}>🥕</div>\r\n        <div className=\"floating-food pear\" style={{ bottom: '40%', right: '10%' }}>🍐</div>\r\n      </div>\r\n      \r\n      <div className=\"auth-container bg-white rounded-lg shadow-xl p-8 w-full max-w-md z-10 bg-opacity-95\">\r\n        <div className=\"text-center mb-8\">\r\n          <h2 className=\"text-3xl font-bold text-diet-green\">Yeni Hesap Oluştur</h2>\r\n          <p className=\"text-gray-600 mt-2\">Diyet Dostu ile sağlıklı yaşam yolculuğuna başla</p>\r\n        </div>\r\n        \r\n        {error && (\r\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        \r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-gray-700 mb-2\" htmlFor=\"email\">\r\n              E-posta\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              className=\"auth-input\"\r\n              placeholder=\"ornek@mail.com\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-gray-700 mb-2\" htmlFor=\"password\">\r\n              Parola\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              className=\"auth-input\"\r\n              placeholder=\"••••••••\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              required\r\n              minLength=\"6\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-gray-700 mb-2\" htmlFor=\"confirmPassword\">\r\n              Parola Tekrar\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"confirmPassword\"\r\n              name=\"confirmPassword\"\r\n              className=\"auth-input\"\r\n              placeholder=\"••••••••\"\r\n              value={formData.confirmPassword}\r\n              onChange={handleChange}\r\n              required\r\n              minLength=\"6\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"bg-diet-gray p-4 rounded-lg mb-4\">\r\n            <h3 className=\"font-medium mb-3 text-diet-green\">Kişisel Bilgiler</h3>\r\n            \r\n            <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n              <div>\r\n                <label className=\"block text-gray-700 mb-2\" htmlFor=\"age\">\r\n                  Yaş\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"age\"\r\n                  name=\"age\"\r\n                  className=\"auth-input\"\r\n                  placeholder=\"25\"\r\n                  value={formData.age}\r\n                  onChange={handleChange}\r\n                  required\r\n                  min=\"12\"\r\n                  max=\"120\"\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-gray-700 mb-2\" htmlFor=\"height\">\r\n                  Boy (cm)\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"height\"\r\n                  name=\"height\"\r\n                  className=\"auth-input\"\r\n                  placeholder=\"170\"\r\n                  value={formData.height}\r\n                  onChange={handleChange}\r\n                  required\r\n                  min=\"100\"\r\n                  max=\"250\"\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-gray-700 mb-2\" htmlFor=\"weight\">\r\n                  Kilo (kg)\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"weight\"\r\n                  name=\"weight\"\r\n                  className=\"auth-input\"\r\n                  placeholder=\"70\"\r\n                  value={formData.weight}\r\n                  onChange={handleChange}\r\n                  required\r\n                  min=\"30\"\r\n                  max=\"300\"\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-gray-700 mb-2\" htmlFor=\"goal\">\r\n                  Hedef\r\n                </label>\r\n                <select\r\n                  id=\"goal\"\r\n                  name=\"goal\"\r\n                  className=\"auth-input\"\r\n                  value={formData.goal}\r\n                  onChange={handleChange}\r\n                  required\r\n                >\r\n                  <option value=\"kilo verme\">Kilo Vermek</option>\r\n                  <option value=\"kilo alma\">Kilo Almak</option>\r\n                  <option value=\"kilo koruma\">Kiloyu Korumak</option>\r\n                  <option value=\"kas kazanımı\">Kas Kazanmak</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <button\r\n            type=\"submit\"\r\n            className=\"auth-button flex justify-center items-center\"\r\n            disabled={loading}\r\n          >\r\n            {loading ? (\r\n              <svg className=\"animate-spin h-5 w-5 mr-3 text-white\" viewBox=\"0 0 24 24\">\r\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\"></circle>\r\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n              </svg>\r\n            ) : null}\r\n            {loading ? 'Kayıt Oluşturuluyor...' : 'Kayıt Ol'}\r\n          </button>\r\n        </form>\r\n        \r\n        <div className=\"mt-6 text-center\">\r\n          <p className=\"text-gray-600\">\r\n            Zaten hesabın var mı?{' '}\r\n            <Link to=\"/login\" className=\"text-diet-green hover:underline\">\r\n              Giriş Yap\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register; ","import React from 'react';\r\n\r\n// Logoyu doğrudan SVG olarak yerleştiriyoruz (görsel yüklenemezse kullanılacak)\r\nconst DefaultLogo = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#4CAF50\" className=\"w-full h-full\">\r\n    <path d=\"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12zM6 10h2v2H6v-2zm0 4h8v2H6v-2zm10 0h2v2h-2v-2zm-6-4h8v2h-8v-2z\" />\r\n  </svg>\r\n);\r\n\r\nconst ChatBubble = ({ message }) => {\r\n  const { role, content } = message;\r\n  const isUser = role === 'user';\r\n  \r\n  // Hastalık ve ilaç bilgisi içeren mesajları kontrol et\r\n  const hasMedicalInfo = content && (\r\n    content.includes('ÖNEMLİ SAĞLIK BİLGİLERİ') || \r\n    content.includes('hastalık') || \r\n    content.includes('ilaç') || \r\n    content.includes('rahatsızlık')\r\n  );\r\n  \r\n  // HTML içeriğini güvenli bir şekilde render et\r\n  const createMarkup = (text) => {\r\n    return { __html: text\r\n      .replace(/\\n/g, '<br/>')\r\n      .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\r\n      .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\r\n    };\r\n  };\r\n  \r\n  return (\r\n    <div className={`chat-message ${isUser ? 'user-message' : 'assistant-message'}`}>\r\n      <div className=\"avatar-container\">\r\n        {isUser ? (\r\n          <div className=\"user-avatar\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-full h-full\">\r\n              <path fillRule=\"evenodd\" d=\"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n          </div>\r\n        ) : (\r\n          <div className=\"assistant-avatar\">\r\n            {/* Logo için fallback mekanizması */}\r\n            <div className=\"fallback-logo\">\r\n              <svg viewBox=\"0 0 24 24\" fill=\"#4CAF50\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#e8f5e9\" />\r\n                <path d=\"M17 8.5C17 6.01 14.99 4 12.5 4C10.01 4 8 6.01 8 8.5C8 11.99 12.5 16.5 12.5 16.5C12.5 16.5 17 11.99 17 8.5ZM12.5 9.5C11.95 9.5 11.5 9.05 11.5 8.5C11.5 7.95 11.95 7.5 12.5 7.5C13.05 7.5 13.5 7.95 13.5 8.5C13.5 9.05 13.05 9.5 12.5 9.5Z\" fill=\"#4CAF50\" />\r\n                <path d=\"M16 15H9C8.45 15 8 15.45 8 16C8 16.55 8.45 17 9 17H16C16.55 17 17 16.55 17 16C17 15.45 16.55 15 16 15Z\" fill=\"#4CAF50\" />\r\n                <path d=\"M12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20ZM12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z\" fill=\"#4CAF50\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className={`chat-bubble ${isUser ? 'user-bubble' : 'assistant-bubble'} ${hasMedicalInfo ? 'medical-info' : ''}`}>\r\n        <div dangerouslySetInnerHTML={createMarkup(content)} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatBubble; ","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst UserInfoForm = ({ onSubmit, onCancel }) => {\r\n  const [formData, setFormData] = useState({\r\n    age: '',\r\n    gender: 'erkek',\r\n    weight: '',\r\n    height: '',\r\n    activityLevel: 'sedanter',\r\n    healthProblems: '',\r\n    medications: '',\r\n    dietHistory: '',\r\n    mealCount: '3',\r\n    allergies: '',\r\n    foodPreferences: '',\r\n    dietGoal: 'kilo_verme',\r\n    targetWeight: '',\r\n    weeklyExerciseHours: '0'\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value\r\n    });\r\n    \r\n    // Hata mesajını temizle\r\n    if (errors[name]) {\r\n      setErrors({\r\n        ...errors,\r\n        [name]: ''\r\n      });\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n\r\n    // Zorunlu alanları kontrol et\r\n    if (!formData.age) newErrors.age = 'Yaş alanı zorunludur';\r\n    else if (formData.age < 12 || formData.age > 120) newErrors.age = 'Lütfen geçerli bir yaş giriniz (12-120)';\r\n    \r\n    if (!formData.weight) newErrors.weight = 'Kilo alanı zorunludur';\r\n    else if (formData.weight < 30 || formData.weight > 300) newErrors.weight = 'Lütfen geçerli bir kilo giriniz (30-300)';\r\n    \r\n    if (!formData.height) newErrors.height = 'Boy alanı zorunludur';\r\n    else if (formData.height < 100 || formData.height > 250) newErrors.height = 'Lütfen geçerli bir boy giriniz (100-250)';\r\n    \r\n    if (formData.dietGoal === 'kilo_verme' && !formData.targetWeight) {\r\n      newErrors.targetWeight = 'Hedef kilo alanı zorunludur';\r\n    } else if (formData.targetWeight && (formData.targetWeight < 30 || formData.targetWeight > 300)) {\r\n      newErrors.targetWeight = 'Lütfen geçerli bir hedef kilo giriniz (30-300)';\r\n    }\r\n\r\n    return newErrors;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Form doğrulaması yap\r\n    const newErrors = validateForm();\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setErrors(newErrors);\r\n      return;\r\n    }\r\n    \r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n      // API'ye kullanıcı bilgilerini gönderme işlemi\r\n      // Bu noktada gerçek API entegrasyonu yapılmalıdır\r\n      // Şimdilik onSubmit fonksiyonunu doğrudan çağırıyoruz\r\n      \r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        await axios.post('http://localhost:5000/api/user-info', formData, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n      }\r\n      \r\n      onSubmit(formData);\r\n    } catch (error) {\r\n      console.error('Kullanıcı bilgileri kaydedilirken hata:', error);\r\n      setErrors({\r\n        submit: 'Bilgiler kaydedilirken bir hata oluştu. Lütfen daha sonra tekrar deneyin.'\r\n      });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-xl p-6 max-w-2xl mx-auto\">\r\n      <div className=\"mb-6 text-center\">\r\n        <h2 className=\"text-2xl font-bold text-diet-green\">Kişisel Bilgi Formu</h2>\r\n        <p className=\"text-gray-600 mt-2\">\r\n          Daha kişiselleştirilmiş bir beslenme programı için lütfen aşağıdaki bilgileri doldurun.\r\n        </p>\r\n      </div>\r\n      \r\n      {errors.submit && (\r\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\r\n          {errors.submit}\r\n        </div>\r\n      )}\r\n      \r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          {/* Temel Bilgiler */}\r\n          <div>\r\n            <label className=\"block text-gray-700 mb-1\" htmlFor=\"age\">\r\n              Yaşınız <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"age\"\r\n              name=\"age\"\r\n              value={formData.age}\r\n              onChange={handleChange}\r\n              className={`w-full p-2 border rounded-md ${errors.age ? 'border-red-500' : 'border-gray-300'}`}\r\n              placeholder=\"Örn: 35\"\r\n            />\r\n            {errors.age && <p className=\"mt-1 text-red-500 text-sm\">{errors.age}</p>}\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-gray-700 mb-1\" htmlFor=\"gender\">\r\n              Cinsiyet <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <select\r\n              id=\"gender\"\r\n              name=\"gender\"\r\n              value={formData.gender}\r\n              onChange={handleChange}\r\n              className=\"w-full p-2 border border-gray-300 rounded-md\"\r\n            >\r\n              <option value=\"erkek\">Erkek</option>\r\n              <option value=\"kadın\">Kadın</option>\r\n              <option value=\"diğer\">Diğer</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-gray-700 mb-1\" htmlFor=\"weight\">\r\n              Kilonuz (kg) <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"weight\"\r\n              name=\"weight\"\r\n              value={formData.weight}\r\n              onChange={handleChange}\r\n              className={`w-full p-2 border rounded-md ${errors.weight ? 'border-red-500' : 'border-gray-300'}`}\r\n              placeholder=\"Örn: 75\"\r\n            />\r\n            {errors.weight && <p className=\"mt-1 text-red-500 text-sm\">{errors.weight}</p>}\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-gray-700 mb-1\" htmlFor=\"height\">\r\n              Boyunuz (cm) <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"height\"\r\n              name=\"height\"\r\n              value={formData.height}\r\n              onChange={handleChange}\r\n              className={`w-full p-2 border rounded-md ${errors.height ? 'border-red-500' : 'border-gray-300'}`}\r\n              placeholder=\"Örn: 175\"\r\n            />\r\n            {errors.height && <p className=\"mt-1 text-red-500 text-sm\">{errors.height}</p>}\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-gray-700 mb-1\" htmlFor=\"activityLevel\">\r\n              Fiziksel Aktivite Düzeyi <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <select\r\n              id=\"activityLevel\"\r\n              name=\"activityLevel\"\r\n              value={formData.activityLevel}\r\n              onChange={handleChange}\r\n              className=\"w-full p-2 border border-gray-300 rounded-md\"\r\n            >\r\n              <option value=\"sedanter\">Sedanter (Masa başı çalışan/Az hareket)</option>\r\n              <option value=\"hafif_aktif\">Hafif Aktif (Haftada 1-3 gün egzersiz)</option>\r\n              <option value=\"orta_aktif\">Orta Aktif (Haftada 3-5 gün egzersiz)</option>\r\n              <option value=\"cok_aktif\">Çok Aktif (Haftada 6-7 gün egzersiz)</option>\r\n              <option value=\"ekstra_aktif\">Ekstra Aktif (Günde 2 kez egzersiz/Fiziksel iş)</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-gray-700 mb-1\" htmlFor=\"dietGoal\">\r\n              Beslenme Hedefiniz <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <select\r\n              id=\"dietGoal\"\r\n              name=\"dietGoal\"\r\n              value={formData.dietGoal}\r\n              onChange={handleChange}\r\n              className=\"w-full p-2 border border-gray-300 rounded-md\"\r\n            >\r\n              <option value=\"kilo_verme\">Kilo Vermek</option>\r\n              <option value=\"kilo_alma\">Kilo Almak</option>\r\n              <option value=\"kilo_koruma\">Mevcut Kiloyu Korumak</option>\r\n              <option value=\"kas_kazanma\">Kas Kütlesi Kazanmak</option>\r\n              <option value=\"saglikli_beslenme\">Genel Sağlıklı Beslenme</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        \r\n        {formData.dietGoal === 'kilo_verme' && (\r\n          <div>\r\n            <label className=\"block text-gray-700 mb-1\" htmlFor=\"targetWeight\">\r\n              Hedef Kilonuz (kg) <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"targetWeight\"\r\n              name=\"targetWeight\"\r\n              value={formData.targetWeight}\r\n              onChange={handleChange}\r\n              className={`w-full p-2 border rounded-md ${errors.targetWeight ? 'border-red-500' : 'border-gray-300'}`}\r\n              placeholder=\"Örn: 65\"\r\n            />\r\n            {errors.targetWeight && <p className=\"mt-1 text-red-500 text-sm\">{errors.targetWeight}</p>}\r\n          </div>\r\n        )}\r\n        \r\n        <div>\r\n          <label className=\"block text-gray-700 mb-1\" htmlFor=\"mealCount\">\r\n            Günde kaç öğün yemek tercih edersiniz?\r\n          </label>\r\n          <select\r\n            id=\"mealCount\"\r\n            name=\"mealCount\"\r\n            value={formData.mealCount}\r\n            onChange={handleChange}\r\n            className=\"w-full p-2 border border-gray-300 rounded-md\"\r\n          >\r\n            <option value=\"3\">3 Ana Öğün</option>\r\n            <option value=\"4\">3 Ana Öğün + 1 Ara Öğün</option>\r\n            <option value=\"5\">3 Ana Öğün + 2 Ara Öğün</option>\r\n            <option value=\"6\">3 Ana Öğün + 3 Ara Öğün</option>\r\n          </select>\r\n        </div>\r\n        \r\n        <div>\r\n          <label className=\"block text-gray-700 mb-1\" htmlFor=\"allergies\">\r\n            Besin Alerjileriniz\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"allergies\"\r\n            name=\"allergies\"\r\n            value={formData.allergies}\r\n            onChange={handleChange}\r\n            className=\"w-full p-2 border border-gray-300 rounded-md\"\r\n            placeholder=\"Varsa besin alerjilerinizi yazın (Örn: süt, fındık)\"\r\n          />\r\n        </div>\r\n        \r\n        <div>\r\n          <label className=\"block text-gray-700 mb-1\" htmlFor=\"foodPreferences\">\r\n            Yemek Tercihleri/Sevmedikleriniz\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"foodPreferences\"\r\n            name=\"foodPreferences\"\r\n            value={formData.foodPreferences}\r\n            onChange={handleChange}\r\n            className=\"w-full p-2 border border-gray-300 rounded-md\"\r\n            placeholder=\"Sevmediğiniz veya tercih ettiğiniz besinleri yazın\"\r\n          />\r\n        </div>\r\n        \r\n        <div>\r\n          <label className=\"block text-gray-700 mb-1\" htmlFor=\"healthProblems\">\r\n            Sağlık Sorunlarınız\r\n          </label>\r\n          <textarea\r\n            id=\"healthProblems\"\r\n            name=\"healthProblems\"\r\n            value={formData.healthProblems}\r\n            onChange={handleChange}\r\n            className=\"w-full p-2 border border-gray-300 rounded-md\"\r\n            placeholder=\"Varsa sağlık sorunlarınızı yazın (Diyabet, tansiyon, kolesterol vb.)\"\r\n            rows=\"2\"\r\n          ></textarea>\r\n        </div>\r\n        \r\n        <div>\r\n          <label className=\"block text-gray-700 mb-1\" htmlFor=\"medications\">\r\n            Kullandığınız İlaçlar\r\n          </label>\r\n          <textarea\r\n            id=\"medications\"\r\n            name=\"medications\"\r\n            value={formData.medications}\r\n            onChange={handleChange}\r\n            className=\"w-full p-2 border border-gray-300 rounded-md\"\r\n            placeholder=\"Varsa kullandığınız ilaçları yazın\"\r\n            rows=\"2\"\r\n          ></textarea>\r\n        </div>\r\n        \r\n        <div>\r\n          <label className=\"block text-gray-700 mb-1\" htmlFor=\"dietHistory\">\r\n            Daha Önce Denediğiniz Diyetler\r\n          </label>\r\n          <textarea\r\n            id=\"dietHistory\"\r\n            name=\"dietHistory\"\r\n            value={formData.dietHistory}\r\n            onChange={handleChange}\r\n            className=\"w-full p-2 border border-gray-300 rounded-md\"\r\n            placeholder=\"Daha önce uyguladığınız diyetler ve sonuçları\"\r\n            rows=\"2\"\r\n          ></textarea>\r\n        </div>\r\n        \r\n        <div className=\"text-right mt-6 flex justify-between\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onCancel}\r\n            className=\"bg-gray-200 text-gray-700 py-2 px-6 rounded-lg hover:bg-gray-300 transition\"\r\n          >\r\n            İptal\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSubmitting}\r\n            className=\"bg-diet-green text-white py-2 px-6 rounded-lg hover:bg-green-600 transition flex items-center\"\r\n          >\r\n            {isSubmitting && (\r\n              <svg className=\"animate-spin -ml-1 mr-2 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n              </svg>\r\n            )}\r\n            {isSubmitting ? 'Kaydediliyor...' : 'Bilgilerimi Kaydet'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserInfoForm; ","import React, { useState, useEffect } from 'react';\r\n\r\nconst DietPlanGenerator = ({ userInfo }) => {\r\n  const [dietPlan, setDietPlan] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      generateDietPlan(userInfo);\r\n    }\r\n  }, [userInfo]);\r\n\r\n  const calculateBMR = (userInfo) => {\r\n    // Harris-Benedict denklemi\r\n    const { gender, weight, height, age } = userInfo;\r\n    let bmr = 0;\r\n    \r\n    if (gender === 'erkek') {\r\n      bmr = 88.362 + (13.397 * parseFloat(weight)) + (4.799 * parseFloat(height)) - (5.677 * parseFloat(age));\r\n    } else {\r\n      bmr = 447.593 + (9.247 * parseFloat(weight)) + (3.098 * parseFloat(height)) - (4.330 * parseFloat(age));\r\n    }\r\n    \r\n    return Math.round(bmr);\r\n  };\r\n\r\n  const calculateTDEE = (bmr, activityLevel) => {\r\n    // Aktivite çarpanları\r\n    const activityMultipliers = {\r\n      sedanter: 1.2,\r\n      hafif_aktif: 1.375,\r\n      orta_aktif: 1.55,\r\n      cok_aktif: 1.725,\r\n      ekstra_aktif: 1.9\r\n    };\r\n    \r\n    return Math.round(bmr * activityMultipliers[activityLevel]);\r\n  };\r\n\r\n  const calculateTargetCalories = (tdee, dietGoal) => {\r\n    // Hedeflere göre kalori hesaplama\r\n    let targetCalories = tdee;\r\n    \r\n    switch (dietGoal) {\r\n      case 'kilo_verme':\r\n        targetCalories = Math.round(tdee * 0.8); // %20 kalori açığı\r\n        break;\r\n      case 'kilo_alma':\r\n        targetCalories = Math.round(tdee * 1.15); // %15 kalori fazlası\r\n        break;\r\n      case 'kas_kazanma':\r\n        targetCalories = Math.round(tdee * 1.1); // %10 kalori fazlası\r\n        break;\r\n      default:\r\n        targetCalories = tdee; // Kilo koruma\r\n    }\r\n    \r\n    // Minumum kalori sınırı (sağlık açısından)\r\n    const minCalories = userInfo.gender === 'erkek' ? 1500 : 1200;\r\n    return Math.max(targetCalories, minCalories);\r\n  };\r\n\r\n  const calculateWaterIntake = (weight) => {\r\n    // Kilo başına 30ml su hesabı (genel kural)\r\n    const minWater = Math.round((parseFloat(weight) * 30) / 1000, 1);\r\n    // Kilo başına 40ml su hesabı (aktif kişiler için)\r\n    const maxWater = Math.round((parseFloat(weight) * 40) / 1000, 1);\r\n    \r\n    return {\r\n      min: minWater,\r\n      max: maxWater,\r\n      cups: Math.round((minWater + maxWater) / 2 * 4) // 250ml'lik bardak sayısı\r\n    };\r\n  };\r\n\r\n  const generateMacroDistribution = (targetCalories, dietGoal) => {\r\n    let proteinPercentage, carbPercentage, fatPercentage;\r\n    \r\n    // Hedeflere göre makro dağılımı\r\n    switch (dietGoal) {\r\n      case 'kilo_verme':\r\n        proteinPercentage = 0.35; // %35\r\n        fatPercentage = 0.30; // %30\r\n        carbPercentage = 0.35; // %35\r\n        break;\r\n      case 'kilo_alma':\r\n        proteinPercentage = 0.25; // %25\r\n        fatPercentage = 0.25; // %25\r\n        carbPercentage = 0.50; // %50\r\n        break;\r\n      case 'kas_kazanma':\r\n        proteinPercentage = 0.30; // %30\r\n        fatPercentage = 0.25; // %25\r\n        carbPercentage = 0.45; // %45\r\n        break;\r\n      default:\r\n        proteinPercentage = 0.20; // %20\r\n        fatPercentage = 0.30; // %30\r\n        carbPercentage = 0.50; // %50\r\n    }\r\n    \r\n    // Gram hesaplamaları (1g protein/karbonhidrat = 4 kalori, 1g yağ = 9 kalori)\r\n    const proteinCalories = targetCalories * proteinPercentage;\r\n    const carbCalories = targetCalories * carbPercentage;\r\n    const fatCalories = targetCalories * fatPercentage;\r\n    \r\n    const proteinGrams = Math.round(proteinCalories / 4);\r\n    const carbGrams = Math.round(carbCalories / 4);\r\n    const fatGrams = Math.round(fatCalories / 9);\r\n    \r\n    return {\r\n      protein: {\r\n        percentage: Math.round(proteinPercentage * 100),\r\n        grams: proteinGrams,\r\n        calories: Math.round(proteinCalories)\r\n      },\r\n      carbs: {\r\n        percentage: Math.round(carbPercentage * 100),\r\n        grams: carbGrams,\r\n        calories: Math.round(carbCalories)\r\n      },\r\n      fat: {\r\n        percentage: Math.round(fatPercentage * 100),\r\n        grams: fatGrams,\r\n        calories: Math.round(fatCalories)\r\n      }\r\n    };\r\n  };\r\n\r\n  const generateTurkishMealPlan = (targetCalories, macros, mealCount) => {\r\n    // Öğün sayısına göre kalori dağılımı\r\n    const mealDistribution = {\r\n      '3': { breakfast: 0.25, lunch: 0.40, dinner: 0.35 },\r\n      '4': { breakfast: 0.20, lunch: 0.35, dinner: 0.30, snack1: 0.15 },\r\n      '5': { breakfast: 0.20, lunch: 0.30, dinner: 0.25, snack1: 0.15, snack2: 0.10 },\r\n      '6': { breakfast: 0.20, lunch: 0.25, dinner: 0.25, snack1: 0.10, snack2: 0.10, snack3: 0.10 }\r\n    };\r\n    \r\n    // Türk mutfağına uygun yemek önerileri\r\n    const turkishFoods = {\r\n      breakfast: [\r\n        {\r\n          name: 'Kahvaltı 1',\r\n          description: '2 dilim tam tahıllı ekmek, 2 yumurta, 50g lor peyniri, 4-5 adet zeytin, 1 domates, 1 salatalık, 1 tatlı kaşığı bal, bitki çayı',\r\n          calories: 400\r\n        },\r\n        {\r\n          name: 'Kahvaltı 2',\r\n          description: '1 kase yulaf ezmesi (40g), 1 su bardağı yarım yağlı süt, 1 adet muz, 1 tatlı kaşığı tarçın, 10g ceviz içi',\r\n          calories: 380\r\n        },\r\n        {\r\n          name: 'Kahvaltı 3',\r\n          description: 'Menemen (2 yumurta, 1 domates, 1 biber), 1 dilim tam tahıllı ekmek, 30g beyaz peynir, 5 adet zeytin, bitki çayı',\r\n          calories: 420\r\n        }\r\n      ],\r\n      lunch: [\r\n        {\r\n          name: 'Öğle Yemeği 1',\r\n          description: '120g ızgara tavuk, 1 kase sebzeli bulgur pilavı, mevsim salata (zeytinyağlı, limon), 1 kase yoğurt',\r\n          calories: 550\r\n        },\r\n        {\r\n          name: 'Öğle Yemeği 2',\r\n          description: '100g etli sebze yemeği, 1 porsiyon mercimek çorbası, 1 dilim tam tahıllı ekmek, 1 kase yoğurt',\r\n          calories: 500\r\n        },\r\n        {\r\n          name: 'Öğle Yemeği 3',\r\n          description: '1 porsiyon kuru fasulye, 1/2 porsiyon bulgur pilavı, 1 kase cacık, yeşil salata',\r\n          calories: 520\r\n        }\r\n      ],\r\n      dinner: [\r\n        {\r\n          name: 'Akşam Yemeği 1',\r\n          description: '150g ızgara balık, 1 orta boy haşlanmış patates, mevsim salata (zeytinyağlı, limon)',\r\n          calories: 450\r\n        },\r\n        {\r\n          name: 'Akşam Yemeği 2',\r\n          description: '100g köfte (az yağlı), 1/2 porsiyon bulgur pilavı, 1 kase yoğurt, mevsim salata',\r\n          calories: 480\r\n        },\r\n        {\r\n          name: 'Akşam Yemeği 3',\r\n          description: '1 porsiyon sebzeli tavuk sote, 1 kase çoban salata, 1 dilim tam tahıllı ekmek',\r\n          calories: 430\r\n        }\r\n      ],\r\n      snacks: [\r\n        {\r\n          name: 'Ara Öğün 1',\r\n          description: '1 adet orta boy meyve (elma, armut veya portakal) + 30g tuzsuz badem',\r\n          calories: 200\r\n        },\r\n        {\r\n          name: 'Ara Öğün 2',\r\n          description: '1 kase yarım yağlı yoğurt + 1 tatlı kaşığı bal + 1 yemek kaşığı yulaf',\r\n          calories: 180\r\n        },\r\n        {\r\n          name: 'Ara Öğün 3',\r\n          description: '1 avuç karışık kuruyemiş (badem, ceviz, fındık)',\r\n          calories: 170\r\n        },\r\n        {\r\n          name: 'Ara Öğün 4',\r\n          description: '2 adet tam tahıllı bisküvi + 1 bardak yarım yağlı ayran',\r\n          calories: 150\r\n        },\r\n        {\r\n          name: 'Ara Öğün 5',\r\n          description: '1 küçük kase mevsim meyveleri + 30g çekirdeksiz kuru üzüm',\r\n          calories: 160\r\n        }\r\n      ]\r\n    };\r\n    \r\n    // Öğün planı oluştur\r\n    const mealPlan = {};\r\n    const distributionPlan = mealDistribution[mealCount.toString()];\r\n    \r\n    Object.keys(distributionPlan).forEach(meal => {\r\n      const mealCalories = Math.round(targetCalories * distributionPlan[meal]);\r\n      \r\n      if (meal === 'breakfast') {\r\n        // Rastgele bir kahvaltı seç\r\n        const selectedMeal = turkishFoods.breakfast[Math.floor(Math.random() * turkishFoods.breakfast.length)];\r\n        mealPlan[meal] = {\r\n          ...selectedMeal,\r\n          targetCalories: mealCalories\r\n        };\r\n      } else if (meal === 'lunch') {\r\n        // Rastgele bir öğle yemeği seç\r\n        const selectedMeal = turkishFoods.lunch[Math.floor(Math.random() * turkishFoods.lunch.length)];\r\n        mealPlan[meal] = {\r\n          ...selectedMeal,\r\n          targetCalories: mealCalories\r\n        };\r\n      } else if (meal === 'dinner') {\r\n        // Rastgele bir akşam yemeği seç\r\n        const selectedMeal = turkishFoods.dinner[Math.floor(Math.random() * turkishFoods.dinner.length)];\r\n        mealPlan[meal] = {\r\n          ...selectedMeal,\r\n          targetCalories: mealCalories\r\n        };\r\n      } else {\r\n        // Ara öğün\r\n        const snackIndex = Math.floor(Math.random() * turkishFoods.snacks.length);\r\n        mealPlan[meal] = {\r\n          ...turkishFoods.snacks[snackIndex],\r\n          targetCalories: mealCalories\r\n        };\r\n      }\r\n    });\r\n    \r\n    return mealPlan;\r\n  };\r\n\r\n  const generateDietPlan = (userInfo) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // BMR (Bazal Metabolizma Hızı) Hesaplama\r\n      const bmr = calculateBMR(userInfo);\r\n      \r\n      // TDEE (Toplam Günlük Enerji Harcaması) Hesaplama\r\n      const tdee = calculateTDEE(bmr, userInfo.activityLevel);\r\n      \r\n      // Hedef Kalori Hesaplama\r\n      const targetCalories = calculateTargetCalories(tdee, userInfo.dietGoal);\r\n      \r\n      // Makro Besin Dağılımı\r\n      const macroDistribution = generateMacroDistribution(targetCalories, userInfo.dietGoal);\r\n      \r\n      // Öğün Planı\r\n      const mealPlan = generateTurkishMealPlan(targetCalories, macroDistribution, userInfo.mealCount || 3);\r\n      \r\n      // Diyet Planı Objesi\r\n      const generatedPlan = {\r\n        stats: {\r\n          bmr: bmr,\r\n          tdee: tdee,\r\n          targetCalories: targetCalories\r\n        },\r\n        macros: macroDistribution,\r\n        mealPlan: mealPlan,\r\n        waterIntake: calculateWaterIntake(userInfo.weight)\r\n      };\r\n      \r\n      setDietPlan(generatedPlan);\r\n    } catch (error) {\r\n      console.error(\"Diyet planı oluşturulurken hata:\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    if (!date) return '';\r\n    return date.toLocaleDateString('tr-TR', { \r\n      year: 'numeric', \r\n      month: 'long', \r\n      day: 'numeric' \r\n    });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"text-center py-10\">\r\n        <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-diet-green\"></div>\r\n        <p className=\"mt-3 text-gray-600\">Diyet planınız oluşturuluyor...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!dietPlan) {\r\n    return (\r\n      <div className=\"text-center py-10\">\r\n        <p className=\"text-red-500\">Diyet planı oluşturulamadı. Lütfen daha sonra tekrar deneyin.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n      <h2 className=\"text-2xl font-bold text-diet-green mb-6 text-center\">Kişiselleştirilmiş Beslenme Planınız</h2>\r\n      \r\n      <div className=\"mb-6\">\r\n        <div className=\"flex justify-center space-x-4 border-b\">\r\n          <button \r\n            className={`py-2 px-4 font-medium ${activeTab === 'overview' ? 'text-diet-green border-b-2 border-diet-green' : 'text-gray-500'}`}\r\n            onClick={() => setActiveTab('overview')}\r\n          >\r\n            Genel Bilgiler\r\n          </button>\r\n          <button \r\n            className={`py-2 px-4 font-medium ${activeTab === 'meals' ? 'text-diet-green border-b-2 border-diet-green' : 'text-gray-500'}`}\r\n            onClick={() => setActiveTab('meals')}\r\n          >\r\n            Beslenme Planı\r\n          </button>\r\n          <button \r\n            className={`py-2 px-4 font-medium ${activeTab === 'tips' ? 'text-diet-green border-b-2 border-diet-green' : 'text-gray-500'}`}\r\n            onClick={() => setActiveTab('tips')}\r\n          >\r\n            Beslenme Önerileri\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {activeTab === 'overview' && (\r\n        <div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <h3 className=\"font-bold text-diet-green text-lg mb-2\">Günlük Kalori İhtiyacı</h3>\r\n              <p className=\"text-2xl font-bold text-gray-800\">{dietPlan.stats.targetCalories} kcal</p>\r\n              <div className=\"text-sm text-gray-500 mt-1\">\r\n                <p>Bazal Metabolizma: {dietPlan.stats.bmr} kcal</p>\r\n                <p>Toplam Enerji İhtiyacı: {dietPlan.stats.tdee} kcal</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <h3 className=\"font-bold text-diet-green text-lg mb-2\">Su Tüketimi</h3>\r\n              <p className=\"text-2xl font-bold text-gray-800\">{dietPlan.waterIntake.min}-{dietPlan.waterIntake.max} litre/gün</p>\r\n              <div className=\"text-sm text-gray-500 mt-1\">\r\n                <p>Yaklaşık: {dietPlan.waterIntake.cups} bardak su</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <h3 className=\"font-bold text-diet-green text-lg mb-2\">Makro Besin Dağılımı</h3>\r\n              <div className=\"flex justify-between items-center\">\r\n                <div className=\"text-center\">\r\n                  <p className=\"text-sm text-gray-500\">Protein</p>\r\n                  <p className=\"font-bold text-gray-800\">{dietPlan.macros.protein.grams}g</p>\r\n                  <p className=\"text-xs text-gray-500\">%{dietPlan.macros.protein.percentage}</p>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <p className=\"text-sm text-gray-500\">Karbonhidrat</p>\r\n                  <p className=\"font-bold text-gray-800\">{dietPlan.macros.carbs.grams}g</p>\r\n                  <p className=\"text-xs text-gray-500\">%{dietPlan.macros.carbs.percentage}</p>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <p className=\"text-sm text-gray-500\">Yağ</p>\r\n                  <p className=\"font-bold text-gray-800\">{dietPlan.macros.fat.grams}g</p>\r\n                  <p className=\"text-xs text-gray-500\">%{dietPlan.macros.fat.percentage}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"mb-6\">\r\n            <h3 className=\"font-bold text-diet-green text-xl mb-4\">Beslenme Önerileri</h3>\r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <ul className=\"list-disc list-inside space-y-2\">\r\n                <li>Günde en az 2-3 litre su içmeye özen gösterin.</li>\r\n                <li>Öğünlerinizi düzenli saatlerde tüketin ve öğün atlamayın.</li>\r\n                <li>Besinleri iyice çiğneyerek yavaş yavaş tüketin.</li>\r\n                <li>Yemeklerinizi pişirirken kızartma yerine ızgara, haşlama, fırında pişirme gibi sağlıklı pişirme yöntemlerini tercih edin.</li>\r\n                <li>Tuz tüketiminizi sınırlandırın ve yemeklerinizde baharat kullanmayı tercih edin.</li>\r\n                <li>Rafine şeker tüketimini azaltın, tatlı ihtiyacınız için meyve gibi doğal tatlıları tercih edin.</li>\r\n                <li>Haftada en az 3-4 kez 30-45 dakikalık egzersiz yapın.</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {activeTab === 'meals' && (\r\n        <div>\r\n          <h3 className=\"font-bold text-diet-green text-xl mb-4\">Günlük Beslenme Planı</h3>\r\n          \r\n          <div className=\"space-y-6\">\r\n            {Object.keys(dietPlan.mealPlan).map(meal => {\r\n              const mealInfo = dietPlan.mealPlan[meal];\r\n              let mealTitle = '';\r\n              \r\n              switch(meal) {\r\n                case 'breakfast':\r\n                  mealTitle = 'Kahvaltı';\r\n                  break;\r\n                case 'lunch':\r\n                  mealTitle = 'Öğle Yemeği';\r\n                  break;\r\n                case 'dinner':\r\n                  mealTitle = 'Akşam Yemeği';\r\n                  break;\r\n                default:\r\n                  const snackNumber = meal.replace('snack', '');\r\n                  mealTitle = `Ara Öğün ${snackNumber}`;\r\n              }\r\n              \r\n              return (\r\n                <div key={meal} className=\"bg-gray-50 p-4 rounded-lg\">\r\n                  <div className=\"flex justify-between items-center mb-2\">\r\n                    <h4 className=\"font-bold text-gray-800\">{mealTitle}</h4>\r\n                    <span className=\"text-sm text-gray-500\">Hedef: {mealInfo.targetCalories} kcal</span>\r\n                  </div>\r\n                  <p className=\"text-gray-700\">{mealInfo.description}</p>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n          \r\n          <div className=\"mt-6 text-center\">\r\n            <button \r\n              className=\"bg-diet-green text-white py-2 px-6 rounded-lg hover:bg-green-600 transition\"\r\n              onClick={() => generateDietPlan(userInfo)}\r\n            >\r\n              Farklı Öneriler Al\r\n            </button>\r\n            <p className=\"text-sm text-gray-500 mt-2\">\r\n              Beğenmediğiniz yemekler için alternatif öneriler almak için tıklayın.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {activeTab === 'tips' && (\r\n        <div>\r\n          <h3 className=\"font-bold text-diet-green text-xl mb-4\">Beslenme Önerileri</h3>\r\n          \r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <h4 className=\"font-bold text-gray-800 mb-2\">Protein Kaynakları</h4>\r\n              <p className=\"text-gray-700 mb-2\">Günlük protein ihtiyacınız: <span className=\"font-bold\">{dietPlan.macros.protein.grams}g</span></p>\r\n              <ul className=\"list-disc list-inside space-y-1\">\r\n                <li>Tavuk göğsü (100g) - 24g protein</li>\r\n                <li>Yumurta (1 adet) - 6g protein</li>\r\n                <li>Yoğurt (1 kase) - 10g protein</li>\r\n                <li>Kırmızı et (100g) - 20g protein</li>\r\n                <li>Balık (100g) - 22g protein</li>\r\n                <li>Mercimek (100g pişmiş) - 9g protein</li>\r\n                <li>Peynir (30g) - 7g protein</li>\r\n              </ul>\r\n            </div>\r\n            \r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <h4 className=\"font-bold text-gray-800 mb-2\">Sağlıklı Karbonhidrat Kaynakları</h4>\r\n              <p className=\"text-gray-700 mb-2\">Günlük karbonhidrat ihtiyacınız: <span className=\"font-bold\">{dietPlan.macros.carbs.grams}g</span></p>\r\n              <ul className=\"list-disc list-inside space-y-1\">\r\n                <li>Tam tahıllı ekmek (1 dilim) - 15g karbonhidrat</li>\r\n                <li>Yulaf ezmesi (1/2 kase) - 27g karbonhidrat</li>\r\n                <li>Bulgur (1/2 kase pişmiş) - 17g karbonhidrat</li>\r\n                <li>Kahverengi pirinç (1/2 kase pişmiş) - 22g karbonhidrat</li>\r\n                <li>Patates (1 orta boy) - 30g karbonhidrat</li>\r\n                <li>Muz (1 adet) - 27g karbonhidrat</li>\r\n                <li>Kuru baklagiller (100g pişmiş) - 20g karbonhidrat</li>\r\n              </ul>\r\n            </div>\r\n            \r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <h4 className=\"font-bold text-gray-800 mb-2\">Sağlıklı Yağ Kaynakları</h4>\r\n              <p className=\"text-gray-700 mb-2\">Günlük yağ ihtiyacınız: <span className=\"font-bold\">{dietPlan.macros.fat.grams}g</span></p>\r\n              <ul className=\"list-disc list-inside space-y-1\">\r\n                <li>Zeytinyağı (1 yemek kaşığı) - 14g yağ</li>\r\n                <li>Avokado (1/2 adet) - 15g yağ</li>\r\n                <li>Ceviz (30g) - 19g yağ</li>\r\n                <li>Badem (30g) - 15g yağ</li>\r\n                <li>Fındık (30g) - 18g yağ</li>\r\n                <li>Keten tohumu (1 yemek kaşığı) - 4g yağ</li>\r\n                <li>Yumurta sarısı (1 adet) - 5g yağ</li>\r\n              </ul>\r\n            </div>\r\n            \r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <h4 className=\"font-bold text-gray-800 mb-2\">Dışarıda Yemek Yerken</h4>\r\n              <ul className=\"list-disc list-inside space-y-1\">\r\n                <li>Izgara et, tavuk veya balık tercih edin.</li>\r\n                <li>Salata veya sebze garnitürü isteyin.</li>\r\n                <li>Sulu ve yağlı soslardan kaçının.</li>\r\n                <li>Tam tahıllı ekmek/bulgur/pirinç gibi seçenekleri tercih edin.</li>\r\n                <li>Tatlı yerine meyve veya sade Türk kahvesi tercih edin.</li>\r\n                <li>Alkollü içecekler yerine su, ayran veya şekersiz içecekler için.</li>\r\n              </ul>\r\n            </div>\r\n            \r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <h4 className=\"font-bold text-gray-800 mb-2\">Alternatif Ara Öğün Fikirleri</h4>\r\n              <ul className=\"list-disc list-inside space-y-1\">\r\n                <li>Yarım yağlı lor peyniri (4 yemek kaşığı) + salatalık/domates</li>\r\n                <li>Yarım yağlı ayran (1 bardak) + tam tahıllı kraker (3-4 adet)</li>\r\n                <li>Ceviz, badem, fındık karışımı (1 avuç)</li>\r\n                <li>Mevsim meyveleri (1 porsiyon)</li>\r\n                <li>Ev yapımı kefir (1 su bardağı) + tarçın</li>\r\n                <li>Tam tahıllı ekmek (1 dilim) + 1 tatlı kaşığı pekmez</li>\r\n                <li>Labne peynir (2 yemek kaşığı) + salatalık</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DietPlanGenerator; ","import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport ChatBubble from './ChatBubble';\r\nimport UserInfoForm from './UserInfoForm';\r\nimport DietPlanGenerator from './DietPlanGenerator';\r\n\r\nconst Chat = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [chatList, setChatList] = useState([]);\r\n  const [activeChatId, setActiveChatId] = useState(null);\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  const [showUserInfoForm, setShowUserInfoForm] = useState(false);\r\n  const [showDietPlan, setShowDietPlan] = useState(false);\r\n  const [userInfo, setUserInfo] = useState(null);\r\n  const messagesEndRef = useRef(null);\r\n  const textareaRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    fetchChatList();\r\n    checkUserInfo();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (activeChatId) {\r\n      fetchChatHistory();\r\n    }\r\n  }, [activeChatId]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages, showUserInfoForm, showDietPlan]);\r\n\r\n  const checkUserInfo = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadı');\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.get('/api/user-info', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.data.userInfo) {\r\n        setUserInfo(response.data.userInfo);\r\n      } else {\r\n        // Kullanıcı bilgisi yoksa formu göster\r\n        // Gerçek uygulamada sohbet başlattıktan sonra göster\r\n        // Şimdilik yorum satırı olarak bırakıyoruz\r\n        // setShowUserInfoForm(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Kullanıcı bilgisi kontrolü sırasında hata:', error);\r\n    }\r\n  };\r\n\r\n  const fetchChatList = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadı');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.get('/api/chat-list', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      // Sohbet listesini ayarla\r\n      setChatList(response.data);\r\n      \r\n      // İlk sohbeti aktif olarak işaretle (eğer liste boş değilse)\r\n      if (response.data.length > 0 && !activeChatId) {\r\n        setActiveChatId(response.data[0].id);\r\n        fetchChatHistory(response.data[0].id);\r\n      } else if (response.data.length === 0) {\r\n        // Sohbet listesi boşsa yeni bir sohbet oluştur\r\n        createNewChat();\r\n      }\r\n    } catch (error) {\r\n      console.error('Sohbet listesi alınırken hata:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchChatHistory = async (chatId) => {\r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadı');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.get(`/api/chat-history/${chatId}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      // Başarılı yanıtta mesajları güncelle\r\n      if (response.data.chatHistory && Array.isArray(response.data.chatHistory)) {\r\n        setMessages(response.data.chatHistory);\r\n      } else {\r\n        // Boş mesaj listesi\r\n        setMessages([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Sohbet geçmişi alınırken hata:', error);\r\n      setMessages([]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const createNewChat = () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadı');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // Yeni sohbet oluştur\r\n      axios.post('/api/create-chat', {}, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      })\r\n      .then(response => {\r\n        if (response.data && response.data.id) {\r\n          // Yeni sohbeti listeye ekle\r\n          const newChat = {\r\n            id: response.data.id,\r\n            title: response.data.title || 'Yeni Sohbet',\r\n            lastMessage: new Date().toISOString()\r\n          };\r\n          \r\n          setChatList(prevList => [...prevList, newChat]);\r\n          setActiveChatId(response.data.id);\r\n          \r\n          // Yeni sohbetin geçmişini yükle (boş olacak)\r\n          setMessages([{\r\n            role: 'assistant',\r\n            content: `Merhaba! 😊 Diyet Dostu'na hoş geldin!\r\n\r\nBen senin kişisel beslenme ve spor asistanınım. Bana istediğin konuda soru sorabilirsin.\r\n\r\nTürk mutfağına uygun, kolay ve sağlıklı tarifler sunarak diyet hedeflerine ulaşmana yardımcı olacağım.\r\n\r\nİşte sana yardımcı olabileceğim konular:\r\n🥗 Türk mutfağına uygun düşük kalorili/yüksek proteinli tarifler\r\n🏋️‍♀️ Kişiselleştirilmiş egzersiz planları\r\n📸 Yemek fotoğraflarını analiz ederek besin değeri tahmini\r\n📝 Haftalık beslenme programı oluşturma\r\n📊 Kilo takibi ve gelişim analizi\r\n\r\nSormak istediğin bir şey var mı? Birlikte sağlıklı bir yaşam yolculuğuna başlayalım! 💪`\r\n          }]);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('Yeni sohbet oluşturulurken hata:', error);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n    } catch (error) {\r\n      console.error('Yeni sohbet oluşturulurken hata:', error);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const deleteChat = async (chatId) => {\r\n    if (!window.confirm('Bu sohbeti silmek istediğinizden emin misiniz?')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadı');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // API'ya istek gönder\r\n      const response = await axios.delete(`/api/delete-chat/${chatId}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      // Başarılı yanıtta UI'ı güncelle\r\n      if (response.data.success) {\r\n        // Sohbet listesinden sil\r\n        setChatList(prevList => prevList.filter(chat => chat.id !== chatId));\r\n        \r\n        // Eğer aktif sohbet siliniyorsa başka bir sohbete geç\r\n        if (chatId === activeChatId) {\r\n          const remainingChats = chatList.filter(chat => chat.id !== chatId);\r\n          const nextChat = remainingChats.length > 0 ? remainingChats[0] : null;\r\n          \r\n          if (nextChat) {\r\n            setActiveChatId(nextChat.id);\r\n            // Bu sohbetin geçmişini yükle\r\n            fetchChatHistory(nextChat.id);\r\n          } else {\r\n            // Hiç sohbet kalmadıysa yeni bir sohbet oluştur\r\n            createNewChat();\r\n          }\r\n        }\r\n        \r\n        // Bildirim göster\r\n        alert('Sohbet başarıyla silindi.');\r\n      } else {\r\n        alert('Sohbet silinirken bir hata oluştu.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Sohbet silinirken hata:', error);\r\n      alert('Sohbet silinirken bir hata oluştu. Lütfen tekrar deneyin.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const clearChatHistory = async () => {\r\n    try {\r\n      if (!window.confirm('Sohbet geçmişini temizlemek istediğinizden emin misiniz?')) {\r\n        return;\r\n      }\r\n      \r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadı');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // API'ya istek gönder\r\n      const response = await axios.post('/api/clear-chat', {}, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.data.success) {\r\n        // Başarılı yanıtta mesajları güncelle\r\n        setMessages(response.data.chatHistory || [{\r\n          role: 'assistant',\r\n          content: `Merhaba! 😊 Diyet Dostu'na hoş geldin!\r\n\r\nBen senin kişisel beslenme ve spor asistanınım. Sohbet geçmişin temizlendi ve yeni bir konuşma başlatıldı.\r\n\r\nTürk mutfağına uygun, kolay ve sağlıklı tarifler sunarak diyet hedeflerine ulaşmana yardımcı olacağım.\r\n\r\nİşte sana yardımcı olabileceğim konular:\r\n🥗 Türk mutfağına uygun düşük kalorili/yüksek proteinli tarifler\r\n🏋️‍♀️ Kişiselleştirilmiş egzersiz planları\r\n📸 Yemek fotoğraflarını analiz ederek besin değeri tahmini\r\n📝 Haftalık beslenme programı oluşturma\r\n📊 Kilo takibi ve gelişim analizi\r\n\r\nSormak istediğin bir şey var mı? Birlikte sağlıklı bir yaşam yolculuğuna başlayalım! 💪`\r\n        }]);\r\n        \r\n        // Aktif sohbeti güncelle\r\n        const updatedList = chatList.map(chat => {\r\n          if (chat.id === activeChatId) {\r\n            return { ...chat, title: 'Temizlenmiş Sohbet' };\r\n          }\r\n          return chat;\r\n        });\r\n        \r\n        setChatList(updatedList);\r\n        \r\n        // Formları gizle\r\n        setShowUserInfoForm(false);\r\n        setShowDietPlan(false);\r\n        \r\n        // Başarı mesajı göster\r\n        alert('Sohbet geçmişi başarıyla temizlendi.');\r\n      } else {\r\n        // Hata mesajı\r\n        alert('Sohbet geçmişi temizlenirken bir hata oluştu.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Sohbet geçmişi temizlenirken hata:', error);\r\n      // Hata durumunda kullanıcıyı bilgilendir\r\n      alert('Sohbet geçmişi temizlenirken bir hata oluştu. Lütfen tekrar deneyin.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    if (messagesEndRef.current) {\r\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSubmit(e);\r\n    }\r\n  };\r\n\r\n  const handleImageUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setImageFile(file);\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setImagePreview(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const clearImage = () => {\r\n    setImageFile(null);\r\n    setImagePreview(null);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const message = input.trim();\r\n    \r\n    if (!message && !imageFile) return;\r\n    \r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadı');\r\n        setMessages((prev) => [...prev, {\r\n          role: 'assistant',\r\n          content: 'Oturum süreniz dolmuş görünüyor. Lütfen tekrar giriş yapın.'\r\n        }]);\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // Kullanıcı mesajını ekle\r\n      const userMessage = {\r\n        role: 'user',\r\n        content: message\r\n      };\r\n      \r\n      setMessages((prev) => [...prev, userMessage]);\r\n      setInput('');\r\n      \r\n      // Özel komutları kontrol et\r\n      if (message.toLowerCase().includes('kişisel bilgilerimi girmek istiyorum') ||\r\n          message.toLowerCase().includes('diyet programı oluşturmak istiyorum') ||\r\n          message.toLowerCase().includes('bilgilerimi güncellemek istiyorum')) {\r\n        \r\n        setTimeout(() => {\r\n          setShowUserInfoForm(true);\r\n          setIsLoading(false);\r\n        }, 500);\r\n        \r\n        return;\r\n      }\r\n      \r\n      if (message.toLowerCase().includes('diyet planımı göster') ||\r\n          message.toLowerCase().includes('beslenme planımı göster') ||\r\n          message.toLowerCase().includes('beslenme planı oluştur')) {\r\n        \r\n        if (!userInfo) {\r\n          // Kullanıcı bilgisi yoksa bilgi formunu göster\r\n          setTimeout(() => {\r\n            setMessages((prev) => [...prev, {\r\n              role: 'assistant',\r\n              content: 'Diyet planı oluşturmak için öncelikle kişisel bilgilerinizi girmeniz gerekiyor. Bilgi formunu açıyorum...'\r\n            }]);\r\n            \r\n            setTimeout(() => {\r\n              setShowUserInfoForm(true);\r\n              setIsLoading(false);\r\n            }, 500);\r\n          }, 500);\r\n        } else {\r\n          // Kullanıcı bilgisi varsa diyet planını göster\r\n          setTimeout(() => {\r\n            setMessages((prev) => [...prev, {\r\n              role: 'assistant',\r\n              content: 'İşte size özel hazırladığım beslenme planı:'\r\n            }]);\r\n            \r\n            setTimeout(() => {\r\n              setShowDietPlan(true);\r\n              setIsLoading(false);\r\n            }, 500);\r\n          }, 500);\r\n        }\r\n        \r\n        return;\r\n      }\r\n      \r\n      // Eğer görsel varsa, farklı bir endpoint kullanarak görsel analizi yapın\r\n      if (imageFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', imageFile);\r\n        \r\n        try {\r\n          console.log('Görsel analizi isteği gönderiliyor...');\r\n          const response = await axios.post(\r\n            '/api/analyze-image',\r\n            formData,\r\n            {\r\n              headers: { \r\n                Authorization: `Bearer ${token}`,\r\n                'Content-Type': 'multipart/form-data' \r\n              }\r\n            }\r\n          );\r\n          \r\n          console.log('Görsel analiz yanıtı:', response.data);\r\n          \r\n          // Analiz sonucunu göster (eğer socket.io ile otomatik gelmiyorsa)\r\n          if (!response.data.message || response.data.message !== 'Görüntü analiz edildi') {\r\n            // Mesaj yanıtı sadece bildirim içeriyorsa, birkaç saniye sonra sohbet geçmişini güncelle\r\n            setTimeout(() => {\r\n              fetchChatHistory(activeChatId);\r\n            }, 1000);\r\n          }\r\n          \r\n          // Görsel önizlemeyi temizle\r\n          clearImage();\r\n        } catch (imgError) {\r\n          console.error('Görsel analiz hatası:', imgError);\r\n          \r\n          // Hata mesajını sohbete ekle\r\n          setMessages((prev) => [...prev, {\r\n            role: 'assistant',\r\n            content: 'Görsel analiz edilirken bir hata oluştu. Lütfen daha sonra tekrar deneyin veya başka bir görsel yükleyin.'\r\n          }]);\r\n        }\r\n      } else {\r\n        // Görsel yoksa normal mesaj gönderimi yap\r\n        try {\r\n          console.log('Mesaj gönderiliyor:', message);\r\n          console.log('Aktif sohbet ID:', activeChatId);\r\n          \r\n          const response = await axios.post(\r\n            '/api/chat',\r\n            {\r\n              message,\r\n              chatId: activeChatId\r\n            },\r\n            {\r\n              headers: { Authorization: `Bearer ${token}` }\r\n            }\r\n          );\r\n          \r\n          console.log('API yanıtı:', response.data);\r\n          \r\n          // Asistan yanıtını ekle (cevap varsa)\r\n          if (response.data.response) {\r\n            const assistantMessage = {\r\n              role: 'assistant',\r\n              content: response.data.response\r\n            };\r\n            \r\n            setMessages((prev) => [...prev, assistantMessage]);\r\n          } else {\r\n            // Yanıt yoksa, sohbet geçmişini güncellemek için bekle\r\n            setTimeout(() => {\r\n              fetchChatHistory(activeChatId);\r\n            }, 1000);\r\n          }\r\n        } catch (chatError) {\r\n          console.error('Mesaj gönderme hatası:', chatError);\r\n          \r\n          // Hata mesajını sohbete ekle ve daha açıklayıcı hata mesajları sağla\r\n          let errorMessage = 'Üzgünüm, mesajınız gönderilemedi. Lütfen internet bağlantınızı kontrol edin veya daha sonra tekrar deneyin.';\r\n          \r\n          if (chatError.response) {\r\n            // Sunucu yanıtı var, hata kodu ile birlikte\r\n            console.error('Sunucu yanıt kodu:', chatError.response.status);\r\n            console.error('Sunucu hata mesajı:', chatError.response.data);\r\n            \r\n            if (chatError.response.status === 401 || chatError.response.status === 403) {\r\n              errorMessage = 'Oturum süreniz dolmuş görünüyor. Lütfen tekrar giriş yapın.';\r\n            } else if (chatError.response.status === 404) {\r\n              errorMessage = 'API endpoint bulunamadı. Sunucu yapılandırması kontrol edilmeli.';\r\n            } else if (chatError.response.status === 500) {\r\n              errorMessage = 'Sunucu hatası. Lütfen daha sonra tekrar deneyin.';\r\n            }\r\n          } else if (chatError.request) {\r\n            // İstek yapıldı ama yanıt alınamadı\r\n            console.error('Yanıt alınamadı:', chatError.request);\r\n            errorMessage = 'Sunucuya bağlanılamıyor. Lütfen sunucunun çalıştığından emin olun.';\r\n          }\r\n          \r\n          setMessages((prev) => [...prev, {\r\n            role: 'assistant',\r\n            content: errorMessage\r\n          }]);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Mesaj gönderilirken genel hata:', error);\r\n      \r\n      // Hata mesajını sohbete ekleyin\r\n      const errorMessage = {\r\n        role: 'assistant',\r\n        content: 'Üzgünüm, bir hata oluştu. Lütfen daha sonra tekrar deneyin.'\r\n      };\r\n      \r\n      setMessages((prev) => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n      setTimeout(scrollToBottom, 100);\r\n    }\r\n  };\r\n\r\n  const handleUserInfoSubmit = (formData) => {\r\n    // Kullanıcı bilgilerini kaydet\r\n    setUserInfo(formData);\r\n    setShowUserInfoForm(false);\r\n    \r\n    // Kullanıcı bilgileri alındığında diyet planını göster\r\n    setTimeout(() => {\r\n      setMessages((prev) => [...prev, {\r\n        role: 'assistant',\r\n        content: `Teşekkürler! Bilgileriniz kaydedildi. \r\n\r\nSize özel bir beslenme planı hazırlıyorum. Bu plan, hedeflerinize, tercihlerinize ve ihtiyaçlarınıza göre özelleştirilmiştir.\r\n\r\nİşte size özel beslenme planım:`\r\n      }]);\r\n      \r\n      setTimeout(() => {\r\n        setShowDietPlan(true);\r\n      }, 1000);\r\n    }, 500);\r\n  };\r\n\r\n  const toggleSidebar = () => {\r\n    setSidebarOpen(!sidebarOpen);\r\n  };\r\n\r\n  // Eksik olduğu için not silme fonksiyonunu ekliyorum\r\n  const deleteNote = async (noteId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadı');\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.delete(`/api/delete-note/${noteId}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.data.success) {\r\n        // Notu listeden kaldır\r\n        setMessages(messages.filter(msg => {\r\n          // Not ID'si mesaj içinde tanımlanmışsa (data-note-id gibi bir özellik ile)\r\n          return !(msg.type === 'note' && msg.noteId === noteId);\r\n        }));\r\n        \r\n        // Bildirim göster\r\n        alert('Not başarıyla silindi');\r\n      } else {\r\n        alert('Not silinirken bir hata oluştu');\r\n      }\r\n    } catch (error) {\r\n      console.error('Not silinirken hata:', error);\r\n      alert('Not silinirken bir hata oluştu. Lütfen tekrar deneyin.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-[calc(100vh-64px)]\">\r\n      {/* Sol Kenar Çubuğu - Sohbet Listesi */}\r\n      <div className={`chat-sidebar ${sidebarOpen ? 'open' : 'closed'}`}>\r\n        <div className=\"p-4 border-b flex justify-between items-center\">\r\n          <h3 className=\"font-semibold text-gray-700\">Sohbetlerim</h3>\r\n          <button \r\n            onClick={createNewChat}\r\n            className=\"bg-diet-green text-white p-2 rounded-lg hover:bg-green-600 transition-colors\"\r\n            title=\"Yeni sohbet başlat\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"overflow-y-auto h-full\">\r\n          {chatList.map((chat) => (\r\n            <div \r\n              key={chat.id}\r\n              className={`p-3 border-b cursor-pointer hover:bg-gray-100 flex justify-between items-center ${chat.id === activeChatId ? 'bg-diet-green bg-opacity-10 border-l-4 border-diet-green' : ''}`}\r\n            >\r\n              <div className=\"flex-1\" onClick={() => setActiveChatId(chat.id)}>\r\n                <p className=\"font-medium text-gray-800\">{chat.title}</p>\r\n                <p className=\"text-xs text-gray-500\">{chat.date}</p>\r\n              </div>\r\n              {chat.id !== 'current' && (\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    deleteChat(chat.id);\r\n                  }}\r\n                  className=\"text-gray-400 hover:text-red-500 p-1\"\r\n                  title=\"Sohbeti sil\"\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                </button>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Sohbet Bölümü */}\r\n      <div className=\"flex-1 flex flex-col relative\">\r\n        {/* Mobil görünümde kenar çubuğu açma/kapama butonu */}\r\n        <button \r\n          className=\"sidebar-toggle\"\r\n          onClick={toggleSidebar}\r\n          title={sidebarOpen ? \"Kenar çubuğunu kapat\" : \"Kenar çubuğunu aç\"}\r\n        >\r\n          {sidebarOpen ? (\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 19l-7-7 7-7m8 14l-7-7 7-7\" />\r\n            </svg>\r\n          ) : (\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 5l7 7-7 7M5 5l7 7-7 7\" />\r\n            </svg>\r\n          )}\r\n        </button>\r\n        \r\n        <div className=\"p-4 bg-diet-green text-white flex justify-between items-center\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"diyet-dostu-avatar\">\r\n              <div className=\"avatar-icon\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"#4CAF50\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#e8f5e9\" />\r\n                  <path d=\"M17 8.5C17 6.01 14.99 4 12.5 4C10.01 4 8 6.01 8 8.5C8 11.99 12.5 16.5 12.5 16.5C12.5 16.5 17 11.99 17 8.5ZM12.5 9.5C11.95 9.5 11.5 9.05 11.5 8.5C11.5 7.95 11.95 7.5 12.5 7.5C13.05 7.5 13.5 7.95 13.5 8.5C13.5 9.05 13.05 9.5 12.5 9.5Z\" fill=\"#4CAF50\" />\r\n                  <path d=\"M16 15H9C8.45 15 8 15.45 8 16C8 16.55 8.45 17 9 17H16C16.55 17 17 16.55 17 16C17 15.45 16.55 15 16 15Z\" fill=\"#4CAF50\" />\r\n                  <path d=\"M12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20ZM12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z\" fill=\"#4CAF50\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold\">Diyet Dostu 🥗</h2>\r\n              <p className=\"text-sm\">Sağlıklı yaşam asistanınız</p>\r\n            </div>\r\n          </div>\r\n          <button \r\n            onClick={clearChatHistory}\r\n            className=\"bg-white bg-opacity-20 hover:bg-opacity-30 text-white py-1 px-3 rounded-lg text-sm transition-colors duration-200\"\r\n            title=\"Sohbet geçmişini temizle\"\r\n          >\r\n            Sohbeti Temizle\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"flex-grow overflow-y-auto p-4 chat-messages\">\r\n          {messages.length === 0 ? (\r\n            <div className=\"flex items-center justify-center h-full\">\r\n              <div className=\"text-center\">\r\n                <div className=\"text-4xl mb-4\">👋</div>\r\n                <p className=\"text-xl font-medium text-gray-700 mb-2\">Diyet Dostu'na Hoş Geldin!</p>\r\n                <p className=\"text-gray-500 mb-4\">Beslenme, diyet veya fitness hakkında bir şeyler sor.</p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            messages.map((msg, index) => (\r\n              <div key={index}>\r\n                {msg.type === 'note' ? (\r\n                  <div className=\"note-container\">\r\n                    <ChatBubble message={msg} />\r\n                    <button \r\n                      onClick={() => deleteNote(msg.noteId)}\r\n                      className=\"delete-note-btn\"\r\n                      title=\"Notu sil\"\r\n                    >\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                        <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                ) : (\r\n                  <ChatBubble message={msg} />\r\n                )}\r\n              </div>\r\n            ))\r\n          )}\r\n          \r\n          {isLoading && (\r\n            <div className=\"flex items-center space-x-2 text-gray-500 p-4 bg-gray-100 rounded-lg max-w-[80%] mr-auto my-3 shadow-md loading-container\">\r\n              <div className=\"loader-container\">\r\n                <div className=\"food-icons\">\r\n                  <span className=\"icon apple\">🍎</span>\r\n                  <span className=\"icon broccoli\">🥦</span>\r\n                  <span className=\"icon avocado\">🥑</span>\r\n                </div>\r\n                <p className=\"ml-2 font-medium\">Diyet Dostu düşünüyor...</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Kullanıcı bilgi formu */}\r\n          {showUserInfoForm && (\r\n            <div className=\"my-4 p-2 bg-white rounded-lg shadow-lg\">\r\n              <UserInfoForm \r\n                onSubmit={handleUserInfoSubmit} \r\n                onCancel={() => setShowUserInfoForm(false)}\r\n              />\r\n            </div>\r\n          )}\r\n          \r\n          {/* Diyet planı */}\r\n          {showDietPlan && userInfo && (\r\n            <div className=\"my-4 p-2 bg-white rounded-lg shadow-lg\">\r\n              <DietPlanGenerator userInfo={userInfo} />\r\n            </div>\r\n          )}\r\n          \r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n\r\n        <div className=\"p-4 border-t\">\r\n          <form onSubmit={handleSubmit} className=\"flex items-end gap-2\">\r\n            <div className=\"flex-1 relative\">\r\n              <textarea\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                onKeyDown={handleKeyDown}\r\n                ref={textareaRef}\r\n                placeholder=\"Diyet Dostu'na bir soru sor...\"\r\n                className=\"w-full p-3 pr-12 border border-gray-300 rounded-lg resize-none focus:border-diet-green focus:ring-1 focus:ring-diet-green outline-none min-h-[50px] max-h-[200px]\"\r\n                rows=\"1\"\r\n              ></textarea>\r\n              \r\n              <label htmlFor=\"image-upload\" className=\"absolute right-2 bottom-2 cursor-pointer text-gray-500 hover:text-diet-green p-1\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                </svg>\r\n                <input\r\n                  id=\"image-upload\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={handleImageUpload}\r\n                  className=\"hidden\"\r\n                />\r\n              </label>\r\n            </div>\r\n            \r\n            <button\r\n              type=\"submit\"\r\n              disabled={isLoading || (!input.trim() && !imageFile)}\r\n              className={`p-3 rounded-lg ${isLoading || (!input.trim() && !imageFile) ? 'bg-gray-300 cursor-not-allowed' : 'bg-diet-green text-white hover:bg-green-600'} transition-colors`}\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 5l7 7-7 7M5 5l7 7-7 7\" />\r\n              </svg>\r\n            </button>\r\n          </form>\r\n          \r\n          {imagePreview && (\r\n            <div className=\"mt-2 relative\">\r\n              <img src={imagePreview} alt=\"Yüklenen görsel\" className=\"h-20 object-contain rounded-md border border-gray-300\" />\r\n              <button \r\n                onClick={clearImage}\r\n                className=\"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors\"\r\n                title=\"Görseli kaldır\"\r\n              >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat; ","import React from 'react';\r\n\r\nconst ExerciseCard = ({ exercise, onToggleComplete }) => {\r\n  const { exercise: name, duration, completed } = exercise;\r\n  \r\n  return (\r\n    <div className=\"exercise-card\">\r\n      <div className=\"flex items-center\">\r\n        <span className=\"text-diet-orange mr-2\">🏋️‍♀️</span>\r\n        <div>\r\n          <h4 className=\"font-medium\">{name}</h4>\r\n          <p className=\"text-sm text-gray-600\">{duration}</p>\r\n        </div>\r\n      </div>\r\n      \r\n      <div \r\n        className={`complete-button ${completed ? 'completed' : ''}`}\r\n        onClick={() => onToggleComplete(exercise)}\r\n      >\r\n        {completed && (\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\" className=\"w-4 h-4\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\" />\r\n          </svg>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExerciseCard; ","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport ExerciseCard from './ExerciseCard';\r\n\r\nconst Profile = () => {\r\n  const [userData, setUserData] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('bilgiler');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [newNote, setNewNote] = useState('');\r\n  const [newWeight, setNewWeight] = useState('');\r\n  const [diseases, setDiseases] = useState('');\r\n  const [medications, setMedications] = useState('');\r\n  const [healthInfoEditing, setHealthInfoEditing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchUserData();\r\n  }, []);\r\n\r\n  const fetchUserData = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        throw new Error('Oturum zaman aşımına uğradı. Lütfen tekrar giriş yapın.');\r\n      }\r\n      \r\n      const response = await axios.get('http://localhost:5000/api/profile', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      setUserData(response.data);\r\n      // Sağlık bilgilerini set et\r\n      if (response.data.info) {\r\n        setDiseases(response.data.info.diseases || '');\r\n        setMedications(response.data.info.medications || '');\r\n      }\r\n    } catch (error) {\r\n      console.error('Profil bilgileri yüklenirken hata:', error);\r\n      setError('Profil bilgileri yüklenemedi. Lütfen daha sonra tekrar deneyin.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleExercise = async (exercise) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        throw new Error('Oturum zaman aşımına uğradı. Lütfen tekrar giriş yapın.');\r\n      }\r\n      \r\n      // Egzersiz tamamlandı durumunu değiştir\r\n      await axios.post(\r\n        'http://localhost:5000/api/profile/mark-complete',\r\n        {\r\n          type: 'exercise',\r\n          item: exercise,\r\n          completed: !exercise.completed\r\n        },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      \r\n      // Profil verilerini güncelle\r\n      fetchUserData();\r\n    } catch (error) {\r\n      console.error('Egzersiz durumu güncellenirken hata:', error);\r\n    }\r\n  };\r\n\r\n  const handleToggleMeal = async (day, meal) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        throw new Error('Oturum zaman aşımına uğradı. Lütfen tekrar giriş yapın.');\r\n      }\r\n      \r\n      // Yemek tamamlandı durumunu değiştir\r\n      await axios.post(\r\n        'http://localhost:5000/api/profile/mark-complete',\r\n        {\r\n          type: 'meal',\r\n          day,\r\n          meal: meal.name,\r\n          completed: !meal.completed\r\n        },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      \r\n      // Profil verilerini güncelle\r\n      fetchUserData();\r\n    } catch (error) {\r\n      console.error('Yemek durumu güncellenirken hata:', error);\r\n    }\r\n  };\r\n\r\n  const handleToggleNote = async (note) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        throw new Error('Oturum zaman aşımına uğradı. Lütfen tekrar giriş yapın.');\r\n      }\r\n      \r\n      // Not tamamlandı durumunu değiştir\r\n      await axios.post(\r\n        'http://localhost:5000/api/profile/mark-complete',\r\n        {\r\n          type: 'note',\r\n          note,\r\n          completed: !note.completed\r\n        },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      \r\n      // Profil verilerini güncelle\r\n      fetchUserData();\r\n    } catch (error) {\r\n      console.error('Not durumu güncellenirken hata:', error);\r\n    }\r\n  };\r\n\r\n  const handleAddNote = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!newNote.trim()) return;\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        throw new Error('Oturum zaman aşımına uğradı. Lütfen tekrar giriş yapın.');\r\n      }\r\n      \r\n      // Not ekle\r\n      await axios.post(\r\n        'http://localhost:5000/api/profile/update',\r\n        {\r\n          type: 'note',\r\n          text: newNote\r\n        },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      \r\n      // Not alanını temizle\r\n      setNewNote('');\r\n      \r\n      // Profil verilerini güncelle\r\n      fetchUserData();\r\n    } catch (error) {\r\n      console.error('Not eklenirken hata:', error);\r\n    }\r\n  };\r\n\r\n  const handleAddWeight = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!newWeight.trim()) return;\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        throw new Error('Oturum zaman aşımına uğradı. Lütfen tekrar giriş yapın.');\r\n      }\r\n      \r\n      // Kilo ekle\r\n      await axios.post(\r\n        'http://localhost:5000/api/profile/update',\r\n        {\r\n          type: 'weight',\r\n          weight: parseFloat(newWeight)\r\n        },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      \r\n      // Kilo alanını temizle\r\n      setNewWeight('');\r\n      \r\n      // Profil verilerini güncelle\r\n      fetchUserData();\r\n    } catch (error) {\r\n      console.error('Kilo eklenirken hata:', error);\r\n    }\r\n  };\r\n\r\n  const handleSaveHealthInfo = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        throw new Error('Oturum zaman aşımına uğradı. Lütfen tekrar giriş yapın.');\r\n      }\r\n      \r\n      // Sağlık bilgilerini güncelle\r\n      await axios.post(\r\n        'http://localhost:5000/api/profile/update',\r\n        {\r\n          type: 'health',\r\n          diseases: diseases,\r\n          medications: medications\r\n        },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      \r\n      // Düzenleme modunu kapat\r\n      setHealthInfoEditing(false);\r\n      \r\n      // Profil verilerini güncelle\r\n      fetchUserData();\r\n    } catch (error) {\r\n      console.error('Sağlık bilgileri güncellenirken hata:', error);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-[60vh]\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 border-4 border-diet-green border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Profil bilgileri yükleniyor...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mx-auto max-w-md mt-10\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!userData) {\r\n    return (\r\n      <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mx-auto max-w-md mt-10\">\r\n        Kullanıcı verileri bulunamadı.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Sekme butonları\r\n  const renderTabs = () => (\r\n    <div className=\"flex flex-wrap border-b mb-6\">\r\n      <button\r\n        onClick={() => setActiveTab('bilgiler')}\r\n        className={`px-4 py-2 font-medium ${activeTab === 'bilgiler' ? 'text-diet-green border-b-2 border-diet-green' : 'text-gray-500'}`}\r\n      >\r\n        Kişisel Bilgiler\r\n      </button>\r\n      <button\r\n        onClick={() => setActiveTab('kilo')}\r\n        className={`px-4 py-2 font-medium ${activeTab === 'kilo' ? 'text-diet-green border-b-2 border-diet-green' : 'text-gray-500'}`}\r\n      >\r\n        Kilo Takibi\r\n      </button>\r\n      <button\r\n        onClick={() => setActiveTab('beslenme')}\r\n        className={`px-4 py-2 font-medium ${activeTab === 'beslenme' ? 'text-diet-green border-b-2 border-diet-green' : 'text-gray-500'}`}\r\n      >\r\n        Beslenme Planı\r\n      </button>\r\n      <button\r\n        onClick={() => setActiveTab('egzersiz')}\r\n        className={`px-4 py-2 font-medium ${activeTab === 'egzersiz' ? 'text-diet-green border-b-2 border-diet-green' : 'text-gray-500'}`}\r\n      >\r\n        Egzersiz Planı\r\n      </button>\r\n      <button\r\n        onClick={() => setActiveTab('saglik')}\r\n        className={`px-4 py-2 font-medium ${activeTab === 'saglik' ? 'text-diet-green border-b-2 border-diet-green' : 'text-gray-500'}`}\r\n      >\r\n        Sağlık Bilgileri\r\n      </button>\r\n      <button\r\n        onClick={() => setActiveTab('notlar')}\r\n        className={`px-4 py-2 font-medium ${activeTab === 'notlar' ? 'text-diet-green border-b-2 border-diet-green' : 'text-gray-500'}`}\r\n      >\r\n        Notlarım\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  // Sağlık Bilgileri Sekmesi\r\n  const renderHealthTab = () => (\r\n    <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n      <h2 className=\"text-2xl font-bold text-diet-green mb-4\">Sağlık Bilgileri</h2>\r\n      <p className=\"text-gray-600 mb-4\">Bu bilgiler, size özel diyet ve egzersiz önerilerinde dikkate alınır.</p>\r\n      \r\n      {healthInfoEditing ? (\r\n        <form onSubmit={handleSaveHealthInfo} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-gray-700 font-medium mb-2\">Rahatsızlıklar / Hastalıklar</label>\r\n            <textarea\r\n              value={diseases}\r\n              onChange={(e) => setDiseases(e.target.value)}\r\n              placeholder=\"Diyabet, hipertansiyon, çölyak, laktoz intoleransı vb.\"\r\n              className=\"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-diet-green\"\r\n              rows=\"3\"\r\n            ></textarea>\r\n            <p className=\"text-sm text-gray-500 mt-1\">Bilinen tüm rahatsızlıklarınızı veya hastalıklarınızı yazın.</p>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-gray-700 font-medium mb-2\">Kullandığınız İlaçlar</label>\r\n            <textarea\r\n              value={medications}\r\n              onChange={(e) => setMedications(e.target.value)}\r\n              placeholder=\"İlaç adı, dozaj bilgisi...\"\r\n              className=\"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-diet-green\"\r\n              rows=\"3\"\r\n            ></textarea>\r\n            <p className=\"text-sm text-gray-500 mt-1\">Düzenli kullandığınız ilaçları ve dozaj bilgilerini yazın.</p>\r\n          </div>\r\n          \r\n          <div className=\"flex space-x-2 pt-2\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"bg-diet-green text-white py-2 px-4 rounded-md hover:bg-green-600 transition\"\r\n            >\r\n              Kaydet\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setHealthInfoEditing(false)}\r\n              className=\"bg-gray-200 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-300 transition\"\r\n            >\r\n              İptal\r\n            </button>\r\n          </div>\r\n        </form>\r\n      ) : (\r\n        <div className=\"space-y-6\">\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-diet-green mb-2\">Rahatsızlıklar / Hastalıklar</h3>\r\n            <div className=\"bg-gray-50 p-4 rounded-md border border-gray-200\">\r\n              {userData.info?.diseases ? (\r\n                <p className=\"text-gray-700\">{userData.info.diseases}</p>\r\n              ) : (\r\n                <p className=\"text-gray-500 italic\">Henüz bilgi girilmemiş</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-diet-green mb-2\">Kullandığınız İlaçlar</h3>\r\n            <div className=\"bg-gray-50 p-4 rounded-md border border-gray-200\">\r\n              {userData.info?.medications ? (\r\n                <p className=\"text-gray-700\">{userData.info.medications}</p>\r\n              ) : (\r\n                <p className=\"text-gray-500 italic\">Henüz bilgi girilmemiş</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <button\r\n            onClick={() => setHealthInfoEditing(true)}\r\n            className=\"mt-4 bg-diet-green text-white py-2 px-4 rounded-md hover:bg-green-600 transition\"\r\n          >\r\n            Düzenle\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"max-w-5xl mx-auto\">\r\n      {renderTabs()}\r\n      \r\n      {activeTab === 'bilgiler' && (\r\n        <div>\r\n          <div className=\"profile-card\">\r\n            <h3 className=\"text-xl font-semibold mb-4\">Kişisel Bilgiler</h3>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <p className=\"text-gray-600\">Yaş</p>\r\n                <p className=\"font-medium\">{userData.info.age}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-gray-600\">Boy</p>\r\n                <p className=\"font-medium\">{userData.info.height} cm</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-gray-600\">Hedef</p>\r\n                <p className=\"font-medium capitalize\">{userData.info.goal}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"profile-card\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h3 className=\"text-xl font-semibold\">Kilo Takibi</h3>\r\n              <form onSubmit={handleAddWeight} className=\"flex items-center\">\r\n                <input\r\n                  type=\"number\"\r\n                  placeholder=\"Kg\"\r\n                  className=\"w-20 p-2 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-diet-green\"\r\n                  value={newWeight}\r\n                  onChange={(e) => setNewWeight(e.target.value)}\r\n                  step=\"0.1\"\r\n                  min=\"30\"\r\n                  max=\"300\"\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"bg-diet-green text-white p-2 rounded-r-lg\"\r\n                >\r\n                  Ekle\r\n                </button>\r\n              </form>\r\n            </div>\r\n            \r\n            {userData.weightHistory && userData.weightHistory.length > 0 ? (\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-left\">\r\n                  <thead>\r\n                    <tr className=\"bg-gray-100\">\r\n                      <th className=\"p-2\">Tarih</th>\r\n                      <th className=\"p-2\">Kilo (kg)</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {userData.weightHistory.slice().reverse().map((entry, index) => (\r\n                      <tr key={index} className=\"border-b\">\r\n                        <td className=\"p-2\">{new Date(entry.date).toLocaleDateString('tr-TR')}</td>\r\n                        <td className=\"p-2 font-medium\">{entry.weight} kg</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-gray-600\">Henüz kilo kaydı yok.</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {activeTab === 'beslenme' && (\r\n        <div>\r\n          <div className=\"profile-card\">\r\n            <h3 className=\"text-xl font-semibold mb-4\">Haftalık Beslenme Planı</h3>\r\n            \r\n            {userData.dietPlan && Object.keys(userData.dietPlan).length > 0 ? (\r\n              Object.entries(userData.dietPlan).map(([week, days]) => (\r\n                <div key={week} className=\"mb-6\">\r\n                  <h4 className=\"font-medium text-lg mb-2 text-diet-green\">{week.replace(/([A-Z])/g, ' $1').trim()}</h4>\r\n                  \r\n                  {Object.entries(days).map(([day, meals]) => (\r\n                    <div key={day} className=\"mb-4\">\r\n                      <h5 className=\"font-medium capitalize mb-2\">{day}</h5>\r\n                      \r\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                        {Object.entries(meals).map(([mealTime, meal]) => (\r\n                          <div key={mealTime} className=\"bg-white p-3 rounded-lg shadow-sm flex justify-between items-center\">\r\n                            <div>\r\n                              <p className=\"text-gray-600 capitalize\">{mealTime}</p>\r\n                              <p className=\"font-medium\">{meal.name}</p>\r\n                            </div>\r\n                            <div \r\n                              className={`complete-button ${meal.completed ? 'completed' : ''}`}\r\n                              onClick={() => handleToggleMeal(day, meal)}\r\n                            >\r\n                              {meal.completed && (\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\" className=\"w-4 h-4\">\r\n                                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\" />\r\n                                </svg>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"text-gray-600\">Henüz beslenme planı yok. Diyetistin ile sohbet ederek bir plan oluşturabilirsin.</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {activeTab === 'egzersiz' && (\r\n        <div>\r\n          <div className=\"profile-card\">\r\n            <h3 className=\"text-xl font-semibold mb-4\">Haftalık Egzersiz Planı</h3>\r\n            \r\n            {userData.exercisePlan && Object.keys(userData.exercisePlan).length > 0 ? (\r\n              Object.entries(userData.exercisePlan).map(([week, days]) => (\r\n                <div key={week} className=\"mb-6\">\r\n                  <h4 className=\"font-medium text-lg mb-2 text-diet-green\">{week.replace(/([A-Z])/g, ' $1').trim()}</h4>\r\n                  \r\n                  {Object.entries(days).map(([day, exercises]) => (\r\n                    <div key={day} className=\"mb-4\">\r\n                      <h5 className=\"font-medium capitalize mb-2\">{day}</h5>\r\n                      \r\n                      <div>\r\n                        {exercises.map((exercise, index) => (\r\n                          <ExerciseCard\r\n                            key={index}\r\n                            exercise={exercise}\r\n                            onToggleComplete={handleToggleExercise}\r\n                          />\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"text-gray-600\">Henüz egzersiz planı yok. Diyetistin ile sohbet ederek bir plan oluşturabilirsin.</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {activeTab === 'notlar' && (\r\n        <div>\r\n          <div className=\"profile-card\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h3 className=\"text-xl font-semibold\">Notlarım</h3>\r\n              <form onSubmit={handleAddNote} className=\"flex items-center\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Yeni not...\"\r\n                  className=\"w-48 p-2 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-diet-green\"\r\n                  value={newNote}\r\n                  onChange={(e) => setNewNote(e.target.value)}\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"bg-diet-green text-white p-2 rounded-r-lg\"\r\n                >\r\n                  Ekle\r\n                </button>\r\n              </form>\r\n            </div>\r\n            \r\n            {userData.notes && userData.notes.length > 0 ? (\r\n              <div className=\"space-y-2\">\r\n                {userData.notes.slice().reverse().map((note, index) => (\r\n                  <div \r\n                    key={index} \r\n                    className=\"p-3 border rounded-lg flex justify-between items-center\"\r\n                  >\r\n                    <p className={`${note.completed ? 'line-through text-gray-500' : ''}`}>\r\n                      {note.text}\r\n                    </p>\r\n                    <div \r\n                      className={`complete-button ${note.completed ? 'completed' : ''}`}\r\n                      onClick={() => handleToggleNote(note)}\r\n                    >\r\n                      {note.completed && (\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\" className=\"w-4 h-4\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\" />\r\n                        </svg>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-gray-600\">Henüz not eklenmemiş.</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {activeTab === 'saglik' && renderHealthTab()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile; ","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Header = ({ isAuthenticated, onLogout }) => {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"container mx-auto flex justify-between items-center\">\r\n        <Link to=\"/\" className=\"logo\">\r\n          Diyet Dostu <span className=\"logo-icon\">🥗</span>\r\n        </Link>\r\n        \r\n        {isAuthenticated ? (\r\n          <nav className=\"flex items-center\">\r\n            <Link to=\"/chat\" className=\"px-4 py-2 font-medium text-gray-700 hover:text-diet-green\">\r\n              Sohbet\r\n            </Link>\r\n            <Link to=\"/profile\" className=\"px-4 py-2 font-medium text-gray-700 hover:text-diet-green\">\r\n              Profil\r\n            </Link>\r\n            <button \r\n              onClick={onLogout}\r\n              className=\"ml-4 px-4 py-2 bg-diet-orange text-white rounded-lg hover:bg-orange-600 transition-colors\"\r\n            >\r\n              Çıkış\r\n            </button>\r\n          </nav>\r\n        ) : (\r\n          <nav className=\"flex items-center\">\r\n            <Link to=\"/login\" className=\"px-4 py-2 font-medium text-gray-700 hover:text-diet-green\">\r\n              Giriş\r\n            </Link>\r\n            <Link to=\"/register\" className=\"ml-2 px-4 py-2 bg-diet-green text-white rounded-lg hover:bg-green-600 transition-colors\">\r\n              Kayıt Ol\r\n            </Link>\r\n          </nav>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header; ","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../styles/LandingPage.css';\r\n\r\nconst LandingPage = () => {\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Sayfa yüklenme animasyonu\r\n    setIsLoaded(true);\r\n\r\n    // Scroll efektleri\r\n    const observer = new IntersectionObserver((entries) => {\r\n      entries.forEach(entry => {\r\n        if (entry.isIntersecting) {\r\n          entry.target.classList.add('show');\r\n        }\r\n      });\r\n    }, { threshold: 0.1 });\r\n\r\n    const hiddenElements = document.querySelectorAll('.fade-in');\r\n    hiddenElements.forEach((el) => observer.observe(el));\r\n\r\n    // Floating food animasyonları\r\n    const foodElements = document.querySelectorAll('.floating-food');\r\n    foodElements.forEach(food => {\r\n      food.style.animationDelay = `${Math.random() * 5}s`;\r\n    });\r\n\r\n    return () => {\r\n      hiddenElements.forEach((el) => observer.unobserve(el));\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className={`landing-container ${isLoaded ? 'loaded' : ''}`}>\r\n      {/* Hareketli arka plan elementleri */}\r\n      <div className=\"animated-background\">\r\n        <div className=\"shape circle\"></div>\r\n        <div className=\"shape square\"></div>\r\n        <div className=\"shape triangle\"></div>\r\n        <div className=\"shape rectangle\"></div>\r\n      </div>\r\n\r\n      {/* Floating food emojileri */}\r\n      <div className=\"floating-foods-container\">\r\n        <div className=\"floating-food\" style={{ top: '10%', left: '5%' }}>🍎</div>\r\n        <div className=\"floating-food\" style={{ top: '25%', right: '8%' }}>🥑</div>\r\n        <div className=\"floating-food\" style={{ top: '60%', left: '12%' }}>🍓</div>\r\n        <div className=\"floating-food\" style={{ top: '75%', right: '15%' }}>🥦</div>\r\n        <div className=\"floating-food\" style={{ top: '40%', left: '80%' }}>🍇</div>\r\n        <div className=\"floating-food\" style={{ top: '85%', left: '40%' }}>🥕</div>\r\n        <div className=\"floating-food\" style={{ top: '15%', left: '50%' }}>🍌</div>\r\n        <div className=\"floating-food\" style={{ top: '50%', left: '25%' }}>🍊</div>\r\n        <div className=\"floating-food\" style={{ top: '30%', left: '70%' }}>🍉</div>\r\n        <div className=\"floating-food\" style={{ top: '70%', left: '60%' }}>🥝</div>\r\n      </div>\r\n\r\n      {/* Hero Section */}\r\n      <section className=\"hero-section\">\r\n        <div className=\"hero-overlay\"></div>\r\n        <div className=\"hero-content\">\r\n          <div className=\"logo-animation\">\r\n            <div className=\"logo-circle\">\r\n              <span className=\"logo-icon\">🥗</span>\r\n            </div>\r\n          </div>\r\n          <h1 className=\"main-title\">Diyet Dostu</h1>\r\n          <div className=\"typing-container\">\r\n            <h2 className=\"subtitle\">Kişisel sağlık ve <span className=\"typewriter\">beslenme asistanınız</span></h2>\r\n          </div>\r\n          <p className=\"description fade-in\">\r\n            Yapay zeka ile güçlendirilmiş beslenme danışmanınız ile daha sağlıklı bir yaşam için adım atın.\r\n            Anlık öneriler, kişiselleştirilmiş beslenme planları ve 7/24 destek!\r\n          </p>\r\n          <div className=\"button-container\">\r\n            <Link to=\"/register\" className=\"cta-button signup-button fade-in pulse\">Hemen Başla</Link>\r\n            <Link to=\"/login\" className=\"cta-button login-button fade-in\">Giriş Yap</Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"hero-image fade-in\">\r\n          <div className=\"app-preview\">\r\n            <div className=\"web-app-mockup\">\r\n              <div className=\"web-app-header\">\r\n                <div className=\"app-logo\">\r\n                  <span className=\"app-logo-icon\">🥗</span>\r\n                  <span className=\"app-logo-text\">Diyet Dostu</span>\r\n                </div>\r\n                <div className=\"web-app-menu\">\r\n                  <div className=\"menu-item\">Ana Sayfa</div>\r\n                  <div className=\"menu-item active\">Sohbet</div>\r\n                  <div className=\"menu-item\">Profil</div>\r\n                  <div className=\"menu-item\">Tarifler</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"web-app-content\">\r\n                <div className=\"chat-container\">\r\n                  <div className=\"chat-bubble user\">10 kilo vermek istiyorum, sağlıklı bir şekilde nasıl yapabilirim?</div>\r\n                  <div className=\"chat-bubble assistant\">\r\n                    <div className=\"assistant-header\">\r\n                      <div className=\"assistant-avatar\">🥗</div>\r\n                      <div className=\"assistant-name\">Diyet Dostu</div>\r\n                    </div>\r\n                    Merhaba! 😊 10 kilo verme hedefinize sağlıklı bir şekilde ulaşmak için şu adımları izleyebilirsiniz:\r\n                    <ul>\r\n                      <li>Günlük 500-600 kalori açığı oluşturun (sert diyet yapmadan)</li>\r\n                      <li>Protein ağırlıklı beslenin (yağsız et, balık, baklagiller)</li>\r\n                      <li>İşlenmiş şeker ve basit karbonhidratları azaltın</li>\r\n                      <li>Günde en az 2-3 litre su için</li>\r\n                      <li>Haftada 3-4 gün hem kardiyo hem de kuvvet antrenmanı yapın</li>\r\n                      <li>Uyku düzeninize dikkat edin, her gece 7-8 saat uyumaya çalışın</li>\r\n                    </ul>\r\n                    <p>Hızlı sonuç almak yerine, kalıcı ve sağlıklı alışkanlıklar edinmeye odaklanın. Böylece verdiğiniz kiloları geri almaz, sağlıklı bir vücuda kavuşursunuz.</p>\r\n                  </div>\r\n                  <div className=\"chat-bubble user\">Bu hızda kaç ayda 10 kilo verebilirim?</div>\r\n                  <div className=\"chat-bubble assistant typing\">\r\n                    <div className=\"typing-indicator\">\r\n                      <span></span>\r\n                      <span></span>\r\n                      <span></span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"chat-input-area\">\r\n                  <input type=\"text\" placeholder=\"Bir mesaj yazın...\" className=\"chat-input\" />\r\n                  <button className=\"send-button\">Gönder</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Features Section */}\r\n      <section className=\"features-section\">\r\n        <div className=\"section-header\">\r\n          <h2 className=\"section-title fade-in\">Diyet Dostu ile Neler Yapabilirsiniz?</h2>\r\n          <div className=\"section-underline\"></div>\r\n        </div>\r\n        \r\n        <div className=\"features-grid\">\r\n          <div className=\"feature-card fade-in\">\r\n            <div className=\"feature-icon-container\">\r\n              <div className=\"feature-icon\">🍎</div>\r\n            </div>\r\n            <h3>Kişiselleştirilmiş Beslenme Planı</h3>\r\n            <p>Yaş, boy, kilo ve hedeflerinize göre özel olarak hazırlanmış beslenme önerileri alın.</p>\r\n          </div>\r\n          \r\n          <div className=\"feature-card fade-in\">\r\n            <div className=\"feature-icon-container\">\r\n              <div className=\"feature-icon\">💪</div>\r\n            </div>\r\n            <h3>Egzersiz Programları</h3>\r\n            <p>Fiziksel durumunuza uygun egzersiz planları ile formda kalın ve hedeflerinize ulaşın.</p>\r\n          </div>\r\n          \r\n          <div className=\"feature-card fade-in\">\r\n            <div className=\"feature-icon-container\">\r\n              <div className=\"feature-icon\">🤖</div>\r\n            </div>\r\n            <h3>AI Destekli Sohbet</h3>\r\n            <p>Beslenme ve sağlık konularında sorularınızı sorun, anında yanıt alın.</p>\r\n          </div>\r\n          \r\n          <div className=\"feature-card fade-in\">\r\n            <div className=\"feature-icon-container\">\r\n              <div className=\"feature-icon\">📊</div>\r\n            </div>\r\n            <h3>İlerleme Takibi</h3>\r\n            <p>Kilo ve ölçülerinizi kaydedin, zaman içindeki değişimi grafiklerle görün.</p>\r\n          </div>\r\n\r\n          <div className=\"feature-card fade-in\">\r\n            <div className=\"feature-icon-container\">\r\n              <div className=\"feature-icon\">🍽️</div>\r\n            </div>\r\n            <h3>Yemek Tarifleri</h3>\r\n            <p>Sağlıklı ve lezzetli tariflerle beslenme rutininizi keyifli hale getirin.</p>\r\n          </div>\r\n\r\n          <div className=\"feature-card fade-in\">\r\n            <div className=\"feature-icon-container\">\r\n              <div className=\"feature-icon\">🔔</div>\r\n            </div>\r\n            <h3>Hatırlatıcılar</h3>\r\n            <p>Su içme, öğün ve egzersiz hatırlatıcıları ile hedeflerinizden şaşmayın.</p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* How it Works Section */}\r\n      <section className=\"how-it-works-section\">\r\n        <div className=\"section-header\">\r\n          <h2 className=\"section-title fade-in\">Nasıl Çalışır?</h2>\r\n          <div className=\"section-underline\"></div>\r\n        </div>\r\n        \r\n        <div className=\"steps-container\">\r\n          <div className=\"step-card fade-in\">\r\n            <div className=\"step-number-container\">\r\n              <div className=\"step-number\">1</div>\r\n            </div>\r\n            <h3>Üye Olun</h3>\r\n            <p>Basit bilgilerinizle hızlıca kayıt olun ve tercihleri belirleyin.</p>\r\n          </div>\r\n          \r\n          <div className=\"connector fade-in\"></div>\r\n          \r\n          <div className=\"step-card fade-in\">\r\n            <div className=\"step-number-container\">\r\n              <div className=\"step-number\">2</div>\r\n            </div>\r\n            <h3>Profilinizi Tamamlayın</h3>\r\n            <p>Hedeflerinizi, boy-kilo bilgilerinizi ve beslenme tercihlerinizi girin.</p>\r\n          </div>\r\n          \r\n          <div className=\"connector fade-in\"></div>\r\n          \r\n          <div className=\"step-card fade-in\">\r\n            <div className=\"step-number-container\">\r\n              <div className=\"step-number\">3</div>\r\n            </div>\r\n            <h3>Yapay Zeka Asistanınızla Sohbet Edin</h3>\r\n            <p>Sorularınızı sorun, öneriler alın ve sağlıklı yaşamınıza başlayın.</p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* CTA Section */}\r\n      <section className=\"cta-section\">\r\n        <div className=\"cta-overlay\"></div>\r\n        <div className=\"cta-content fade-in\">\r\n          <h2>Sağlıklı Yaşama İlk Adımı Atın</h2>\r\n          <p>Ücretsiz üye olun ve yapay zeka destekli beslenme asistanınızla tanışın.</p>\r\n          <Link to=\"/register\" className=\"cta-button signup-button pulse\">Hemen Başla</Link>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"landing-footer\">\r\n        <div className=\"footer-content\">\r\n          <div className=\"footer-logo\">\r\n            <div className=\"logo-icon-small\">🥗</div>\r\n            <span>Diyet Dostu</span>\r\n          </div>\r\n          <p>© 2025 Tüm hakları saklıdır</p>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LandingPage; ","import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate } from 'react-router-dom';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport Chat from './components/Chat';\r\nimport Profile from './components/Profile';\r\nimport Header from './components/Header';\r\nimport LandingPage from './components/LandingPage';\r\nimport axios from 'axios';\r\n\r\nfunction App() {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  \r\n  useEffect(() => {\r\n    // Token kontrolü\r\n    const checkAuth = async () => {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (token) {\r\n        try {\r\n          // Token'ı API isteğine ekle\r\n          axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n          \r\n          // Kimlik doğrulaması başarılı\r\n          console.log('Kimlik doğrulaması başarılı, token:', token.substring(0, 15) + '...');\r\n          setIsAuthenticated(true);\r\n          \r\n          // Test token ise, normal API çağrıları yerine simülasyon yapacağız\r\n          if (token.startsWith('test_token_')) {\r\n            console.log('Test modu tespit edildi - normal API çağrıları atlanacak');\r\n          }\r\n        } catch (error) {\r\n          console.error('Token geçersiz:', error);\r\n          localStorage.removeItem('token');\r\n          localStorage.removeItem('userId');\r\n          setIsAuthenticated(false);\r\n        }\r\n      } else {\r\n        console.log('Token bulunamadı, oturum açılmamış');\r\n        setIsAuthenticated(false);\r\n      }\r\n      \r\n      setIsLoading(false);\r\n    };\r\n    \r\n    checkAuth();\r\n  }, []);\r\n  \r\n  const handleLogin = () => {\r\n    console.log('Login başarılı, durum güncelleniyor');\r\n    setIsAuthenticated(true);\r\n    // Axios ile yapılan tüm isteklere otomatik token ekle\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n      console.log('Axios için header ayarlandı');\r\n    }\r\n  };\r\n  \r\n  const handleLogout = () => {\r\n    console.log('Çıkış yapılıyor...');\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('userId');\r\n    // Axios headers'dan token'ı kaldır\r\n    delete axios.defaults.headers.common['Authorization'];\r\n    setIsAuthenticated(false);\r\n  };\r\n\r\n  // Sayfa yüklenirken loading göster\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <svg className=\"animate-spin h-10 w-10 mx-auto text-diet-green\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n          </svg>\r\n          <p className=\"mt-3 text-gray-600\">Yükleniyor...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"min-h-screen flex flex-col\">\r\n        {isAuthenticated && <Header isAuthenticated={isAuthenticated} onLogout={handleLogout} />}\r\n        <div className={isAuthenticated ? \"flex-grow container mx-auto px-4 py-8\" : \"flex-grow\"}>\r\n          <Routes>\r\n            <Route path=\"/login\" element={\r\n              isAuthenticated ? <Navigate to=\"/chat\" replace /> : <Login onLogin={handleLogin} />\r\n            } />\r\n            <Route path=\"/register\" element={\r\n              isAuthenticated ? <Navigate to=\"/chat\" replace /> : <Register onLogin={handleLogin} />\r\n            } />\r\n            <Route path=\"/chat\" element={\r\n              isAuthenticated ? <Chat /> : <Navigate to=\"/login\" replace />\r\n            } />\r\n            <Route path=\"/profile\" element={\r\n              isAuthenticated ? <Profile /> : <Navigate to=\"/login\" replace />\r\n            } />\r\n            <Route path=\"/\" element={\r\n              isAuthenticated ? <Navigate to=\"/chat\" replace /> : <LandingPage />\r\n            } />\r\n            {/* Yönlendirici tarafından eşleştirilmeyen herhangi bir yolu chat veya login'e yönlendirin */}\r\n            <Route path=\"*\" element={<Navigate to={isAuthenticated ? \"/chat\" : \"/\"} replace />} />\r\n          </Routes>\r\n        </div>\r\n        {isAuthenticated && (\r\n          <footer className=\"bg-white py-4 text-center shadow-inner\">\r\n            <p className=\"text-gray-600\">© 2025 Diyet Dostu 🥗 - Sağlıklı yaşam asistanınız</p>\r\n          </footer>\r\n        )}\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App; ","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './styles/index.css';\r\nimport App from './App';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n); "],"sourceRoot":""}