{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\specialdiet.ai\\\\diyet-dostu-web\\\\client\\\\src\\\\components\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport ChatBubble from './ChatBubble';\nimport UserInfoForm from './UserInfoForm';\nimport DietPlanGenerator from './DietPlanGenerator';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [imageFile, setImageFile] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [chatList, setChatList] = useState([]);\n  const [activeChatId, setActiveChatId] = useState(null);\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [showUserInfoForm, setShowUserInfoForm] = useState(false);\n  const [showDietPlan, setShowDietPlan] = useState(false);\n  const [userInfo, setUserInfo] = useState(null);\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n  useEffect(() => {\n    fetchChatList();\n    checkUserInfo();\n  }, []);\n  useEffect(() => {\n    if (activeChatId) {\n      fetchChatHistory();\n    }\n  }, [activeChatId]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, showUserInfoForm, showDietPlan]);\n  const checkUserInfo = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadı');\n        return;\n      }\n      const response = await axios.get('http://localhost:5000/api/user-info', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.data.userInfo) {\n        setUserInfo(response.data.userInfo);\n      } else {\n        // Kullanıcı bilgisi yoksa formu göster\n        // Gerçek uygulamada sohbet başlattıktan sonra göster\n        // Şimdilik yorum satırı olarak bırakıyoruz\n        // setShowUserInfoForm(true);\n      }\n    } catch (error) {\n      console.error('Kullanıcı bilgisi kontrolü sırasında hata:', error);\n    }\n  };\n  const fetchChatList = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadı');\n        return;\n      }\n\n      // Bu endpoint'i sunucu tarafında oluşturmanız gerekecek\n      // Ancak şimdilik simüle ediyoruz\n      // Gerçek uygulamada: const response = await axios.get('http://localhost:5000/api/chat-list', {...});\n\n      // Simüle edilmiş sohbet listesi\n      const simulatedChats = [{\n        id: 'current',\n        title: 'Mevcut Sohbet',\n        date: new Date().toLocaleDateString()\n      }, {\n        id: 'diet-plan',\n        title: 'Diyet Planı Oluşturma',\n        date: '01.05.2025'\n      }, {\n        id: 'recipe-ideas',\n        title: 'Yemek Tarifleri',\n        date: '28.04.2025'\n      }, {\n        id: 'weight-loss',\n        title: 'Kilo Verme Tavsiyeleri',\n        date: '25.04.2025'\n      }];\n      setChatList(simulatedChats);\n      // İlk sohbeti aktif sohbet olarak ayarla\n      setActiveChatId('current');\n    } catch (error) {\n      console.error('Sohbet listesi yüklenirken hata:', error);\n    }\n  };\n  const fetchChatHistory = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadı');\n        return;\n      }\n      const response = await axios.get('http://localhost:5000/api/chat-history', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.data.chatHistory) {\n        setMessages(response.data.chatHistory);\n      }\n    } catch (error) {\n      console.error('Sohbet geçmişi yüklenirken hata:', error);\n    }\n  };\n  const createNewChat = () => {\n    // Yeni bir sohbet ID'si oluştur\n    const newChatId = 'chat-' + Date.now();\n\n    // Sohbet listesine ekle\n    const newChat = {\n      id: newChatId,\n      title: 'Yeni Sohbet',\n      date: new Date().toLocaleDateString()\n    };\n    setChatList([newChat, ...chatList]);\n    setActiveChatId(newChatId);\n    setMessages([{\n      role: 'assistant',\n      content: `Merhaba! 😊 Diyet Dostu'na hoş geldin!\n\nBen senin kişisel beslenme ve spor asistanınım. Sohbet geçmişin temizlendi ve yeni bir konuşma başlatıldı.\n\nTürk mutfağına uygun, kolay ve sağlıklı tarifler sunarak diyet hedeflerine ulaşmana yardımcı olacağım.\n\nİşte sana yardımcı olabileceğim konular:\n🥗 Türk mutfağına uygun düşük kalorili/yüksek proteinli tarifler\n🏋️‍♀️ Kişiselleştirilmiş egzersiz planları\n📸 Yemek fotoğraflarını analiz ederek besin değeri tahmini\n📝 Haftalık beslenme programı oluşturma\n📊 Kilo takibi ve gelişim analizi\n\nSormak istediğin bir şey var mı? Birlikte sağlıklı bir yaşam yolculuğuna başlayalım! 💪`\n    }]);\n\n    // Eğer kullanıcı bilgileri yoksa formu göster\n    if (!userInfo) {\n      setTimeout(() => {\n        setMessages(prev => [...prev, {\n          role: 'assistant',\n          content: `Sana daha iyi yardımcı olabilmem için bazı bilgilere ihtiyacım var. Kişiselleştirilmiş diyet tavsiyeleri ve beslenme planı oluşturmamı istersen \"kişisel bilgilerimi girmek istiyorum\" yazabilirsin.`\n        }]);\n      }, 1000);\n    }\n  };\n  const deleteChat = async chatId => {\n    if (!window.confirm('Bu sohbeti silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.')) {\n      return;\n    }\n    try {\n      setIsLoading(true);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadı');\n        setIsLoading(false);\n        return;\n      }\n\n      // API çağrısını yap\n      const response = await axios.delete(`http://localhost:5000/api/delete-chat/${chatId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.data.success) {\n        // Sohbeti listeden kaldır\n        setChatList(chatList.filter(chat => chat.id !== chatId));\n\n        // Silinecek sohbet aktif sohbetse başka bir sohbeti aktif yap\n        if (chatId === activeChatId) {\n          // Silinecek sohbet dışındaki ilk sohbeti bul\n          const nextChat = chatList.find(chat => chat.id !== chatId);\n          if (nextChat) {\n            setActiveChatId(nextChat.id);\n            // Bu sohbetin geçmişini yükle\n            fetchChatHistory(nextChat.id);\n          } else {\n            // Hiç sohbet kalmadıysa yeni bir sohbet oluştur\n            createNewChat();\n          }\n        }\n\n        // Bildirim göster\n        alert('Sohbet başarıyla silindi.');\n      } else {\n        alert('Sohbet silinirken bir hata oluştu.');\n      }\n    } catch (error) {\n      console.error('Sohbet silinirken hata:', error);\n      alert('Sohbet silinirken bir hata oluştu. Lütfen tekrar deneyin.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const clearChatHistory = async () => {\n    try {\n      if (!window.confirm('Sohbet geçmişini temizlemek istediğinizden emin misiniz?')) {\n        return;\n      }\n      setIsLoading(true);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadı');\n        setIsLoading(false);\n        return;\n      }\n\n      // API'ya istek gönder\n      const response = await axios.post('http://localhost:5000/api/clear-chat', {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.data.success) {\n        // Başarılı yanıtta mesajları güncelle\n        setMessages(response.data.chatHistory || [{\n          role: 'assistant',\n          content: `Merhaba! 😊 Diyet Dostu'na hoş geldin!\n\nBen senin kişisel beslenme ve spor asistanınım. Sohbet geçmişin temizlendi ve yeni bir konuşma başlatıldı.\n\nTürk mutfağına uygun, kolay ve sağlıklı tarifler sunarak diyet hedeflerine ulaşmana yardımcı olacağım.\n\nİşte sana yardımcı olabileceğim konular:\n🥗 Türk mutfağına uygun düşük kalorili/yüksek proteinli tarifler\n🏋️‍♀️ Kişiselleştirilmiş egzersiz planları\n📸 Yemek fotoğraflarını analiz ederek besin değeri tahmini\n📝 Haftalık beslenme programı oluşturma\n📊 Kilo takibi ve gelişim analizi\n\nSormak istediğin bir şey var mı? Birlikte sağlıklı bir yaşam yolculuğuna başlayalım! 💪`\n        }]);\n\n        // Aktif sohbeti güncelle\n        const updatedList = chatList.map(chat => {\n          if (chat.id === activeChatId) {\n            return {\n              ...chat,\n              title: 'Temizlenmiş Sohbet'\n            };\n          }\n          return chat;\n        });\n        setChatList(updatedList);\n\n        // Formları gizle\n        setShowUserInfoForm(false);\n        setShowDietPlan(false);\n\n        // Başarı mesajı göster\n        alert('Sohbet geçmişi başarıyla temizlendi.');\n      } else {\n        // Hata mesajı\n        alert('Sohbet geçmişi temizlenirken bir hata oluştu.');\n      }\n    } catch (error) {\n      console.error('Sohbet geçmişi temizlenirken hata:', error);\n      // Hata durumunda kullanıcıyı bilgilendir\n      alert('Sohbet geçmişi temizlenirken bir hata oluştu. Lütfen tekrar deneyin.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n  const handleImageUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setImageFile(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const clearImage = () => {\n    setImageFile(null);\n    setImagePreview(null);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const message = input.trim();\n    if (!message && !imageFile) return;\n    try {\n      setIsLoading(true);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadı');\n        return;\n      }\n\n      // Kullanıcı mesajını ekleyin\n      const userMessage = {\n        role: 'user',\n        content: message\n      };\n      setMessages(prev => [...prev, userMessage]);\n      setInput('');\n\n      // Özel komutları kontrol et\n      if (message.toLowerCase().includes('kişisel bilgilerimi girmek istiyorum') || message.toLowerCase().includes('diyet programı oluşturmak istiyorum') || message.toLowerCase().includes('bilgilerimi güncellemek istiyorum')) {\n        setTimeout(() => {\n          setShowUserInfoForm(true);\n          setIsLoading(false);\n        }, 500);\n        return;\n      }\n      if (message.toLowerCase().includes('diyet planımı göster') || message.toLowerCase().includes('beslenme planımı göster') || message.toLowerCase().includes('beslenme planı oluştur')) {\n        if (!userInfo) {\n          // Kullanıcı bilgisi yoksa bilgi formunu göster\n          setTimeout(() => {\n            setMessages(prev => [...prev, {\n              role: 'assistant',\n              content: 'Diyet planı oluşturmak için öncelikle kişisel bilgilerinizi girmeniz gerekiyor. Bilgi formunu açıyorum...'\n            }]);\n            setTimeout(() => {\n              setShowUserInfoForm(true);\n              setIsLoading(false);\n            }, 500);\n          }, 500);\n        } else {\n          // Kullanıcı bilgisi varsa diyet planını göster\n          setTimeout(() => {\n            setMessages(prev => [...prev, {\n              role: 'assistant',\n              content: 'İşte size özel hazırladığım beslenme planı:'\n            }]);\n            setTimeout(() => {\n              setShowDietPlan(true);\n              setIsLoading(false);\n            }, 500);\n          }, 500);\n        }\n        return;\n      }\n\n      // Eğer görsel varsa, farklı bir endpoint kullanarak görsel analizi yapın\n      if (imageFile) {\n        const formData = new FormData();\n        formData.append('image', imageFile);\n        await axios.post('http://localhost:5000/api/analyze-image', formData, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        clearImage();\n      } else {\n        // Normal metin mesajı gönderme\n        const response = await axios.post('http://localhost:5000/api/chat', {\n          message\n        }, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n\n        // Asistan yanıtını ekleyin (eğer yanıt mevcutsa)\n        if (response.data.response) {\n          const assistantMessage = {\n            role: 'assistant',\n            content: response.data.response\n          };\n          setMessages(prev => [...prev, assistantMessage]);\n        }\n\n        // İlk mesaj ise sohbet başlığını güncelle\n        if (messages.length <= 1) {\n          const updatedList = chatList.map(chat => {\n            if (chat.id === activeChatId) {\n              // İlk 20 karakteri başlık olarak kullan\n              return {\n                ...chat,\n                title: message.substring(0, 20) + (message.length > 20 ? '...' : '')\n              };\n            }\n            return chat;\n          });\n          setChatList(updatedList);\n        }\n      }\n    } catch (error) {\n      console.error('Mesaj gönderilirken hata:', error);\n\n      // Hata mesajını sohbete ekleyin\n      const errorMessage = {\n        role: 'assistant',\n        content: 'Üzgünüm, bir hata oluştu. Lütfen daha sonra tekrar deneyin.'\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n      setTimeout(scrollToBottom, 100);\n    }\n  };\n  const handleUserInfoSubmit = formData => {\n    // Kullanıcı bilgilerini kaydet\n    setUserInfo(formData);\n    setShowUserInfoForm(false);\n\n    // Kullanıcı bilgileri alındığında diyet planını göster\n    setTimeout(() => {\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: `Teşekkürler! Bilgileriniz kaydedildi. \n\nSize özel bir beslenme planı hazırlıyorum. Bu plan, hedeflerinize, tercihlerinize ve ihtiyaçlarınıza göre özelleştirilmiştir.\n\nİşte size özel beslenme planım:`\n      }]);\n      setTimeout(() => {\n        setShowDietPlan(true);\n      }, 1000);\n    }, 500);\n  };\n  const toggleSidebar = () => {\n    setSidebarOpen(!sidebarOpen);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-[calc(100vh-64px)]\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `chat-sidebar ${sidebarOpen ? 'open' : 'closed'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-gray-700\",\n          children: \"Sohbetlerim\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: createNewChat,\n          className: \"bg-diet-green text-white p-2 rounded-lg hover:bg-green-600 transition-colors\",\n          title: \"Yeni sohbet ba\\u015Flat\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 4v16m8-8H4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-y-auto h-full\",\n        children: chatList.map(chat => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-3 border-b cursor-pointer hover:bg-gray-100 flex justify-between items-center ${chat.id === activeChatId ? 'bg-diet-green bg-opacity-10 border-l-4 border-diet-green' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            onClick: () => setActiveChatId(chat.id),\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium text-gray-800\",\n              children: chat.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: chat.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 15\n          }, this), chat.id !== 'current' && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              e.stopPropagation();\n              deleteChat(chat.id);\n            },\n            className: \"text-gray-400 hover:text-red-500 p-1\",\n            title: \"Sohbeti sil\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-5 w-5\",\n              viewBox: \"0 0 20 20\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 17\n          }, this)]\n        }, chat.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"sidebar-toggle\",\n        onClick: toggleSidebar,\n        title: sidebarOpen ? \"Kenar çubuğunu kapat\" : \"Kenar çubuğunu aç\",\n        children: sidebarOpen ? /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-6 w-6\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M11 19l-7-7 7-7m8 14l-7-7 7-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-6 w-6\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M13 5l7 7-7 7M5 5l7 7-7 7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-diet-green text-white flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"diyet-dostu-avatar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                viewBox: \"0 0 24 24\",\n                fill: \"#4CAF50\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"12\",\n                  cy: \"12\",\n                  r: \"10\",\n                  fill: \"#e8f5e9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M17 8.5C17 6.01 14.99 4 12.5 4C10.01 4 8 6.01 8 8.5C8 11.99 12.5 16.5 12.5 16.5C12.5 16.5 17 11.99 17 8.5ZM12.5 9.5C11.95 9.5 11.5 9.05 11.5 8.5C11.5 7.95 11.95 7.5 12.5 7.5C13.05 7.5 13.5 7.95 13.5 8.5C13.5 9.05 13.05 9.5 12.5 9.5Z\",\n                  fill: \"#4CAF50\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M16 15H9C8.45 15 8 15.45 8 16C8 16.55 8.45 17 9 17H16C16.55 17 17 16.55 17 16C17 15.45 16.55 15 16 15Z\",\n                  fill: \"#4CAF50\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 538,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20ZM12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z\",\n                  fill: \"#4CAF50\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 539,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold\",\n              children: \"Diyet Dostu \\uD83E\\uDD57\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: \"Sa\\u011Fl\\u0131kl\\u0131 ya\\u015Fam asistan\\u0131n\\u0131z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearChatHistory,\n          className: \"bg-white bg-opacity-20 hover:bg-opacity-30 text-white py-1 px-3 rounded-lg text-sm transition-colors duration-200\",\n          title: \"Sohbet ge\\xE7mi\\u015Fini temizle\",\n          children: \"Sohbeti Temizle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow overflow-y-auto p-4 chat-messages\",\n        children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center h-full\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-4xl mb-4\",\n              children: \"\\uD83D\\uDC4B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl font-medium text-gray-700 mb-2\",\n              children: \"Diyet Dostu'na Ho\\u015F Geldin!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 mb-4\",\n              children: \"Beslenme, diyet veya fitness hakk\\u0131nda bir \\u015Feyler sor.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 13\n        }, this) : messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: msg.type === 'note' ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"note-container\",\n            children: [/*#__PURE__*/_jsxDEV(ChatBubble, {\n              message: msg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => deleteNote(msg.noteId),\n              className: \"delete-note-btn\",\n              title: \"Notu sil\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-5 w-5\",\n                viewBox: \"0 0 20 20\",\n                fill: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  fillRule: \"evenodd\",\n                  d: \"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\",\n                  clipRule: \"evenodd\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 578,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 577,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(ChatBubble, {\n            message: msg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 19\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 15\n        }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 text-gray-500 p-4 bg-gray-100 rounded-lg max-w-[80%] mr-auto my-3 shadow-md loading-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"food-icons\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon apple\",\n                children: \"\\uD83C\\uDF4E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon broccoli\",\n                children: \"\\uD83E\\uDD66\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon avocado\",\n                children: \"\\uD83E\\uDD51\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"ml-2 font-medium\",\n              children: \"Diyet Dostu d\\xFC\\u015F\\xFCn\\xFCyor...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 13\n        }, this), showUserInfoForm && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-4 p-2 bg-white rounded-lg shadow-lg\",\n          children: /*#__PURE__*/_jsxDEV(UserInfoForm, {\n            onSubmit: handleUserInfoSubmit,\n            onCancel: () => setShowUserInfoForm(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 13\n        }, this), showDietPlan && userInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-4 p-2 bg-white rounded-lg shadow-lg\",\n          children: /*#__PURE__*/_jsxDEV(DietPlanGenerator, {\n            userInfo: userInfo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"flex items-end gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: input,\n              onChange: e => setInput(e.target.value),\n              onKeyDown: handleKeyDown,\n              ref: textareaRef,\n              placeholder: \"Diyet Dostu'na bir soru sor...\",\n              className: \"w-full p-3 pr-12 border border-gray-300 rounded-lg resize-none focus:border-diet-green focus:ring-1 focus:ring-diet-green outline-none min-h-[50px] max-h-[200px]\",\n              rows: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 625,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"image-upload\",\n              className: \"absolute right-2 bottom-2 cursor-pointer text-gray-500 hover:text-diet-green p-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-6 w-6\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"image-upload\",\n                type: \"file\",\n                accept: \"image/*\",\n                onChange: handleImageUpload,\n                className: \"hidden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isLoading || !input.trim() && !imageFile,\n            className: `p-3 rounded-lg ${isLoading || !input.trim() && !imageFile ? 'bg-gray-300 cursor-not-allowed' : 'bg-diet-green text-white hover:bg-green-600'} transition-colors`,\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-6 w-6\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M13 5l7 7-7 7M5 5l7 7-7 7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 11\n        }, this), imagePreview && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: imagePreview,\n            alt: \"Y\\xFCklenen g\\xF6rsel\",\n            className: \"h-20 object-contain rounded-md border border-gray-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearImage,\n            className: \"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors\",\n            title: \"G\\xF6rseli kald\\u0131r\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-4 w-4\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 467,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"8TMewYKGyh4+pbzODKpfMIZSljA=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","ChatBubble","UserInfoForm","DietPlanGenerator","jsxDEV","_jsxDEV","Chat","_s","messages","setMessages","input","setInput","isLoading","setIsLoading","imageFile","setImageFile","imagePreview","setImagePreview","chatList","setChatList","activeChatId","setActiveChatId","sidebarOpen","setSidebarOpen","showUserInfoForm","setShowUserInfoForm","showDietPlan","setShowDietPlan","userInfo","setUserInfo","messagesEndRef","textareaRef","fetchChatList","checkUserInfo","fetchChatHistory","scrollToBottom","token","localStorage","getItem","console","error","response","get","headers","Authorization","data","simulatedChats","id","title","date","Date","toLocaleDateString","chatHistory","createNewChat","newChatId","now","newChat","role","content","setTimeout","prev","deleteChat","chatId","window","confirm","delete","success","filter","chat","nextChat","find","alert","clearChatHistory","post","updatedList","map","_messagesEndRef$curre","current","scrollIntoView","behavior","handleKeyDown","e","key","shiftKey","preventDefault","handleSubmit","handleImageUpload","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","clearImage","message","trim","userMessage","toLowerCase","includes","formData","FormData","append","assistantMessage","length","substring","errorMessage","handleUserInfoSubmit","toggleSidebar","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","stopPropagation","fillRule","clipRule","cx","cy","r","msg","index","type","deleteNote","noteId","onSubmit","onCancel","ref","value","onChange","onKeyDown","placeholder","rows","htmlFor","accept","disabled","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/specialdiet.ai/diyet-dostu-web/client/src/components/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport ChatBubble from './ChatBubble';\r\nimport UserInfoForm from './UserInfoForm';\r\nimport DietPlanGenerator from './DietPlanGenerator';\r\n\r\nconst Chat = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [chatList, setChatList] = useState([]);\r\n  const [activeChatId, setActiveChatId] = useState(null);\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  const [showUserInfoForm, setShowUserInfoForm] = useState(false);\r\n  const [showDietPlan, setShowDietPlan] = useState(false);\r\n  const [userInfo, setUserInfo] = useState(null);\r\n  const messagesEndRef = useRef(null);\r\n  const textareaRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    fetchChatList();\r\n    checkUserInfo();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (activeChatId) {\r\n      fetchChatHistory();\r\n    }\r\n  }, [activeChatId]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages, showUserInfoForm, showDietPlan]);\r\n\r\n  const checkUserInfo = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadı');\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.get('http://localhost:5000/api/user-info', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.data.userInfo) {\r\n        setUserInfo(response.data.userInfo);\r\n      } else {\r\n        // Kullanıcı bilgisi yoksa formu göster\r\n        // Gerçek uygulamada sohbet başlattıktan sonra göster\r\n        // Şimdilik yorum satırı olarak bırakıyoruz\r\n        // setShowUserInfoForm(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Kullanıcı bilgisi kontrolü sırasında hata:', error);\r\n    }\r\n  };\r\n\r\n  const fetchChatList = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadı');\r\n        return;\r\n      }\r\n      \r\n      // Bu endpoint'i sunucu tarafında oluşturmanız gerekecek\r\n      // Ancak şimdilik simüle ediyoruz\r\n      // Gerçek uygulamada: const response = await axios.get('http://localhost:5000/api/chat-list', {...});\r\n      \r\n      // Simüle edilmiş sohbet listesi\r\n      const simulatedChats = [\r\n        { id: 'current', title: 'Mevcut Sohbet', date: new Date().toLocaleDateString() },\r\n        { id: 'diet-plan', title: 'Diyet Planı Oluşturma', date: '01.05.2025' },\r\n        { id: 'recipe-ideas', title: 'Yemek Tarifleri', date: '28.04.2025' },\r\n        { id: 'weight-loss', title: 'Kilo Verme Tavsiyeleri', date: '25.04.2025' }\r\n      ];\r\n      \r\n      setChatList(simulatedChats);\r\n      // İlk sohbeti aktif sohbet olarak ayarla\r\n      setActiveChatId('current');\r\n      \r\n    } catch (error) {\r\n      console.error('Sohbet listesi yüklenirken hata:', error);\r\n    }\r\n  };\r\n\r\n  const fetchChatHistory = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadı');\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.get('http://localhost:5000/api/chat-history', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.data.chatHistory) {\r\n        setMessages(response.data.chatHistory);\r\n      }\r\n    } catch (error) {\r\n      console.error('Sohbet geçmişi yüklenirken hata:', error);\r\n    }\r\n  };\r\n\r\n  const createNewChat = () => {\r\n    // Yeni bir sohbet ID'si oluştur\r\n    const newChatId = 'chat-' + Date.now();\r\n    \r\n    // Sohbet listesine ekle\r\n    const newChat = {\r\n      id: newChatId,\r\n      title: 'Yeni Sohbet',\r\n      date: new Date().toLocaleDateString()\r\n    };\r\n    \r\n    setChatList([newChat, ...chatList]);\r\n    setActiveChatId(newChatId);\r\n    setMessages([{\r\n      role: 'assistant',\r\n      content: `Merhaba! 😊 Diyet Dostu'na hoş geldin!\r\n\r\nBen senin kişisel beslenme ve spor asistanınım. Sohbet geçmişin temizlendi ve yeni bir konuşma başlatıldı.\r\n\r\nTürk mutfağına uygun, kolay ve sağlıklı tarifler sunarak diyet hedeflerine ulaşmana yardımcı olacağım.\r\n\r\nİşte sana yardımcı olabileceğim konular:\r\n🥗 Türk mutfağına uygun düşük kalorili/yüksek proteinli tarifler\r\n🏋️‍♀️ Kişiselleştirilmiş egzersiz planları\r\n📸 Yemek fotoğraflarını analiz ederek besin değeri tahmini\r\n📝 Haftalık beslenme programı oluşturma\r\n📊 Kilo takibi ve gelişim analizi\r\n\r\nSormak istediğin bir şey var mı? Birlikte sağlıklı bir yaşam yolculuğuna başlayalım! 💪`\r\n    }]);\r\n    \r\n    // Eğer kullanıcı bilgileri yoksa formu göster\r\n    if (!userInfo) {\r\n      setTimeout(() => {\r\n        setMessages(prev => [...prev, {\r\n          role: 'assistant',\r\n          content: `Sana daha iyi yardımcı olabilmem için bazı bilgilere ihtiyacım var. Kişiselleştirilmiş diyet tavsiyeleri ve beslenme planı oluşturmamı istersen \"kişisel bilgilerimi girmek istiyorum\" yazabilirsin.`\r\n        }]);\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  const deleteChat = async (chatId) => {\r\n    if (!window.confirm('Bu sohbeti silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadı');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // API çağrısını yap\r\n      const response = await axios.delete(`http://localhost:5000/api/delete-chat/${chatId}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.data.success) {\r\n        // Sohbeti listeden kaldır\r\n        setChatList(chatList.filter(chat => chat.id !== chatId));\r\n        \r\n        // Silinecek sohbet aktif sohbetse başka bir sohbeti aktif yap\r\n        if (chatId === activeChatId) {\r\n          // Silinecek sohbet dışındaki ilk sohbeti bul\r\n          const nextChat = chatList.find(chat => chat.id !== chatId);\r\n          \r\n          if (nextChat) {\r\n            setActiveChatId(nextChat.id);\r\n            // Bu sohbetin geçmişini yükle\r\n            fetchChatHistory(nextChat.id);\r\n          } else {\r\n            // Hiç sohbet kalmadıysa yeni bir sohbet oluştur\r\n            createNewChat();\r\n          }\r\n        }\r\n        \r\n        // Bildirim göster\r\n        alert('Sohbet başarıyla silindi.');\r\n      } else {\r\n        alert('Sohbet silinirken bir hata oluştu.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Sohbet silinirken hata:', error);\r\n      alert('Sohbet silinirken bir hata oluştu. Lütfen tekrar deneyin.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const clearChatHistory = async () => {\r\n    try {\r\n      if (!window.confirm('Sohbet geçmişini temizlemek istediğinizden emin misiniz?')) {\r\n        return;\r\n      }\r\n      \r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadı');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // API'ya istek gönder\r\n      const response = await axios.post('http://localhost:5000/api/clear-chat', {}, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.data.success) {\r\n        // Başarılı yanıtta mesajları güncelle\r\n        setMessages(response.data.chatHistory || [{\r\n          role: 'assistant',\r\n          content: `Merhaba! 😊 Diyet Dostu'na hoş geldin!\r\n\r\nBen senin kişisel beslenme ve spor asistanınım. Sohbet geçmişin temizlendi ve yeni bir konuşma başlatıldı.\r\n\r\nTürk mutfağına uygun, kolay ve sağlıklı tarifler sunarak diyet hedeflerine ulaşmana yardımcı olacağım.\r\n\r\nİşte sana yardımcı olabileceğim konular:\r\n🥗 Türk mutfağına uygun düşük kalorili/yüksek proteinli tarifler\r\n🏋️‍♀️ Kişiselleştirilmiş egzersiz planları\r\n📸 Yemek fotoğraflarını analiz ederek besin değeri tahmini\r\n📝 Haftalık beslenme programı oluşturma\r\n📊 Kilo takibi ve gelişim analizi\r\n\r\nSormak istediğin bir şey var mı? Birlikte sağlıklı bir yaşam yolculuğuna başlayalım! 💪`\r\n        }]);\r\n        \r\n        // Aktif sohbeti güncelle\r\n        const updatedList = chatList.map(chat => {\r\n          if (chat.id === activeChatId) {\r\n            return { ...chat, title: 'Temizlenmiş Sohbet' };\r\n          }\r\n          return chat;\r\n        });\r\n        \r\n        setChatList(updatedList);\r\n        \r\n        // Formları gizle\r\n        setShowUserInfoForm(false);\r\n        setShowDietPlan(false);\r\n        \r\n        // Başarı mesajı göster\r\n        alert('Sohbet geçmişi başarıyla temizlendi.');\r\n      } else {\r\n        // Hata mesajı\r\n        alert('Sohbet geçmişi temizlenirken bir hata oluştu.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Sohbet geçmişi temizlenirken hata:', error);\r\n      // Hata durumunda kullanıcıyı bilgilendir\r\n      alert('Sohbet geçmişi temizlenirken bir hata oluştu. Lütfen tekrar deneyin.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSubmit(e);\r\n    }\r\n  };\r\n\r\n  const handleImageUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setImageFile(file);\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setImagePreview(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const clearImage = () => {\r\n    setImageFile(null);\r\n    setImagePreview(null);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const message = input.trim();\r\n    \r\n    if (!message && !imageFile) return;\r\n    \r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadı');\r\n        return;\r\n      }\r\n      \r\n      // Kullanıcı mesajını ekleyin\r\n      const userMessage = {\r\n        role: 'user',\r\n        content: message\r\n      };\r\n      \r\n      setMessages((prev) => [...prev, userMessage]);\r\n      setInput('');\r\n      \r\n      // Özel komutları kontrol et\r\n      if (message.toLowerCase().includes('kişisel bilgilerimi girmek istiyorum') ||\r\n          message.toLowerCase().includes('diyet programı oluşturmak istiyorum') ||\r\n          message.toLowerCase().includes('bilgilerimi güncellemek istiyorum')) {\r\n        \r\n        setTimeout(() => {\r\n          setShowUserInfoForm(true);\r\n          setIsLoading(false);\r\n        }, 500);\r\n        \r\n        return;\r\n      }\r\n      \r\n      if (message.toLowerCase().includes('diyet planımı göster') ||\r\n          message.toLowerCase().includes('beslenme planımı göster') ||\r\n          message.toLowerCase().includes('beslenme planı oluştur')) {\r\n        \r\n        if (!userInfo) {\r\n          // Kullanıcı bilgisi yoksa bilgi formunu göster\r\n          setTimeout(() => {\r\n            setMessages((prev) => [...prev, {\r\n              role: 'assistant',\r\n              content: 'Diyet planı oluşturmak için öncelikle kişisel bilgilerinizi girmeniz gerekiyor. Bilgi formunu açıyorum...'\r\n            }]);\r\n            \r\n            setTimeout(() => {\r\n              setShowUserInfoForm(true);\r\n              setIsLoading(false);\r\n            }, 500);\r\n          }, 500);\r\n        } else {\r\n          // Kullanıcı bilgisi varsa diyet planını göster\r\n          setTimeout(() => {\r\n            setMessages((prev) => [...prev, {\r\n              role: 'assistant',\r\n              content: 'İşte size özel hazırladığım beslenme planı:'\r\n            }]);\r\n            \r\n            setTimeout(() => {\r\n              setShowDietPlan(true);\r\n              setIsLoading(false);\r\n            }, 500);\r\n          }, 500);\r\n        }\r\n        \r\n        return;\r\n      }\r\n      \r\n      // Eğer görsel varsa, farklı bir endpoint kullanarak görsel analizi yapın\r\n      if (imageFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', imageFile);\r\n        \r\n        await axios.post(\r\n          'http://localhost:5000/api/analyze-image',\r\n          formData,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n          }\r\n        );\r\n        \r\n        clearImage();\r\n      } else {\r\n        // Normal metin mesajı gönderme\r\n        const response = await axios.post('http://localhost:5000/api/chat',\r\n          { message },\r\n          { headers: { Authorization: `Bearer ${token}` } }\r\n        );\r\n        \r\n        // Asistan yanıtını ekleyin (eğer yanıt mevcutsa)\r\n        if (response.data.response) {\r\n          const assistantMessage = {\r\n            role: 'assistant',\r\n            content: response.data.response\r\n          };\r\n          \r\n          setMessages((prev) => [...prev, assistantMessage]);\r\n        }\r\n\r\n        // İlk mesaj ise sohbet başlığını güncelle\r\n        if (messages.length <= 1) {\r\n          const updatedList = chatList.map(chat => {\r\n            if (chat.id === activeChatId) {\r\n              // İlk 20 karakteri başlık olarak kullan\r\n              return { ...chat, title: message.substring(0, 20) + (message.length > 20 ? '...' : '') };\r\n            }\r\n            return chat;\r\n          });\r\n          \r\n          setChatList(updatedList);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Mesaj gönderilirken hata:', error);\r\n      \r\n      // Hata mesajını sohbete ekleyin\r\n      const errorMessage = {\r\n        role: 'assistant',\r\n        content: 'Üzgünüm, bir hata oluştu. Lütfen daha sonra tekrar deneyin.'\r\n      };\r\n      \r\n      setMessages((prev) => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n      setTimeout(scrollToBottom, 100);\r\n    }\r\n  };\r\n\r\n  const handleUserInfoSubmit = (formData) => {\r\n    // Kullanıcı bilgilerini kaydet\r\n    setUserInfo(formData);\r\n    setShowUserInfoForm(false);\r\n    \r\n    // Kullanıcı bilgileri alındığında diyet planını göster\r\n    setTimeout(() => {\r\n      setMessages((prev) => [...prev, {\r\n        role: 'assistant',\r\n        content: `Teşekkürler! Bilgileriniz kaydedildi. \r\n\r\nSize özel bir beslenme planı hazırlıyorum. Bu plan, hedeflerinize, tercihlerinize ve ihtiyaçlarınıza göre özelleştirilmiştir.\r\n\r\nİşte size özel beslenme planım:`\r\n      }]);\r\n      \r\n      setTimeout(() => {\r\n        setShowDietPlan(true);\r\n      }, 1000);\r\n    }, 500);\r\n  };\r\n\r\n  const toggleSidebar = () => {\r\n    setSidebarOpen(!sidebarOpen);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-[calc(100vh-64px)]\">\r\n      {/* Sol Kenar Çubuğu - Sohbet Listesi */}\r\n      <div className={`chat-sidebar ${sidebarOpen ? 'open' : 'closed'}`}>\r\n        <div className=\"p-4 border-b flex justify-between items-center\">\r\n          <h3 className=\"font-semibold text-gray-700\">Sohbetlerim</h3>\r\n          <button \r\n            onClick={createNewChat}\r\n            className=\"bg-diet-green text-white p-2 rounded-lg hover:bg-green-600 transition-colors\"\r\n            title=\"Yeni sohbet başlat\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"overflow-y-auto h-full\">\r\n          {chatList.map((chat) => (\r\n            <div \r\n              key={chat.id}\r\n              className={`p-3 border-b cursor-pointer hover:bg-gray-100 flex justify-between items-center ${chat.id === activeChatId ? 'bg-diet-green bg-opacity-10 border-l-4 border-diet-green' : ''}`}\r\n            >\r\n              <div className=\"flex-1\" onClick={() => setActiveChatId(chat.id)}>\r\n                <p className=\"font-medium text-gray-800\">{chat.title}</p>\r\n                <p className=\"text-xs text-gray-500\">{chat.date}</p>\r\n              </div>\r\n              {chat.id !== 'current' && (\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    deleteChat(chat.id);\r\n                  }}\r\n                  className=\"text-gray-400 hover:text-red-500 p-1\"\r\n                  title=\"Sohbeti sil\"\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                </button>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Sohbet Bölümü */}\r\n      <div className=\"flex-1 flex flex-col relative\">\r\n        {/* Mobil görünümde kenar çubuğu açma/kapama butonu */}\r\n        <button \r\n          className=\"sidebar-toggle\"\r\n          onClick={toggleSidebar}\r\n          title={sidebarOpen ? \"Kenar çubuğunu kapat\" : \"Kenar çubuğunu aç\"}\r\n        >\r\n          {sidebarOpen ? (\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 19l-7-7 7-7m8 14l-7-7 7-7\" />\r\n            </svg>\r\n          ) : (\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 5l7 7-7 7M5 5l7 7-7 7\" />\r\n            </svg>\r\n          )}\r\n        </button>\r\n        \r\n        <div className=\"p-4 bg-diet-green text-white flex justify-between items-center\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"diyet-dostu-avatar\">\r\n              <div className=\"avatar-icon\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"#4CAF50\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#e8f5e9\" />\r\n                  <path d=\"M17 8.5C17 6.01 14.99 4 12.5 4C10.01 4 8 6.01 8 8.5C8 11.99 12.5 16.5 12.5 16.5C12.5 16.5 17 11.99 17 8.5ZM12.5 9.5C11.95 9.5 11.5 9.05 11.5 8.5C11.5 7.95 11.95 7.5 12.5 7.5C13.05 7.5 13.5 7.95 13.5 8.5C13.5 9.05 13.05 9.5 12.5 9.5Z\" fill=\"#4CAF50\" />\r\n                  <path d=\"M16 15H9C8.45 15 8 15.45 8 16C8 16.55 8.45 17 9 17H16C16.55 17 17 16.55 17 16C17 15.45 16.55 15 16 15Z\" fill=\"#4CAF50\" />\r\n                  <path d=\"M12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20ZM12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z\" fill=\"#4CAF50\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold\">Diyet Dostu 🥗</h2>\r\n              <p className=\"text-sm\">Sağlıklı yaşam asistanınız</p>\r\n            </div>\r\n          </div>\r\n          <button \r\n            onClick={clearChatHistory}\r\n            className=\"bg-white bg-opacity-20 hover:bg-opacity-30 text-white py-1 px-3 rounded-lg text-sm transition-colors duration-200\"\r\n            title=\"Sohbet geçmişini temizle\"\r\n          >\r\n            Sohbeti Temizle\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"flex-grow overflow-y-auto p-4 chat-messages\">\r\n          {messages.length === 0 ? (\r\n            <div className=\"flex items-center justify-center h-full\">\r\n              <div className=\"text-center\">\r\n                <div className=\"text-4xl mb-4\">👋</div>\r\n                <p className=\"text-xl font-medium text-gray-700 mb-2\">Diyet Dostu'na Hoş Geldin!</p>\r\n                <p className=\"text-gray-500 mb-4\">Beslenme, diyet veya fitness hakkında bir şeyler sor.</p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            messages.map((msg, index) => (\r\n              <div key={index}>\r\n                {msg.type === 'note' ? (\r\n                  <div className=\"note-container\">\r\n                    <ChatBubble message={msg} />\r\n                    <button \r\n                      onClick={() => deleteNote(msg.noteId)}\r\n                      className=\"delete-note-btn\"\r\n                      title=\"Notu sil\"\r\n                    >\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                        <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                ) : (\r\n                  <ChatBubble message={msg} />\r\n                )}\r\n              </div>\r\n            ))\r\n          )}\r\n          \r\n          {isLoading && (\r\n            <div className=\"flex items-center space-x-2 text-gray-500 p-4 bg-gray-100 rounded-lg max-w-[80%] mr-auto my-3 shadow-md loading-container\">\r\n              <div className=\"loader-container\">\r\n                <div className=\"food-icons\">\r\n                  <span className=\"icon apple\">🍎</span>\r\n                  <span className=\"icon broccoli\">🥦</span>\r\n                  <span className=\"icon avocado\">🥑</span>\r\n                </div>\r\n                <p className=\"ml-2 font-medium\">Diyet Dostu düşünüyor...</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Kullanıcı bilgi formu */}\r\n          {showUserInfoForm && (\r\n            <div className=\"my-4 p-2 bg-white rounded-lg shadow-lg\">\r\n              <UserInfoForm \r\n                onSubmit={handleUserInfoSubmit} \r\n                onCancel={() => setShowUserInfoForm(false)}\r\n              />\r\n            </div>\r\n          )}\r\n          \r\n          {/* Diyet planı */}\r\n          {showDietPlan && userInfo && (\r\n            <div className=\"my-4 p-2 bg-white rounded-lg shadow-lg\">\r\n              <DietPlanGenerator userInfo={userInfo} />\r\n            </div>\r\n          )}\r\n          \r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n\r\n        <div className=\"p-4 border-t\">\r\n          <form onSubmit={handleSubmit} className=\"flex items-end gap-2\">\r\n            <div className=\"flex-1 relative\">\r\n              <textarea\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                onKeyDown={handleKeyDown}\r\n                ref={textareaRef}\r\n                placeholder=\"Diyet Dostu'na bir soru sor...\"\r\n                className=\"w-full p-3 pr-12 border border-gray-300 rounded-lg resize-none focus:border-diet-green focus:ring-1 focus:ring-diet-green outline-none min-h-[50px] max-h-[200px]\"\r\n                rows=\"1\"\r\n              ></textarea>\r\n              \r\n              <label htmlFor=\"image-upload\" className=\"absolute right-2 bottom-2 cursor-pointer text-gray-500 hover:text-diet-green p-1\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                </svg>\r\n                <input\r\n                  id=\"image-upload\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={handleImageUpload}\r\n                  className=\"hidden\"\r\n                />\r\n              </label>\r\n            </div>\r\n            \r\n            <button\r\n              type=\"submit\"\r\n              disabled={isLoading || (!input.trim() && !imageFile)}\r\n              className={`p-3 rounded-lg ${isLoading || (!input.trim() && !imageFile) ? 'bg-gray-300 cursor-not-allowed' : 'bg-diet-green text-white hover:bg-green-600'} transition-colors`}\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 5l7 7-7 7M5 5l7 7-7 7\" />\r\n              </svg>\r\n            </button>\r\n          </form>\r\n          \r\n          {imagePreview && (\r\n            <div className=\"mt-2 relative\">\r\n              <img src={imagePreview} alt=\"Yüklenen görsel\" className=\"h-20 object-contain rounded-md border border-gray-300\" />\r\n              <button \r\n                onClick={clearImage}\r\n                className=\"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors\"\r\n                title=\"Görseli kaldır\"\r\n              >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}