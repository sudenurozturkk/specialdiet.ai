{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\specialdiet.ai\\\\diyet-dostu-web\\\\client\\\\src\\\\components\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport ChatBubble from './ChatBubble';\nimport UserInfoForm from './UserInfoForm';\nimport DietPlanGenerator from './DietPlanGenerator';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [imageFile, setImageFile] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [chatList, setChatList] = useState([]);\n  const [activeChatId, setActiveChatId] = useState(null);\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [showUserInfoForm, setShowUserInfoForm] = useState(false);\n  const [showDietPlan, setShowDietPlan] = useState(false);\n  const [userInfo, setUserInfo] = useState(null);\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n  useEffect(() => {\n    fetchChatList();\n    checkUserInfo();\n  }, []);\n  useEffect(() => {\n    if (activeChatId) {\n      fetchChatHistory();\n    }\n  }, [activeChatId]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, showUserInfoForm, showDietPlan]);\n  const checkUserInfo = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadÄ±');\n        return;\n      }\n      const response = await axios.get('http://localhost:5000/api/user-info', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.data.userInfo) {\n        setUserInfo(response.data.userInfo);\n      } else {\n        // KullanÄ±cÄ± bilgisi yoksa formu gÃ¶ster\n        // GerÃ§ek uygulamada sohbet baÅŸlattÄ±ktan sonra gÃ¶ster\n        // Åimdilik yorum satÄ±rÄ± olarak bÄ±rakÄ±yoruz\n        // setShowUserInfoForm(true);\n      }\n    } catch (error) {\n      console.error('KullanÄ±cÄ± bilgisi kontrolÃ¼ sÄ±rasÄ±nda hata:', error);\n    }\n  };\n  const fetchChatList = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadÄ±');\n        return;\n      }\n\n      // Bu endpoint'i sunucu tarafÄ±nda oluÅŸturmanÄ±z gerekecek\n      // Ancak ÅŸimdilik simÃ¼le ediyoruz\n      // GerÃ§ek uygulamada: const response = await axios.get('http://localhost:5000/api/chat-list', {...});\n\n      // SimÃ¼le edilmiÅŸ sohbet listesi\n      const simulatedChats = [{\n        id: 'current',\n        title: 'Mevcut Sohbet',\n        date: new Date().toLocaleDateString()\n      }, {\n        id: 'diet-plan',\n        title: 'Diyet PlanÄ± OluÅŸturma',\n        date: '01.05.2025'\n      }, {\n        id: 'recipe-ideas',\n        title: 'Yemek Tarifleri',\n        date: '28.04.2025'\n      }, {\n        id: 'weight-loss',\n        title: 'Kilo Verme Tavsiyeleri',\n        date: '25.04.2025'\n      }];\n      setChatList(simulatedChats);\n      // Ä°lk sohbeti aktif sohbet olarak ayarla\n      setActiveChatId('current');\n    } catch (error) {\n      console.error('Sohbet listesi yÃ¼klenirken hata:', error);\n    }\n  };\n  const fetchChatHistory = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadÄ±');\n        return;\n      }\n      const response = await axios.get('http://localhost:5000/api/chat-history', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.data.chatHistory) {\n        setMessages(response.data.chatHistory);\n      }\n    } catch (error) {\n      console.error('Sohbet geÃ§miÅŸi yÃ¼klenirken hata:', error);\n    }\n  };\n  const createNewChat = () => {\n    // Yeni bir sohbet ID'si oluÅŸtur\n    const newChatId = 'chat-' + Date.now();\n\n    // Sohbet listesine ekle\n    const newChat = {\n      id: newChatId,\n      title: 'Yeni Sohbet',\n      date: new Date().toLocaleDateString()\n    };\n    setChatList([newChat, ...chatList]);\n    setActiveChatId(newChatId);\n    setMessages([{\n      role: 'assistant',\n      content: `Merhaba! ğŸ˜Š Diyet Dostu'na hoÅŸ geldin!\n\nBen senin kiÅŸisel beslenme ve spor asistanÄ±nÄ±m. Sohbet geÃ§miÅŸin temizlendi ve yeni bir konuÅŸma baÅŸlatÄ±ldÄ±.\n\nTÃ¼rk mutfaÄŸÄ±na uygun, kolay ve saÄŸlÄ±klÄ± tarifler sunarak diyet hedeflerine ulaÅŸmana yardÄ±mcÄ± olacaÄŸÄ±m.\n\nÄ°ÅŸte sana yardÄ±mcÄ± olabileceÄŸim konular:\nğŸ¥— TÃ¼rk mutfaÄŸÄ±na uygun dÃ¼ÅŸÃ¼k kalorili/yÃ¼ksek proteinli tarifler\nğŸ‹ï¸â€â™€ï¸ KiÅŸiselleÅŸtirilmiÅŸ egzersiz planlarÄ±\nğŸ“¸ Yemek fotoÄŸraflarÄ±nÄ± analiz ederek besin deÄŸeri tahmini\nğŸ“ HaftalÄ±k beslenme programÄ± oluÅŸturma\nğŸ“Š Kilo takibi ve geliÅŸim analizi\n\nSormak istediÄŸin bir ÅŸey var mÄ±? Birlikte saÄŸlÄ±klÄ± bir yaÅŸam yolculuÄŸuna baÅŸlayalÄ±m! ğŸ’ª`\n    }]);\n\n    // EÄŸer kullanÄ±cÄ± bilgileri yoksa formu gÃ¶ster\n    if (!userInfo) {\n      setTimeout(() => {\n        setMessages(prev => [...prev, {\n          role: 'assistant',\n          content: `Sana daha iyi yardÄ±mcÄ± olabilmem iÃ§in bazÄ± bilgilere ihtiyacÄ±m var. KiÅŸiselleÅŸtirilmiÅŸ diyet tavsiyeleri ve beslenme planÄ± oluÅŸturmamÄ± istersen \"kiÅŸisel bilgilerimi girmek istiyorum\" yazabilirsin.`\n        }]);\n      }, 1000);\n    }\n  };\n  const deleteChat = async chatId => {\n    if (!window.confirm('Bu sohbeti silmek istediÄŸinizden emin misiniz? Bu iÅŸlem geri alÄ±namaz.')) {\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadÄ±');\n        return;\n      }\n\n      // API Ã§aÄŸrÄ±sÄ±nÄ± yap\n      await axios.delete(`http://localhost:5000/api/delete-chat/${chatId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      // Silinecek sohbet aktif sohbetse baÅŸka bir sohbeti aktif yap\n      if (chatId === activeChatId) {\n        // Silinecek sohbet dÄ±ÅŸÄ±ndaki ilk sohbeti bul\n        const nextChat = chatList.find(chat => chat.id !== chatId);\n        if (nextChat) {\n          setActiveChatId(nextChat.id);\n          // Bu sohbetin geÃ§miÅŸini yÃ¼kle\n          // GerÃ§ek uygulamada API'dan yÃ¼klenecek, ÅŸimdilik temiz bir baÅŸlangÄ±Ã§ yapalÄ±m\n          setMessages([{\n            role: 'assistant',\n            content: `HoÅŸ geldiniz! Size nasÄ±l yardÄ±mcÄ± olabilirim?`\n          }]);\n        } else {\n          // HiÃ§ sohbet kalmadÄ±ysa yeni bir sohbet oluÅŸtur\n          createNewChat();\n        }\n      }\n\n      // Sohbeti listeden kaldÄ±r\n      setChatList(chatList.filter(chat => chat.id !== chatId));\n    } catch (error) {\n      console.error('Sohbet silinirken hata:', error);\n      alert('Sohbet silinirken bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.');\n    }\n  };\n  const clearChatHistory = async () => {\n    try {\n      if (!window.confirm('Sohbet geÃ§miÅŸini temizlemek istediÄŸinizden emin misiniz?')) {\n        return;\n      }\n      setIsLoading(true);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadÄ±');\n        return;\n      }\n\n      // API'ya istek gÃ¶nder\n      // GerÃ§ek bir API yanÄ±tÄ± bekleyene kadar, hemen UI'Ä± gÃ¼ncelleyelim\n      setMessages([{\n        role: 'assistant',\n        content: `Merhaba! ğŸ˜Š Diyet Dostu'na hoÅŸ geldin!\n\nBen senin kiÅŸisel beslenme ve spor asistanÄ±nÄ±m. Sohbet geÃ§miÅŸin temizlendi ve yeni bir konuÅŸma baÅŸlatÄ±ldÄ±.\n\nTÃ¼rk mutfaÄŸÄ±na uygun, kolay ve saÄŸlÄ±klÄ± tarifler sunarak diyet hedeflerine ulaÅŸmana yardÄ±mcÄ± olacaÄŸÄ±m.\n\nÄ°ÅŸte sana yardÄ±mcÄ± olabileceÄŸim konular:\nğŸ¥— TÃ¼rk mutfaÄŸÄ±na uygun dÃ¼ÅŸÃ¼k kalorili/yÃ¼ksek proteinli tarifler\nğŸ‹ï¸â€â™€ï¸ KiÅŸiselleÅŸtirilmiÅŸ egzersiz planlarÄ±\nğŸ“¸ Yemek fotoÄŸraflarÄ±nÄ± analiz ederek besin deÄŸeri tahmini\nğŸ“ HaftalÄ±k beslenme programÄ± oluÅŸturma\nğŸ“Š Kilo takibi ve geliÅŸim analizi\n\nSormak istediÄŸin bir ÅŸey var mÄ±? Birlikte saÄŸlÄ±klÄ± bir yaÅŸam yolculuÄŸuna baÅŸlayalÄ±m! ğŸ’ª`\n      }]);\n\n      // Aktif sohbeti gÃ¼ncelle\n      const updatedList = chatList.map(chat => {\n        if (chat.id === activeChatId) {\n          return {\n            ...chat,\n            title: 'TemizlenmiÅŸ Sohbet'\n          };\n        }\n        return chat;\n      });\n      setChatList(updatedList);\n\n      // FormlarÄ± gizle\n      setShowUserInfoForm(false);\n      setShowDietPlan(false);\n\n      // API isteÄŸi gÃ¶nder\n      const response = await axios.post('http://localhost:5000/api/clear-chat', {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      // API yanÄ±tÄ±na gÃ¶re tekrar gÃ¼ncelle\n      if (response.data.chatHistory) {\n        setMessages(response.data.chatHistory);\n      }\n    } catch (error) {\n      console.error('Sohbet geÃ§miÅŸi temizlenirken hata:', error);\n      // Hata durumunda kullanÄ±cÄ±yÄ± bilgilendir\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: 'ÃœzgÃ¼nÃ¼m, sohbet geÃ§miÅŸi temizlenirken bir hata oluÅŸtu.'\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n  const handleImageUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setImageFile(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const clearImage = () => {\n    setImageFile(null);\n    setImagePreview(null);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const message = input.trim();\n    if (!message && !imageFile) return;\n    try {\n      setIsLoading(true);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadÄ±');\n        return;\n      }\n\n      // KullanÄ±cÄ± mesajÄ±nÄ± ekleyin\n      const userMessage = {\n        role: 'user',\n        content: message\n      };\n      setMessages(prev => [...prev, userMessage]);\n      setInput('');\n\n      // Ã–zel komutlarÄ± kontrol et\n      if (message.toLowerCase().includes('kiÅŸisel bilgilerimi girmek istiyorum') || message.toLowerCase().includes('diyet programÄ± oluÅŸturmak istiyorum') || message.toLowerCase().includes('bilgilerimi gÃ¼ncellemek istiyorum')) {\n        setTimeout(() => {\n          setShowUserInfoForm(true);\n          setIsLoading(false);\n        }, 500);\n        return;\n      }\n      if (message.toLowerCase().includes('diyet planÄ±mÄ± gÃ¶ster') || message.toLowerCase().includes('beslenme planÄ±mÄ± gÃ¶ster') || message.toLowerCase().includes('beslenme planÄ± oluÅŸtur')) {\n        if (!userInfo) {\n          // KullanÄ±cÄ± bilgisi yoksa bilgi formunu gÃ¶ster\n          setTimeout(() => {\n            setMessages(prev => [...prev, {\n              role: 'assistant',\n              content: 'Diyet planÄ± oluÅŸturmak iÃ§in Ã¶ncelikle kiÅŸisel bilgilerinizi girmeniz gerekiyor. Bilgi formunu aÃ§Ä±yorum...'\n            }]);\n            setTimeout(() => {\n              setShowUserInfoForm(true);\n              setIsLoading(false);\n            }, 500);\n          }, 500);\n        } else {\n          // KullanÄ±cÄ± bilgisi varsa diyet planÄ±nÄ± gÃ¶ster\n          setTimeout(() => {\n            setMessages(prev => [...prev, {\n              role: 'assistant',\n              content: 'Ä°ÅŸte size Ã¶zel hazÄ±rladÄ±ÄŸÄ±m beslenme planÄ±:'\n            }]);\n            setTimeout(() => {\n              setShowDietPlan(true);\n              setIsLoading(false);\n            }, 500);\n          }, 500);\n        }\n        return;\n      }\n\n      // EÄŸer gÃ¶rsel varsa, farklÄ± bir endpoint kullanarak gÃ¶rsel analizi yapÄ±n\n      if (imageFile) {\n        const formData = new FormData();\n        formData.append('image', imageFile);\n        await axios.post('http://localhost:5000/api/analyze-image', formData, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        clearImage();\n      } else {\n        // Normal metin mesajÄ± gÃ¶nderme\n        const response = await axios.post('http://localhost:5000/api/chat', {\n          message\n        }, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n\n        // Asistan yanÄ±tÄ±nÄ± ekleyin (eÄŸer yanÄ±t mevcutsa)\n        if (response.data.response) {\n          const assistantMessage = {\n            role: 'assistant',\n            content: response.data.response\n          };\n          setMessages(prev => [...prev, assistantMessage]);\n        }\n\n        // Ä°lk mesaj ise sohbet baÅŸlÄ±ÄŸÄ±nÄ± gÃ¼ncelle\n        if (messages.length <= 1) {\n          const updatedList = chatList.map(chat => {\n            if (chat.id === activeChatId) {\n              // Ä°lk 20 karakteri baÅŸlÄ±k olarak kullan\n              return {\n                ...chat,\n                title: message.substring(0, 20) + (message.length > 20 ? '...' : '')\n              };\n            }\n            return chat;\n          });\n          setChatList(updatedList);\n        }\n      }\n    } catch (error) {\n      console.error('Mesaj gÃ¶nderilirken hata:', error);\n\n      // Hata mesajÄ±nÄ± sohbete ekleyin\n      const errorMessage = {\n        role: 'assistant',\n        content: 'ÃœzgÃ¼nÃ¼m, bir hata oluÅŸtu. LÃ¼tfen daha sonra tekrar deneyin.'\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n      setTimeout(scrollToBottom, 100);\n    }\n  };\n  const handleUserInfoSubmit = formData => {\n    // KullanÄ±cÄ± bilgilerini kaydet\n    setUserInfo(formData);\n    setShowUserInfoForm(false);\n\n    // KullanÄ±cÄ± bilgileri alÄ±ndÄ±ÄŸÄ±nda diyet planÄ±nÄ± gÃ¶ster\n    setTimeout(() => {\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: `TeÅŸekkÃ¼rler! Bilgileriniz kaydedildi. \n\nSize Ã¶zel bir beslenme planÄ± hazÄ±rlÄ±yorum. Bu plan, hedeflerinize, tercihlerinize ve ihtiyaÃ§larÄ±nÄ±za gÃ¶re Ã¶zelleÅŸtirilmiÅŸtir.\n\nÄ°ÅŸte size Ã¶zel beslenme planÄ±m:`\n      }]);\n      setTimeout(() => {\n        setShowDietPlan(true);\n      }, 1000);\n    }, 500);\n  };\n  const toggleSidebar = () => {\n    setSidebarOpen(!sidebarOpen);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-[calc(100vh-64px)]\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `chat-sidebar ${sidebarOpen ? 'open' : 'closed'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-gray-700\",\n          children: \"Sohbetlerim\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: createNewChat,\n          className: \"bg-diet-green text-white p-2 rounded-lg hover:bg-green-600 transition-colors\",\n          title: \"Yeni sohbet ba\\u015Flat\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 4v16m8-8H4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-y-auto h-full\",\n        children: chatList.map(chat => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-3 border-b cursor-pointer hover:bg-gray-100 flex justify-between items-center ${chat.id === activeChatId ? 'bg-diet-green bg-opacity-10 border-l-4 border-diet-green' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            onClick: () => setActiveChatId(chat.id),\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium text-gray-800\",\n              children: chat.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: chat.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this), chat.id !== 'current' && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              e.stopPropagation();\n              deleteChat(chat.id);\n            },\n            className: \"text-gray-400 hover:text-red-500 p-1\",\n            title: \"Sohbeti sil\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-5 w-5\",\n              viewBox: \"0 0 20 20\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 17\n          }, this)]\n        }, chat.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"sidebar-toggle\",\n        onClick: toggleSidebar,\n        title: sidebarOpen ? \"Kenar Ã§ubuÄŸunu kapat\" : \"Kenar Ã§ubuÄŸunu aÃ§\",\n        children: sidebarOpen ? /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-6 w-6\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M11 19l-7-7 7-7m8 14l-7-7 7-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-6 w-6\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M13 5l7 7-7 7M5 5l7 7-7 7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-diet-green text-white flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"diyet-dostu-avatar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                viewBox: \"0 0 24 24\",\n                fill: \"#4CAF50\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"12\",\n                  cy: \"12\",\n                  r: \"10\",\n                  fill: \"#e8f5e9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M17 8.5C17 6.01 14.99 4 12.5 4C10.01 4 8 6.01 8 8.5C8 11.99 12.5 16.5 12.5 16.5C12.5 16.5 17 11.99 17 8.5ZM12.5 9.5C11.95 9.5 11.5 9.05 11.5 8.5C11.5 7.95 11.95 7.5 12.5 7.5C13.05 7.5 13.5 7.95 13.5 8.5C13.5 9.05 13.05 9.5 12.5 9.5Z\",\n                  fill: \"#4CAF50\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M16 15H9C8.45 15 8 15.45 8 16C8 16.55 8.45 17 9 17H16C16.55 17 17 16.55 17 16C17 15.45 16.55 15 16 15Z\",\n                  fill: \"#4CAF50\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20ZM12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z\",\n                  fill: \"#4CAF50\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold\",\n              children: \"Diyet Dostu \\uD83E\\uDD57\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: \"Sa\\u011Fl\\u0131kl\\u0131 ya\\u015Fam asistan\\u0131n\\u0131z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearChatHistory,\n          className: \"bg-white bg-opacity-20 hover:bg-opacity-30 text-white py-1 px-3 rounded-lg text-sm transition-colors duration-200\",\n          title: \"Sohbet ge\\xE7mi\\u015Fini temizle\",\n          children: \"Sohbeti Temizle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow overflow-y-auto p-4 chat-messages\",\n        children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center h-full\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-4xl mb-4\",\n              children: \"\\uD83D\\uDC4B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl font-medium text-gray-700 mb-2\",\n              children: \"Diyet Dostu'na Ho\\u015F Geldin!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 mb-4\",\n              children: \"Beslenme, diyet veya fitness hakk\\u0131nda bir \\u015Feyler sor.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 13\n        }, this) : messages.map((msg, index) => /*#__PURE__*/_jsxDEV(ChatBubble, {\n          message: msg\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 15\n        }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 text-gray-500 p-4 bg-gray-100 rounded-lg max-w-[80%] mr-auto my-3 shadow-md loading-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"food-icons\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon apple\",\n                children: \"\\uD83C\\uDF4E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon broccoli\",\n                children: \"\\uD83E\\uDD66\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon avocado\",\n                children: \"\\uD83E\\uDD51\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 576,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"ml-2 font-medium\",\n              children: \"Diyet Dostu d\\xFC\\u015F\\xFCn\\xFCyor...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 13\n        }, this), showUserInfoForm && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-4 p-2 bg-white rounded-lg shadow-lg\",\n          children: /*#__PURE__*/_jsxDEV(UserInfoForm, {\n            onSubmit: handleUserInfoSubmit,\n            onCancel: () => setShowUserInfoForm(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 13\n        }, this), showDietPlan && userInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-4 p-2 bg-white rounded-lg shadow-lg\",\n          children: /*#__PURE__*/_jsxDEV(DietPlanGenerator, {\n            userInfo: userInfo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"flex items-end gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: input,\n              onChange: e => setInput(e.target.value),\n              onKeyDown: handleKeyDown,\n              ref: textareaRef,\n              placeholder: \"Diyet Dostu'na bir soru sor...\",\n              className: \"w-full p-3 pr-12 border border-gray-300 rounded-lg resize-none focus:border-diet-green focus:ring-1 focus:ring-diet-green outline-none min-h-[50px] max-h-[200px]\",\n              rows: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"image-upload\",\n              className: \"absolute right-2 bottom-2 cursor-pointer text-gray-500 hover:text-diet-green p-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-6 w-6\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 618,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"image-upload\",\n                type: \"file\",\n                accept: \"image/*\",\n                onChange: handleImageUpload,\n                className: \"hidden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isLoading || !input.trim() && !imageFile,\n            className: `p-3 rounded-lg ${isLoading || !input.trim() && !imageFile ? 'bg-gray-300 cursor-not-allowed' : 'bg-diet-green text-white hover:bg-green-600'} transition-colors`,\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-6 w-6\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M13 5l7 7-7 7M5 5l7 7-7 7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 11\n        }, this), imagePreview && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: imagePreview,\n            alt: \"Y\\xFCklenen g\\xF6rsel\",\n            className: \"h-20 object-contain rounded-md border border-gray-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearImage,\n            className: \"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors\",\n            title: \"G\\xF6rseli kald\\u0131r\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-4 w-4\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 642,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 603,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 462,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"8TMewYKGyh4+pbzODKpfMIZSljA=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","ChatBubble","UserInfoForm","DietPlanGenerator","jsxDEV","_jsxDEV","Chat","_s","messages","setMessages","input","setInput","isLoading","setIsLoading","imageFile","setImageFile","imagePreview","setImagePreview","chatList","setChatList","activeChatId","setActiveChatId","sidebarOpen","setSidebarOpen","showUserInfoForm","setShowUserInfoForm","showDietPlan","setShowDietPlan","userInfo","setUserInfo","messagesEndRef","textareaRef","fetchChatList","checkUserInfo","fetchChatHistory","scrollToBottom","token","localStorage","getItem","console","error","response","get","headers","Authorization","data","simulatedChats","id","title","date","Date","toLocaleDateString","chatHistory","createNewChat","newChatId","now","newChat","role","content","setTimeout","prev","deleteChat","chatId","window","confirm","delete","nextChat","find","chat","filter","alert","clearChatHistory","updatedList","map","post","_messagesEndRef$curre","current","scrollIntoView","behavior","handleKeyDown","e","key","shiftKey","preventDefault","handleSubmit","handleImageUpload","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","clearImage","message","trim","userMessage","toLowerCase","includes","formData","FormData","append","assistantMessage","length","substring","errorMessage","handleUserInfoSubmit","toggleSidebar","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","stopPropagation","fillRule","clipRule","cx","cy","r","msg","index","onSubmit","onCancel","ref","value","onChange","onKeyDown","placeholder","rows","htmlFor","type","accept","disabled","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/specialdiet.ai/diyet-dostu-web/client/src/components/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport ChatBubble from './ChatBubble';\r\nimport UserInfoForm from './UserInfoForm';\r\nimport DietPlanGenerator from './DietPlanGenerator';\r\n\r\nconst Chat = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [chatList, setChatList] = useState([]);\r\n  const [activeChatId, setActiveChatId] = useState(null);\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  const [showUserInfoForm, setShowUserInfoForm] = useState(false);\r\n  const [showDietPlan, setShowDietPlan] = useState(false);\r\n  const [userInfo, setUserInfo] = useState(null);\r\n  const messagesEndRef = useRef(null);\r\n  const textareaRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    fetchChatList();\r\n    checkUserInfo();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (activeChatId) {\r\n      fetchChatHistory();\r\n    }\r\n  }, [activeChatId]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages, showUserInfoForm, showDietPlan]);\r\n\r\n  const checkUserInfo = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadÄ±');\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.get('http://localhost:5000/api/user-info', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.data.userInfo) {\r\n        setUserInfo(response.data.userInfo);\r\n      } else {\r\n        // KullanÄ±cÄ± bilgisi yoksa formu gÃ¶ster\r\n        // GerÃ§ek uygulamada sohbet baÅŸlattÄ±ktan sonra gÃ¶ster\r\n        // Åimdilik yorum satÄ±rÄ± olarak bÄ±rakÄ±yoruz\r\n        // setShowUserInfoForm(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('KullanÄ±cÄ± bilgisi kontrolÃ¼ sÄ±rasÄ±nda hata:', error);\r\n    }\r\n  };\r\n\r\n  const fetchChatList = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadÄ±');\r\n        return;\r\n      }\r\n      \r\n      // Bu endpoint'i sunucu tarafÄ±nda oluÅŸturmanÄ±z gerekecek\r\n      // Ancak ÅŸimdilik simÃ¼le ediyoruz\r\n      // GerÃ§ek uygulamada: const response = await axios.get('http://localhost:5000/api/chat-list', {...});\r\n      \r\n      // SimÃ¼le edilmiÅŸ sohbet listesi\r\n      const simulatedChats = [\r\n        { id: 'current', title: 'Mevcut Sohbet', date: new Date().toLocaleDateString() },\r\n        { id: 'diet-plan', title: 'Diyet PlanÄ± OluÅŸturma', date: '01.05.2025' },\r\n        { id: 'recipe-ideas', title: 'Yemek Tarifleri', date: '28.04.2025' },\r\n        { id: 'weight-loss', title: 'Kilo Verme Tavsiyeleri', date: '25.04.2025' }\r\n      ];\r\n      \r\n      setChatList(simulatedChats);\r\n      // Ä°lk sohbeti aktif sohbet olarak ayarla\r\n      setActiveChatId('current');\r\n      \r\n    } catch (error) {\r\n      console.error('Sohbet listesi yÃ¼klenirken hata:', error);\r\n    }\r\n  };\r\n\r\n  const fetchChatHistory = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadÄ±');\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.get('http://localhost:5000/api/chat-history', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.data.chatHistory) {\r\n        setMessages(response.data.chatHistory);\r\n      }\r\n    } catch (error) {\r\n      console.error('Sohbet geÃ§miÅŸi yÃ¼klenirken hata:', error);\r\n    }\r\n  };\r\n\r\n  const createNewChat = () => {\r\n    // Yeni bir sohbet ID'si oluÅŸtur\r\n    const newChatId = 'chat-' + Date.now();\r\n    \r\n    // Sohbet listesine ekle\r\n    const newChat = {\r\n      id: newChatId,\r\n      title: 'Yeni Sohbet',\r\n      date: new Date().toLocaleDateString()\r\n    };\r\n    \r\n    setChatList([newChat, ...chatList]);\r\n    setActiveChatId(newChatId);\r\n    setMessages([{\r\n      role: 'assistant',\r\n      content: `Merhaba! ğŸ˜Š Diyet Dostu'na hoÅŸ geldin!\r\n\r\nBen senin kiÅŸisel beslenme ve spor asistanÄ±nÄ±m. Sohbet geÃ§miÅŸin temizlendi ve yeni bir konuÅŸma baÅŸlatÄ±ldÄ±.\r\n\r\nTÃ¼rk mutfaÄŸÄ±na uygun, kolay ve saÄŸlÄ±klÄ± tarifler sunarak diyet hedeflerine ulaÅŸmana yardÄ±mcÄ± olacaÄŸÄ±m.\r\n\r\nÄ°ÅŸte sana yardÄ±mcÄ± olabileceÄŸim konular:\r\nğŸ¥— TÃ¼rk mutfaÄŸÄ±na uygun dÃ¼ÅŸÃ¼k kalorili/yÃ¼ksek proteinli tarifler\r\nğŸ‹ï¸â€â™€ï¸ KiÅŸiselleÅŸtirilmiÅŸ egzersiz planlarÄ±\r\nğŸ“¸ Yemek fotoÄŸraflarÄ±nÄ± analiz ederek besin deÄŸeri tahmini\r\nğŸ“ HaftalÄ±k beslenme programÄ± oluÅŸturma\r\nğŸ“Š Kilo takibi ve geliÅŸim analizi\r\n\r\nSormak istediÄŸin bir ÅŸey var mÄ±? Birlikte saÄŸlÄ±klÄ± bir yaÅŸam yolculuÄŸuna baÅŸlayalÄ±m! ğŸ’ª`\r\n    }]);\r\n    \r\n    // EÄŸer kullanÄ±cÄ± bilgileri yoksa formu gÃ¶ster\r\n    if (!userInfo) {\r\n      setTimeout(() => {\r\n        setMessages(prev => [...prev, {\r\n          role: 'assistant',\r\n          content: `Sana daha iyi yardÄ±mcÄ± olabilmem iÃ§in bazÄ± bilgilere ihtiyacÄ±m var. KiÅŸiselleÅŸtirilmiÅŸ diyet tavsiyeleri ve beslenme planÄ± oluÅŸturmamÄ± istersen \"kiÅŸisel bilgilerimi girmek istiyorum\" yazabilirsin.`\r\n        }]);\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  const deleteChat = async (chatId) => {\r\n    if (!window.confirm('Bu sohbeti silmek istediÄŸinizden emin misiniz? Bu iÅŸlem geri alÄ±namaz.')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadÄ±');\r\n        return;\r\n      }\r\n      \r\n      // API Ã§aÄŸrÄ±sÄ±nÄ± yap\r\n      await axios.delete(`http://localhost:5000/api/delete-chat/${chatId}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      // Silinecek sohbet aktif sohbetse baÅŸka bir sohbeti aktif yap\r\n      if (chatId === activeChatId) {\r\n        // Silinecek sohbet dÄ±ÅŸÄ±ndaki ilk sohbeti bul\r\n        const nextChat = chatList.find(chat => chat.id !== chatId);\r\n        \r\n        if (nextChat) {\r\n          setActiveChatId(nextChat.id);\r\n          // Bu sohbetin geÃ§miÅŸini yÃ¼kle\r\n          // GerÃ§ek uygulamada API'dan yÃ¼klenecek, ÅŸimdilik temiz bir baÅŸlangÄ±Ã§ yapalÄ±m\r\n          setMessages([{\r\n            role: 'assistant',\r\n            content: `HoÅŸ geldiniz! Size nasÄ±l yardÄ±mcÄ± olabilirim?`\r\n          }]);\r\n        } else {\r\n          // HiÃ§ sohbet kalmadÄ±ysa yeni bir sohbet oluÅŸtur\r\n          createNewChat();\r\n        }\r\n      }\r\n      \r\n      // Sohbeti listeden kaldÄ±r\r\n      setChatList(chatList.filter(chat => chat.id !== chatId));\r\n      \r\n    } catch (error) {\r\n      console.error('Sohbet silinirken hata:', error);\r\n      alert('Sohbet silinirken bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.');\r\n    }\r\n  };\r\n\r\n  const clearChatHistory = async () => {\r\n    try {\r\n      if (!window.confirm('Sohbet geÃ§miÅŸini temizlemek istediÄŸinizden emin misiniz?')) {\r\n        return;\r\n      }\r\n      \r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadÄ±');\r\n        return;\r\n      }\r\n      \r\n      // API'ya istek gÃ¶nder\r\n      // GerÃ§ek bir API yanÄ±tÄ± bekleyene kadar, hemen UI'Ä± gÃ¼ncelleyelim\r\n      setMessages([{\r\n        role: 'assistant',\r\n        content: `Merhaba! ğŸ˜Š Diyet Dostu'na hoÅŸ geldin!\r\n\r\nBen senin kiÅŸisel beslenme ve spor asistanÄ±nÄ±m. Sohbet geÃ§miÅŸin temizlendi ve yeni bir konuÅŸma baÅŸlatÄ±ldÄ±.\r\n\r\nTÃ¼rk mutfaÄŸÄ±na uygun, kolay ve saÄŸlÄ±klÄ± tarifler sunarak diyet hedeflerine ulaÅŸmana yardÄ±mcÄ± olacaÄŸÄ±m.\r\n\r\nÄ°ÅŸte sana yardÄ±mcÄ± olabileceÄŸim konular:\r\nğŸ¥— TÃ¼rk mutfaÄŸÄ±na uygun dÃ¼ÅŸÃ¼k kalorili/yÃ¼ksek proteinli tarifler\r\nğŸ‹ï¸â€â™€ï¸ KiÅŸiselleÅŸtirilmiÅŸ egzersiz planlarÄ±\r\nğŸ“¸ Yemek fotoÄŸraflarÄ±nÄ± analiz ederek besin deÄŸeri tahmini\r\nğŸ“ HaftalÄ±k beslenme programÄ± oluÅŸturma\r\nğŸ“Š Kilo takibi ve geliÅŸim analizi\r\n\r\nSormak istediÄŸin bir ÅŸey var mÄ±? Birlikte saÄŸlÄ±klÄ± bir yaÅŸam yolculuÄŸuna baÅŸlayalÄ±m! ğŸ’ª`\r\n      }]);\r\n      \r\n      // Aktif sohbeti gÃ¼ncelle\r\n      const updatedList = chatList.map(chat => {\r\n        if (chat.id === activeChatId) {\r\n          return { ...chat, title: 'TemizlenmiÅŸ Sohbet' };\r\n        }\r\n        return chat;\r\n      });\r\n      \r\n      setChatList(updatedList);\r\n      \r\n      // FormlarÄ± gizle\r\n      setShowUserInfoForm(false);\r\n      setShowDietPlan(false);\r\n      \r\n      // API isteÄŸi gÃ¶nder\r\n      const response = await axios.post('http://localhost:5000/api/clear-chat', {}, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      // API yanÄ±tÄ±na gÃ¶re tekrar gÃ¼ncelle\r\n      if (response.data.chatHistory) {\r\n        setMessages(response.data.chatHistory);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Sohbet geÃ§miÅŸi temizlenirken hata:', error);\r\n      // Hata durumunda kullanÄ±cÄ±yÄ± bilgilendir\r\n      setMessages(prev => [...prev, {\r\n        role: 'assistant',\r\n        content: 'ÃœzgÃ¼nÃ¼m, sohbet geÃ§miÅŸi temizlenirken bir hata oluÅŸtu.'\r\n      }]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSubmit(e);\r\n    }\r\n  };\r\n\r\n  const handleImageUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setImageFile(file);\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setImagePreview(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const clearImage = () => {\r\n    setImageFile(null);\r\n    setImagePreview(null);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const message = input.trim();\r\n    \r\n    if (!message && !imageFile) return;\r\n    \r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadÄ±');\r\n        return;\r\n      }\r\n      \r\n      // KullanÄ±cÄ± mesajÄ±nÄ± ekleyin\r\n      const userMessage = {\r\n        role: 'user',\r\n        content: message\r\n      };\r\n      \r\n      setMessages((prev) => [...prev, userMessage]);\r\n      setInput('');\r\n      \r\n      // Ã–zel komutlarÄ± kontrol et\r\n      if (message.toLowerCase().includes('kiÅŸisel bilgilerimi girmek istiyorum') ||\r\n          message.toLowerCase().includes('diyet programÄ± oluÅŸturmak istiyorum') ||\r\n          message.toLowerCase().includes('bilgilerimi gÃ¼ncellemek istiyorum')) {\r\n        \r\n        setTimeout(() => {\r\n          setShowUserInfoForm(true);\r\n          setIsLoading(false);\r\n        }, 500);\r\n        \r\n        return;\r\n      }\r\n      \r\n      if (message.toLowerCase().includes('diyet planÄ±mÄ± gÃ¶ster') ||\r\n          message.toLowerCase().includes('beslenme planÄ±mÄ± gÃ¶ster') ||\r\n          message.toLowerCase().includes('beslenme planÄ± oluÅŸtur')) {\r\n        \r\n        if (!userInfo) {\r\n          // KullanÄ±cÄ± bilgisi yoksa bilgi formunu gÃ¶ster\r\n          setTimeout(() => {\r\n            setMessages((prev) => [...prev, {\r\n              role: 'assistant',\r\n              content: 'Diyet planÄ± oluÅŸturmak iÃ§in Ã¶ncelikle kiÅŸisel bilgilerinizi girmeniz gerekiyor. Bilgi formunu aÃ§Ä±yorum...'\r\n            }]);\r\n            \r\n            setTimeout(() => {\r\n              setShowUserInfoForm(true);\r\n              setIsLoading(false);\r\n            }, 500);\r\n          }, 500);\r\n        } else {\r\n          // KullanÄ±cÄ± bilgisi varsa diyet planÄ±nÄ± gÃ¶ster\r\n          setTimeout(() => {\r\n            setMessages((prev) => [...prev, {\r\n              role: 'assistant',\r\n              content: 'Ä°ÅŸte size Ã¶zel hazÄ±rladÄ±ÄŸÄ±m beslenme planÄ±:'\r\n            }]);\r\n            \r\n            setTimeout(() => {\r\n              setShowDietPlan(true);\r\n              setIsLoading(false);\r\n            }, 500);\r\n          }, 500);\r\n        }\r\n        \r\n        return;\r\n      }\r\n      \r\n      // EÄŸer gÃ¶rsel varsa, farklÄ± bir endpoint kullanarak gÃ¶rsel analizi yapÄ±n\r\n      if (imageFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', imageFile);\r\n        \r\n        await axios.post(\r\n          'http://localhost:5000/api/analyze-image',\r\n          formData,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n          }\r\n        );\r\n        \r\n        clearImage();\r\n      } else {\r\n        // Normal metin mesajÄ± gÃ¶nderme\r\n        const response = await axios.post('http://localhost:5000/api/chat',\r\n          { message },\r\n          { headers: { Authorization: `Bearer ${token}` } }\r\n        );\r\n        \r\n        // Asistan yanÄ±tÄ±nÄ± ekleyin (eÄŸer yanÄ±t mevcutsa)\r\n        if (response.data.response) {\r\n          const assistantMessage = {\r\n            role: 'assistant',\r\n            content: response.data.response\r\n          };\r\n          \r\n          setMessages((prev) => [...prev, assistantMessage]);\r\n        }\r\n\r\n        // Ä°lk mesaj ise sohbet baÅŸlÄ±ÄŸÄ±nÄ± gÃ¼ncelle\r\n        if (messages.length <= 1) {\r\n          const updatedList = chatList.map(chat => {\r\n            if (chat.id === activeChatId) {\r\n              // Ä°lk 20 karakteri baÅŸlÄ±k olarak kullan\r\n              return { ...chat, title: message.substring(0, 20) + (message.length > 20 ? '...' : '') };\r\n            }\r\n            return chat;\r\n          });\r\n          \r\n          setChatList(updatedList);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Mesaj gÃ¶nderilirken hata:', error);\r\n      \r\n      // Hata mesajÄ±nÄ± sohbete ekleyin\r\n      const errorMessage = {\r\n        role: 'assistant',\r\n        content: 'ÃœzgÃ¼nÃ¼m, bir hata oluÅŸtu. LÃ¼tfen daha sonra tekrar deneyin.'\r\n      };\r\n      \r\n      setMessages((prev) => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n      setTimeout(scrollToBottom, 100);\r\n    }\r\n  };\r\n\r\n  const handleUserInfoSubmit = (formData) => {\r\n    // KullanÄ±cÄ± bilgilerini kaydet\r\n    setUserInfo(formData);\r\n    setShowUserInfoForm(false);\r\n    \r\n    // KullanÄ±cÄ± bilgileri alÄ±ndÄ±ÄŸÄ±nda diyet planÄ±nÄ± gÃ¶ster\r\n    setTimeout(() => {\r\n      setMessages((prev) => [...prev, {\r\n        role: 'assistant',\r\n        content: `TeÅŸekkÃ¼rler! Bilgileriniz kaydedildi. \r\n\r\nSize Ã¶zel bir beslenme planÄ± hazÄ±rlÄ±yorum. Bu plan, hedeflerinize, tercihlerinize ve ihtiyaÃ§larÄ±nÄ±za gÃ¶re Ã¶zelleÅŸtirilmiÅŸtir.\r\n\r\nÄ°ÅŸte size Ã¶zel beslenme planÄ±m:`\r\n      }]);\r\n      \r\n      setTimeout(() => {\r\n        setShowDietPlan(true);\r\n      }, 1000);\r\n    }, 500);\r\n  };\r\n\r\n  const toggleSidebar = () => {\r\n    setSidebarOpen(!sidebarOpen);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-[calc(100vh-64px)]\">\r\n      {/* Sol Kenar Ã‡ubuÄŸu - Sohbet Listesi */}\r\n      <div className={`chat-sidebar ${sidebarOpen ? 'open' : 'closed'}`}>\r\n        <div className=\"p-4 border-b flex justify-between items-center\">\r\n          <h3 className=\"font-semibold text-gray-700\">Sohbetlerim</h3>\r\n          <button \r\n            onClick={createNewChat}\r\n            className=\"bg-diet-green text-white p-2 rounded-lg hover:bg-green-600 transition-colors\"\r\n            title=\"Yeni sohbet baÅŸlat\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"overflow-y-auto h-full\">\r\n          {chatList.map((chat) => (\r\n            <div \r\n              key={chat.id}\r\n              className={`p-3 border-b cursor-pointer hover:bg-gray-100 flex justify-between items-center ${chat.id === activeChatId ? 'bg-diet-green bg-opacity-10 border-l-4 border-diet-green' : ''}`}\r\n            >\r\n              <div className=\"flex-1\" onClick={() => setActiveChatId(chat.id)}>\r\n                <p className=\"font-medium text-gray-800\">{chat.title}</p>\r\n                <p className=\"text-xs text-gray-500\">{chat.date}</p>\r\n              </div>\r\n              {chat.id !== 'current' && (\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    deleteChat(chat.id);\r\n                  }}\r\n                  className=\"text-gray-400 hover:text-red-500 p-1\"\r\n                  title=\"Sohbeti sil\"\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                </button>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Sohbet BÃ¶lÃ¼mÃ¼ */}\r\n      <div className=\"flex-1 flex flex-col relative\">\r\n        {/* Mobil gÃ¶rÃ¼nÃ¼mde kenar Ã§ubuÄŸu aÃ§ma/kapama butonu */}\r\n        <button \r\n          className=\"sidebar-toggle\"\r\n          onClick={toggleSidebar}\r\n          title={sidebarOpen ? \"Kenar Ã§ubuÄŸunu kapat\" : \"Kenar Ã§ubuÄŸunu aÃ§\"}\r\n        >\r\n          {sidebarOpen ? (\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 19l-7-7 7-7m8 14l-7-7 7-7\" />\r\n            </svg>\r\n          ) : (\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 5l7 7-7 7M5 5l7 7-7 7\" />\r\n            </svg>\r\n          )}\r\n        </button>\r\n        \r\n        <div className=\"p-4 bg-diet-green text-white flex justify-between items-center\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"diyet-dostu-avatar\">\r\n              <div className=\"avatar-icon\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"#4CAF50\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#e8f5e9\" />\r\n                  <path d=\"M17 8.5C17 6.01 14.99 4 12.5 4C10.01 4 8 6.01 8 8.5C8 11.99 12.5 16.5 12.5 16.5C12.5 16.5 17 11.99 17 8.5ZM12.5 9.5C11.95 9.5 11.5 9.05 11.5 8.5C11.5 7.95 11.95 7.5 12.5 7.5C13.05 7.5 13.5 7.95 13.5 8.5C13.5 9.05 13.05 9.5 12.5 9.5Z\" fill=\"#4CAF50\" />\r\n                  <path d=\"M16 15H9C8.45 15 8 15.45 8 16C8 16.55 8.45 17 9 17H16C16.55 17 17 16.55 17 16C17 15.45 16.55 15 16 15Z\" fill=\"#4CAF50\" />\r\n                  <path d=\"M12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20ZM12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z\" fill=\"#4CAF50\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold\">Diyet Dostu ğŸ¥—</h2>\r\n              <p className=\"text-sm\">SaÄŸlÄ±klÄ± yaÅŸam asistanÄ±nÄ±z</p>\r\n            </div>\r\n          </div>\r\n          <button \r\n            onClick={clearChatHistory}\r\n            className=\"bg-white bg-opacity-20 hover:bg-opacity-30 text-white py-1 px-3 rounded-lg text-sm transition-colors duration-200\"\r\n            title=\"Sohbet geÃ§miÅŸini temizle\"\r\n          >\r\n            Sohbeti Temizle\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"flex-grow overflow-y-auto p-4 chat-messages\">\r\n          {messages.length === 0 ? (\r\n            <div className=\"flex items-center justify-center h-full\">\r\n              <div className=\"text-center\">\r\n                <div className=\"text-4xl mb-4\">ğŸ‘‹</div>\r\n                <p className=\"text-xl font-medium text-gray-700 mb-2\">Diyet Dostu'na HoÅŸ Geldin!</p>\r\n                <p className=\"text-gray-500 mb-4\">Beslenme, diyet veya fitness hakkÄ±nda bir ÅŸeyler sor.</p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            messages.map((msg, index) => (\r\n              <ChatBubble \r\n                key={index}\r\n                message={msg}\r\n              />\r\n            ))\r\n          )}\r\n          \r\n          {isLoading && (\r\n            <div className=\"flex items-center space-x-2 text-gray-500 p-4 bg-gray-100 rounded-lg max-w-[80%] mr-auto my-3 shadow-md loading-container\">\r\n              <div className=\"loader-container\">\r\n                <div className=\"food-icons\">\r\n                  <span className=\"icon apple\">ğŸ</span>\r\n                  <span className=\"icon broccoli\">ğŸ¥¦</span>\r\n                  <span className=\"icon avocado\">ğŸ¥‘</span>\r\n                </div>\r\n                <p className=\"ml-2 font-medium\">Diyet Dostu dÃ¼ÅŸÃ¼nÃ¼yor...</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* KullanÄ±cÄ± bilgi formu */}\r\n          {showUserInfoForm && (\r\n            <div className=\"my-4 p-2 bg-white rounded-lg shadow-lg\">\r\n              <UserInfoForm \r\n                onSubmit={handleUserInfoSubmit} \r\n                onCancel={() => setShowUserInfoForm(false)}\r\n              />\r\n            </div>\r\n          )}\r\n          \r\n          {/* Diyet planÄ± */}\r\n          {showDietPlan && userInfo && (\r\n            <div className=\"my-4 p-2 bg-white rounded-lg shadow-lg\">\r\n              <DietPlanGenerator userInfo={userInfo} />\r\n            </div>\r\n          )}\r\n          \r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n\r\n        <div className=\"p-4 border-t\">\r\n          <form onSubmit={handleSubmit} className=\"flex items-end gap-2\">\r\n            <div className=\"flex-1 relative\">\r\n              <textarea\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                onKeyDown={handleKeyDown}\r\n                ref={textareaRef}\r\n                placeholder=\"Diyet Dostu'na bir soru sor...\"\r\n                className=\"w-full p-3 pr-12 border border-gray-300 rounded-lg resize-none focus:border-diet-green focus:ring-1 focus:ring-diet-green outline-none min-h-[50px] max-h-[200px]\"\r\n                rows=\"1\"\r\n              ></textarea>\r\n              \r\n              <label htmlFor=\"image-upload\" className=\"absolute right-2 bottom-2 cursor-pointer text-gray-500 hover:text-diet-green p-1\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                </svg>\r\n                <input\r\n                  id=\"image-upload\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={handleImageUpload}\r\n                  className=\"hidden\"\r\n                />\r\n              </label>\r\n            </div>\r\n            \r\n            <button\r\n              type=\"submit\"\r\n              disabled={isLoading || (!input.trim() && !imageFile)}\r\n              className={`p-3 rounded-lg ${isLoading || (!input.trim() && !imageFile) ? 'bg-gray-300 cursor-not-allowed' : 'bg-diet-green text-white hover:bg-green-600'} transition-colors`}\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 5l7 7-7 7M5 5l7 7-7 7\" />\r\n              </svg>\r\n            </button>\r\n          </form>\r\n          \r\n          {imagePreview && (\r\n            <div className=\"mt-2 relative\">\r\n              <img src={imagePreview} alt=\"YÃ¼klenen gÃ¶rsel\" className=\"h-20 object-contain rounded-md border border-gray-300\" />\r\n              <button \r\n                onClick={clearImage}\r\n                className=\"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors\"\r\n                title=\"GÃ¶rseli kaldÄ±r\"\r\n              >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}