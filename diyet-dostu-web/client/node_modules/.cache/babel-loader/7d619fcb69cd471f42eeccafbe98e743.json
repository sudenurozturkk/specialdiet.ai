{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\specialdiet.ai\\\\diyet-dostu-web\\\\client\\\\src\\\\components\\\\Chat.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport ChatBubble from './ChatBubble';\nimport UserInfoForm from './UserInfoForm';\nimport DietPlanGenerator from './DietPlanGenerator';\nconst Chat = () => {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [imageFile, setImageFile] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [chatList, setChatList] = useState([]);\n  const [activeChatId, setActiveChatId] = useState(null);\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [showUserInfoForm, setShowUserInfoForm] = useState(false);\n  const [showDietPlan, setShowDietPlan] = useState(false);\n  const [userInfo, setUserInfo] = useState(null);\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n  useEffect(() => {\n    fetchChatList();\n    checkUserInfo();\n  }, []);\n  useEffect(() => {\n    if (activeChatId) {\n      fetchChatHistory();\n    }\n  }, [activeChatId]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, showUserInfoForm, showDietPlan]);\n  const checkUserInfo = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadƒ±');\n        return;\n      }\n      const response = await axios.get('/api/user-info', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.data.userInfo) {\n        setUserInfo(response.data.userInfo);\n      } else {\n        // Kullanƒ±cƒ± bilgisi yoksa formu g√∂ster\n        // Ger√ßek uygulamada sohbet ba≈ülattƒ±ktan sonra g√∂ster\n        // ≈ûimdilik yorum satƒ±rƒ± olarak bƒ±rakƒ±yoruz\n        // setShowUserInfoForm(true);\n      }\n    } catch (error) {\n      console.error('Kullanƒ±cƒ± bilgisi kontrol√º sƒ±rasƒ±nda hata:', error);\n    }\n  };\n  const fetchChatList = async () => {\n    try {\n      setIsLoading(true);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadƒ±');\n        setIsLoading(false);\n        return;\n      }\n      const response = await axios.get('/api/chat-list', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      // Sohbet listesini ayarla\n      setChatList(response.data);\n\n      // ƒ∞lk sohbeti aktif olarak i≈üaretle (eƒüer liste bo≈ü deƒüilse)\n      if (response.data.length > 0 && !activeChatId) {\n        setActiveChatId(response.data[0].id);\n        fetchChatHistory(response.data[0].id);\n      } else if (response.data.length === 0) {\n        // Sohbet listesi bo≈üsa yeni bir sohbet olu≈ütur\n        createNewChat();\n      }\n    } catch (error) {\n      console.error('Sohbet listesi alƒ±nƒ±rken hata:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const fetchChatHistory = async chatId => {\n    try {\n      setIsLoading(true);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadƒ±');\n        setIsLoading(false);\n        return;\n      }\n      const response = await axios.get(`/api/chat-history/${chatId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      // Ba≈üarƒ±lƒ± yanƒ±tta mesajlarƒ± g√ºncelle\n      if (response.data.chatHistory && Array.isArray(response.data.chatHistory)) {\n        setMessages(response.data.chatHistory);\n      } else {\n        // Bo≈ü mesaj listesi\n        setMessages([]);\n      }\n    } catch (error) {\n      console.error('Sohbet ge√ßmi≈üi alƒ±nƒ±rken hata:', error);\n      setMessages([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const createNewChat = () => {\n    try {\n      setIsLoading(true);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadƒ±');\n        setIsLoading(false);\n        return;\n      }\n\n      // Yeni sohbet olu≈ütur\n      axios.post('/api/create-chat', {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(response => {\n        if (response.data && response.data.id) {\n          // Yeni sohbeti listeye ekle\n          const newChat = {\n            id: response.data.id,\n            title: response.data.title || 'Yeni Sohbet',\n            lastMessage: new Date().toISOString()\n          };\n          setChatList(prevList => [...prevList, newChat]);\n          setActiveChatId(response.data.id);\n\n          // Yeni sohbetin ge√ßmi≈üini y√ºkle (bo≈ü olacak)\n          setMessages([{\n            role: 'assistant',\n            content: `Merhaba! üòä Diyet Dostu'na ho≈ü geldin!\n\nBen senin ki≈üisel beslenme ve spor asistanƒ±nƒ±m. Bana istediƒüin konuda soru sorabilirsin.\n\nT√ºrk mutfaƒüƒ±na uygun, kolay ve saƒülƒ±klƒ± tarifler sunarak diyet hedeflerine ula≈ümana yardƒ±mcƒ± olacaƒüƒ±m.\n\nƒ∞≈üte sana yardƒ±mcƒ± olabileceƒüim konular:\nü•ó T√ºrk mutfaƒüƒ±na uygun d√º≈ü√ºk kalorili/y√ºksek proteinli tarifler\nüèãÔ∏è‚Äç‚ôÄÔ∏è Ki≈üiselle≈ütirilmi≈ü egzersiz planlarƒ±\nüì∏ Yemek fotoƒüraflarƒ±nƒ± analiz ederek besin deƒüeri tahmini\nüìù Haftalƒ±k beslenme programƒ± olu≈üturma\nüìä Kilo takibi ve geli≈üim analizi\n\nSormak istediƒüin bir ≈üey var mƒ±? Birlikte saƒülƒ±klƒ± bir ya≈üam yolculuƒüuna ba≈ülayalƒ±m! üí™`\n          }]);\n        }\n      }).catch(error => {\n        console.error('Yeni sohbet olu≈üturulurken hata:', error);\n      }).finally(() => {\n        setIsLoading(false);\n      });\n    } catch (error) {\n      console.error('Yeni sohbet olu≈üturulurken hata:', error);\n      setIsLoading(false);\n    }\n  };\n  const deleteChat = async chatId => {\n    if (!window.confirm('Bu sohbeti silmek istediƒüinizden emin misiniz?')) {\n      return;\n    }\n    try {\n      setIsLoading(true);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadƒ±');\n        setIsLoading(false);\n        return;\n      }\n\n      // API'ya istek g√∂nder\n      const response = await axios.delete(`/api/delete-chat/${chatId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      // Ba≈üarƒ±lƒ± yanƒ±tta UI'ƒ± g√ºncelle\n      if (response.data.success) {\n        // Sohbet listesinden sil\n        setChatList(prevList => prevList.filter(chat => chat.id !== chatId));\n\n        // Eƒüer aktif sohbet siliniyorsa ba≈üka bir sohbete ge√ß\n        if (chatId === activeChatId) {\n          const remainingChats = chatList.filter(chat => chat.id !== chatId);\n          const nextChat = remainingChats.length > 0 ? remainingChats[0] : null;\n          if (nextChat) {\n            setActiveChatId(nextChat.id);\n            // Bu sohbetin ge√ßmi≈üini y√ºkle\n            fetchChatHistory(nextChat.id);\n          } else {\n            // Hi√ß sohbet kalmadƒ±ysa yeni bir sohbet olu≈ütur\n            createNewChat();\n          }\n        }\n\n        // Bildirim g√∂ster\n        alert('Sohbet ba≈üarƒ±yla silindi.');\n      } else {\n        alert('Sohbet silinirken bir hata olu≈ütu.');\n      }\n    } catch (error) {\n      console.error('Sohbet silinirken hata:', error);\n      alert('Sohbet silinirken bir hata olu≈ütu. L√ºtfen tekrar deneyin.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const clearChatHistory = async () => {\n    try {\n      if (!window.confirm('Sohbet ge√ßmi≈üini temizlemek istediƒüinizden emin misiniz?')) {\n        return;\n      }\n      setIsLoading(true);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadƒ±');\n        setIsLoading(false);\n        return;\n      }\n\n      // API'ya istek g√∂nder\n      const response = await axios.post('/api/clear-chat', {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.data.success) {\n        // Ba≈üarƒ±lƒ± yanƒ±tta mesajlarƒ± g√ºncelle\n        setMessages(response.data.chatHistory || [{\n          role: 'assistant',\n          content: `Merhaba! üòä Diyet Dostu'na ho≈ü geldin!\n\nBen senin ki≈üisel beslenme ve spor asistanƒ±nƒ±m. Sohbet ge√ßmi≈üin temizlendi ve yeni bir konu≈üma ba≈ülatƒ±ldƒ±.\n\nT√ºrk mutfaƒüƒ±na uygun, kolay ve saƒülƒ±klƒ± tarifler sunarak diyet hedeflerine ula≈ümana yardƒ±mcƒ± olacaƒüƒ±m.\n\nƒ∞≈üte sana yardƒ±mcƒ± olabileceƒüim konular:\nü•ó T√ºrk mutfaƒüƒ±na uygun d√º≈ü√ºk kalorili/y√ºksek proteinli tarifler\nüèãÔ∏è‚Äç‚ôÄÔ∏è Ki≈üiselle≈ütirilmi≈ü egzersiz planlarƒ±\nüì∏ Yemek fotoƒüraflarƒ±nƒ± analiz ederek besin deƒüeri tahmini\nüìù Haftalƒ±k beslenme programƒ± olu≈üturma\nüìä Kilo takibi ve geli≈üim analizi\n\nSormak istediƒüin bir ≈üey var mƒ±? Birlikte saƒülƒ±klƒ± bir ya≈üam yolculuƒüuna ba≈ülayalƒ±m! üí™`\n        }]);\n\n        // Aktif sohbeti g√ºncelle\n        const updatedList = chatList.map(chat => {\n          if (chat.id === activeChatId) {\n            return {\n              ...chat,\n              title: 'Temizlenmi≈ü Sohbet'\n            };\n          }\n          return chat;\n        });\n        setChatList(updatedList);\n\n        // Formlarƒ± gizle\n        setShowUserInfoForm(false);\n        setShowDietPlan(false);\n\n        // Ba≈üarƒ± mesajƒ± g√∂ster\n        alert('Sohbet ge√ßmi≈üi ba≈üarƒ±yla temizlendi.');\n      } else {\n        // Hata mesajƒ±\n        alert('Sohbet ge√ßmi≈üi temizlenirken bir hata olu≈ütu.');\n      }\n    } catch (error) {\n      console.error('Sohbet ge√ßmi≈üi temizlenirken hata:', error);\n      // Hata durumunda kullanƒ±cƒ±yƒ± bilgilendir\n      alert('Sohbet ge√ßmi≈üi temizlenirken bir hata olu≈ütu. L√ºtfen tekrar deneyin.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const scrollToBottom = () => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n  const handleImageUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setImageFile(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const clearImage = () => {\n    setImageFile(null);\n    setImagePreview(null);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const message = input.trim();\n    if (!message && !imageFile) return;\n    try {\n      setIsLoading(true);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadƒ±');\n        setMessages(prev => [...prev, {\n          role: 'assistant',\n          content: 'Oturum s√ºreniz dolmu≈ü g√∂r√ºn√ºyor. L√ºtfen tekrar giri≈ü yapƒ±n.'\n        }]);\n        setIsLoading(false);\n        return;\n      }\n\n      // Kullanƒ±cƒ± mesajƒ±nƒ± ekle\n      const userMessage = {\n        role: 'user',\n        content: message\n      };\n      setMessages(prev => [...prev, userMessage]);\n      setInput('');\n\n      // √ñzel komutlarƒ± kontrol et\n      if (message.toLowerCase().includes('ki≈üisel bilgilerimi girmek istiyorum') || message.toLowerCase().includes('diyet programƒ± olu≈üturmak istiyorum') || message.toLowerCase().includes('bilgilerimi g√ºncellemek istiyorum')) {\n        setTimeout(() => {\n          setShowUserInfoForm(true);\n          setIsLoading(false);\n        }, 500);\n        return;\n      }\n      if (message.toLowerCase().includes('diyet planƒ±mƒ± g√∂ster') || message.toLowerCase().includes('beslenme planƒ±mƒ± g√∂ster') || message.toLowerCase().includes('beslenme planƒ± olu≈ütur')) {\n        if (!userInfo) {\n          // Kullanƒ±cƒ± bilgisi yoksa bilgi formunu g√∂ster\n          setTimeout(() => {\n            setMessages(prev => [...prev, {\n              role: 'assistant',\n              content: 'Diyet planƒ± olu≈üturmak i√ßin √∂ncelikle ki≈üisel bilgilerinizi girmeniz gerekiyor. Bilgi formunu a√ßƒ±yorum...'\n            }]);\n            setTimeout(() => {\n              setShowUserInfoForm(true);\n              setIsLoading(false);\n            }, 500);\n          }, 500);\n        } else {\n          // Kullanƒ±cƒ± bilgisi varsa diyet planƒ±nƒ± g√∂ster\n          setTimeout(() => {\n            setMessages(prev => [...prev, {\n              role: 'assistant',\n              content: 'ƒ∞≈üte size √∂zel hazƒ±rladƒ±ƒüƒ±m beslenme planƒ±:'\n            }]);\n            setTimeout(() => {\n              setShowDietPlan(true);\n              setIsLoading(false);\n            }, 500);\n          }, 500);\n        }\n        return;\n      }\n\n      // Eƒüer g√∂rsel varsa, farklƒ± bir endpoint kullanarak g√∂rsel analizi yapƒ±n\n      if (imageFile) {\n        const formData = new FormData();\n        formData.append('image', imageFile);\n        try {\n          console.log('G√∂rsel analizi isteƒüi g√∂nderiliyor...');\n          const response = await axios.post('/api/analyze-image', formData, {\n            headers: {\n              Authorization: `Bearer ${token}`,\n              'Content-Type': 'multipart/form-data'\n            }\n          });\n          console.log('G√∂rsel analiz yanƒ±tƒ±:', response.data);\n\n          // Analiz sonucunu g√∂ster (eƒüer socket.io ile otomatik gelmiyorsa)\n          if (!response.data.message || response.data.message !== 'G√∂r√ºnt√º analiz edildi') {\n            // Mesaj yanƒ±tƒ± sadece bildirim i√ßeriyorsa, birka√ß saniye sonra sohbet ge√ßmi≈üini g√ºncelle\n            setTimeout(() => {\n              fetchChatHistory(activeChatId);\n            }, 1000);\n          }\n\n          // G√∂rsel √∂nizlemeyi temizle\n          clearImage();\n        } catch (imgError) {\n          console.error('G√∂rsel analiz hatasƒ±:', imgError);\n\n          // Hata mesajƒ±nƒ± sohbete ekle\n          setMessages(prev => [...prev, {\n            role: 'assistant',\n            content: 'G√∂rsel analiz edilirken bir hata olu≈ütu. L√ºtfen daha sonra tekrar deneyin veya ba≈üka bir g√∂rsel y√ºkleyin.'\n          }]);\n        }\n      } else {\n        // G√∂rsel yoksa normal mesaj g√∂nderimi yap\n        try {\n          console.log('Mesaj g√∂nderiliyor:', message);\n          console.log('Aktif sohbet ID:', activeChatId);\n          const response = await axios.post('/api/chat', {\n            message,\n            chatId: activeChatId\n          }, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          console.log('API yanƒ±tƒ±:', response.data);\n\n          // Asistan yanƒ±tƒ±nƒ± ekle (cevap varsa)\n          if (response.data.response) {\n            const assistantMessage = {\n              role: 'assistant',\n              content: response.data.response\n            };\n            setMessages(prev => [...prev, assistantMessage]);\n          } else {\n            // Yanƒ±t yoksa, sohbet ge√ßmi≈üini g√ºncellemek i√ßin bekle\n            setTimeout(() => {\n              fetchChatHistory(activeChatId);\n            }, 1000);\n          }\n        } catch (chatError) {\n          console.error('Mesaj g√∂nderme hatasƒ±:', chatError);\n\n          // Hata mesajƒ±nƒ± sohbete ekle ve daha a√ßƒ±klayƒ±cƒ± hata mesajlarƒ± saƒüla\n          let errorMessage = '√úzg√ºn√ºm, mesajƒ±nƒ±z g√∂nderilemedi. L√ºtfen internet baƒülantƒ±nƒ±zƒ± kontrol edin veya daha sonra tekrar deneyin.';\n          if (chatError.response) {\n            // Sunucu yanƒ±tƒ± var, hata kodu ile birlikte\n            console.error('Sunucu yanƒ±t kodu:', chatError.response.status);\n            console.error('Sunucu hata mesajƒ±:', chatError.response.data);\n            if (chatError.response.status === 401 || chatError.response.status === 403) {\n              errorMessage = 'Oturum s√ºreniz dolmu≈ü g√∂r√ºn√ºyor. L√ºtfen tekrar giri≈ü yapƒ±n.';\n            } else if (chatError.response.status === 404) {\n              errorMessage = 'API endpoint bulunamadƒ±. Sunucu yapƒ±landƒ±rmasƒ± kontrol edilmeli.';\n            } else if (chatError.response.status === 500) {\n              errorMessage = 'Sunucu hatasƒ±. L√ºtfen daha sonra tekrar deneyin.';\n            }\n          } else if (chatError.request) {\n            // ƒ∞stek yapƒ±ldƒ± ama yanƒ±t alƒ±namadƒ±\n            console.error('Yanƒ±t alƒ±namadƒ±:', chatError.request);\n            errorMessage = 'Sunucuya baƒülanƒ±lamƒ±yor. L√ºtfen sunucunun √ßalƒ±≈ütƒ±ƒüƒ±ndan emin olun.';\n          }\n          setMessages(prev => [...prev, {\n            role: 'assistant',\n            content: errorMessage\n          }]);\n        }\n      }\n    } catch (error) {\n      console.error('Mesaj g√∂nderilirken genel hata:', error);\n\n      // Hata mesajƒ±nƒ± sohbete ekleyin\n      const errorMessage = {\n        role: 'assistant',\n        content: '√úzg√ºn√ºm, bir hata olu≈ütu. L√ºtfen daha sonra tekrar deneyin.'\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n      setTimeout(scrollToBottom, 100);\n    }\n  };\n  const handleUserInfoSubmit = formData => {\n    // Kullanƒ±cƒ± bilgilerini kaydet\n    setUserInfo(formData);\n    setShowUserInfoForm(false);\n\n    // Kullanƒ±cƒ± bilgileri alƒ±ndƒ±ƒüƒ±nda diyet planƒ±nƒ± g√∂ster\n    setTimeout(() => {\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: `Te≈üekk√ºrler! Bilgileriniz kaydedildi. \n\nSize √∂zel bir beslenme planƒ± hazƒ±rlƒ±yorum. Bu plan, hedeflerinize, tercihlerinize ve ihtiya√ßlarƒ±nƒ±za g√∂re √∂zelle≈ütirilmi≈ütir.\n\nƒ∞≈üte size √∂zel beslenme planƒ±m:`\n      }]);\n      setTimeout(() => {\n        setShowDietPlan(true);\n      }, 1000);\n    }, 500);\n  };\n  const toggleSidebar = () => {\n    setSidebarOpen(!sidebarOpen);\n  };\n\n  // Eksik olduƒüu i√ßin not silme fonksiyonunu ekliyorum\n  const deleteNote = async noteId => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('Token bulunamadƒ±');\n        return;\n      }\n      const response = await axios.delete(`/api/delete-note/${noteId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.data.success) {\n        // Notu listeden kaldƒ±r\n        setMessages(messages.filter(msg => {\n          // Not ID'si mesaj i√ßinde tanƒ±mlanmƒ±≈üsa (data-note-id gibi bir √∂zellik ile)\n          return !(msg.type === 'note' && msg.noteId === noteId);\n        }));\n\n        // Bildirim g√∂ster\n        alert('Not ba≈üarƒ±yla silindi');\n      } else {\n        alert('Not silinirken bir hata olu≈ütu');\n      }\n    } catch (error) {\n      console.error('Not silinirken hata:', error);\n      alert('Not silinirken bir hata olu≈ütu. L√ºtfen tekrar deneyin.');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex h-[calc(100vh-64px)]\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `chat-sidebar ${sidebarOpen ? 'open' : 'closed'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-4 border-b flex justify-between items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-semibold text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 11\n    }\n  }, \"Sohbetlerim\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: createNewChat,\n    className: \"bg-diet-green text-white p-2 rounded-lg hover:bg-green-600 transition-colors\",\n    title: \"Yeni sohbet ba\\u015Flat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 596,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"h-5 w-5\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M12 4v16m8-8H4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"overflow-y-auto h-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 607,\n      columnNumber: 9\n    }\n  }, chatList.map(chat => /*#__PURE__*/React.createElement(\"div\", {\n    key: chat.id,\n    className: `p-3 border-b cursor-pointer hover:bg-gray-100 flex justify-between items-center ${chat.id === activeChatId ? 'bg-diet-green bg-opacity-10 border-l-4 border-diet-green' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-1\",\n    onClick: () => setActiveChatId(chat.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"font-medium text-gray-800\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 614,\n      columnNumber: 17\n    }\n  }, chat.title), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-xs text-gray-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 615,\n      columnNumber: 17\n    }\n  }, chat.date)), chat.id !== 'current' && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => {\n      e.stopPropagation();\n      deleteChat(chat.id);\n    },\n    className: \"text-gray-400 hover:text-red-500 p-1\",\n    title: \"Sohbeti sil\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"h-5 w-5\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\",\n    clipRule: \"evenodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 21\n    }\n  }))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-1 flex flex-col relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 637,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"sidebar-toggle\",\n    onClick: toggleSidebar,\n    title: sidebarOpen ? \"Kenar √ßubuƒüunu kapat\" : \"Kenar √ßubuƒüunu a√ß\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 9\n    }\n  }, sidebarOpen ? /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"h-6 w-6\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 645,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M11 19l-7-7 7-7m8 14l-7-7 7-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 646,\n      columnNumber: 15\n    }\n  })) : /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"h-6 w-6\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M13 5l7 7-7 7M5 5l7 7-7 7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-4 bg-diet-green text-white flex justify-between items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 655,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 656,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"diyet-dostu-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 657,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"avatar-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    fill: \"#4CAF50\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\",\n    fill: \"#e8f5e9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 660,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17 8.5C17 6.01 14.99 4 12.5 4C10.01 4 8 6.01 8 8.5C8 11.99 12.5 16.5 12.5 16.5C12.5 16.5 17 11.99 17 8.5ZM12.5 9.5C11.95 9.5 11.5 9.05 11.5 8.5C11.5 7.95 11.95 7.5 12.5 7.5C13.05 7.5 13.5 7.95 13.5 8.5C13.5 9.05 13.05 9.5 12.5 9.5Z\",\n    fill: \"#4CAF50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 15H9C8.45 15 8 15.45 8 16C8 16.55 8.45 17 9 17H16C16.55 17 17 16.55 17 16C17 15.45 16.55 15 16 15Z\",\n    fill: \"#4CAF50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 662,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20ZM12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z\",\n    fill: \"#4CAF50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 663,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-xl font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 668,\n      columnNumber: 15\n    }\n  }, \"Diyet Dostu \\uD83E\\uDD57\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 669,\n      columnNumber: 15\n    }\n  }, \"Sa\\u011Fl\\u0131kl\\u0131 ya\\u015Fam asistan\\u0131n\\u0131z\"))), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: clearChatHistory,\n    className: \"bg-white bg-opacity-20 hover:bg-opacity-30 text-white py-1 px-3 rounded-lg text-sm transition-colors duration-200\",\n    title: \"Sohbet ge\\xE7mi\\u015Fini temizle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 672,\n      columnNumber: 11\n    }\n  }, \"Sohbeti Temizle\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-grow overflow-y-auto p-4 chat-messages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 681,\n      columnNumber: 9\n    }\n  }, messages.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center justify-center h-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 683,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 684,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-4xl mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 685,\n      columnNumber: 17\n    }\n  }, \"\\uD83D\\uDC4B\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-xl font-medium text-gray-700 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 686,\n      columnNumber: 17\n    }\n  }, \"Diyet Dostu'na Ho\\u015F Geldin!\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-gray-500 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 687,\n      columnNumber: 17\n    }\n  }, \"Beslenme, diyet veya fitness hakk\\u0131nda bir \\u015Feyler sor.\"))) : messages.map((msg, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 692,\n      columnNumber: 15\n    }\n  }, msg.type === 'note' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"note-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 694,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ChatBubble, {\n    message: msg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 695,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => deleteNote(msg.noteId),\n    className: \"delete-note-btn\",\n    title: \"Notu sil\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 696,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"h-5 w-5\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 701,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\",\n    clipRule: \"evenodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 702,\n      columnNumber: 25\n    }\n  })))) : /*#__PURE__*/React.createElement(ChatBubble, {\n    message: msg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 707,\n      columnNumber: 19\n    }\n  }))), isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center space-x-2 text-gray-500 p-4 bg-gray-100 rounded-lg max-w-[80%] mr-auto my-3 shadow-md loading-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 714,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 715,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"food-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 716,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"icon apple\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 717,\n      columnNumber: 19\n    }\n  }, \"\\uD83C\\uDF4E\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"icon broccoli\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 718,\n      columnNumber: 19\n    }\n  }, \"\\uD83E\\uDD66\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"icon avocado\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 19\n    }\n  }, \"\\uD83E\\uDD51\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"ml-2 font-medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 721,\n      columnNumber: 17\n    }\n  }, \"Diyet Dostu d\\xFC\\u015F\\xFCn\\xFCyor...\"))), showUserInfoForm && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-4 p-2 bg-white rounded-lg shadow-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 728,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UserInfoForm, {\n    onSubmit: handleUserInfoSubmit,\n    onCancel: () => setShowUserInfoForm(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 729,\n      columnNumber: 15\n    }\n  })), showDietPlan && userInfo && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-4 p-2 bg-white rounded-lg shadow-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 738,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DietPlanGenerator, {\n    userInfo: userInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 739,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    ref: messagesEndRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 743,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-4 border-t\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 746,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"flex items-end gap-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 747,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-1 relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 748,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    value: input,\n    onChange: e => setInput(e.target.value),\n    onKeyDown: handleKeyDown,\n    ref: textareaRef,\n    placeholder: \"Diyet Dostu'na bir soru sor...\",\n    className: \"w-full p-3 pr-12 border border-gray-300 rounded-lg resize-none focus:border-diet-green focus:ring-1 focus:ring-diet-green outline-none min-h-[50px] max-h-[200px]\",\n    rows: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 749,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"image-upload\",\n    className: \"absolute right-2 bottom-2 cursor-pointer text-gray-500 hover:text-diet-green p-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 759,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"h-6 w-6\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 760,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 761,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"image-upload\",\n    type: \"file\",\n    accept: \"image/*\",\n    onChange: handleImageUpload,\n    className: \"hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 763,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    disabled: isLoading || !input.trim() && !imageFile,\n    className: `p-3 rounded-lg ${isLoading || !input.trim() && !imageFile ? 'bg-gray-300 cursor-not-allowed' : 'bg-diet-green text-white hover:bg-green-600'} transition-colors`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 773,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"h-6 w-6\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 778,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M13 5l7 7-7 7M5 5l7 7-7 7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 779,\n      columnNumber: 17\n    }\n  })))), imagePreview && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-2 relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 785,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: imagePreview,\n    alt: \"Y\\xFCklenen g\\xF6rsel\",\n    className: \"h-20 object-contain rounded-md border border-gray-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 786,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: clearImage,\n    className: \"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors\",\n    title: \"G\\xF6rseli kald\\u0131r\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 787,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"h-4 w-4\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 792,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M6 18L18 6M6 6l12 12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 793,\n      columnNumber: 19\n    }\n  })))))));\n};\nexport default Chat;","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","ChatBubble","UserInfoForm","DietPlanGenerator","Chat","messages","setMessages","input","setInput","isLoading","setIsLoading","imageFile","setImageFile","imagePreview","setImagePreview","chatList","setChatList","activeChatId","setActiveChatId","sidebarOpen","setSidebarOpen","showUserInfoForm","setShowUserInfoForm","showDietPlan","setShowDietPlan","userInfo","setUserInfo","messagesEndRef","textareaRef","fetchChatList","checkUserInfo","fetchChatHistory","scrollToBottom","token","localStorage","getItem","console","error","response","get","headers","Authorization","data","length","id","createNewChat","chatId","chatHistory","Array","isArray","post","then","newChat","title","lastMessage","Date","toISOString","prevList","role","content","catch","finally","deleteChat","window","confirm","delete","success","filter","chat","remainingChats","nextChat","alert","clearChatHistory","updatedList","map","current","scrollIntoView","behavior","handleKeyDown","e","key","shiftKey","preventDefault","handleSubmit","handleImageUpload","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","clearImage","message","trim","prev","userMessage","toLowerCase","includes","setTimeout","formData","FormData","append","log","imgError","assistantMessage","chatError","errorMessage","status","request","handleUserInfoSubmit","toggleSidebar","deleteNote","noteId","msg","type","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","date","stopPropagation","fillRule","clipRule","cx","cy","r","index","onSubmit","onCancel","ref","value","onChange","onKeyDown","placeholder","rows","htmlFor","accept","disabled","src","alt"],"sources":["C:/Users/Administrator/Desktop/specialdiet.ai/diyet-dostu-web/client/src/components/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport ChatBubble from './ChatBubble';\r\nimport UserInfoForm from './UserInfoForm';\r\nimport DietPlanGenerator from './DietPlanGenerator';\r\n\r\nconst Chat = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [chatList, setChatList] = useState([]);\r\n  const [activeChatId, setActiveChatId] = useState(null);\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  const [showUserInfoForm, setShowUserInfoForm] = useState(false);\r\n  const [showDietPlan, setShowDietPlan] = useState(false);\r\n  const [userInfo, setUserInfo] = useState(null);\r\n  const messagesEndRef = useRef(null);\r\n  const textareaRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    fetchChatList();\r\n    checkUserInfo();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (activeChatId) {\r\n      fetchChatHistory();\r\n    }\r\n  }, [activeChatId]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages, showUserInfoForm, showDietPlan]);\r\n\r\n  const checkUserInfo = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadƒ±');\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.get('/api/user-info', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.data.userInfo) {\r\n        setUserInfo(response.data.userInfo);\r\n      } else {\r\n        // Kullanƒ±cƒ± bilgisi yoksa formu g√∂ster\r\n        // Ger√ßek uygulamada sohbet ba≈ülattƒ±ktan sonra g√∂ster\r\n        // ≈ûimdilik yorum satƒ±rƒ± olarak bƒ±rakƒ±yoruz\r\n        // setShowUserInfoForm(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Kullanƒ±cƒ± bilgisi kontrol√º sƒ±rasƒ±nda hata:', error);\r\n    }\r\n  };\r\n\r\n  const fetchChatList = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadƒ±');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.get('/api/chat-list', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      // Sohbet listesini ayarla\r\n      setChatList(response.data);\r\n      \r\n      // ƒ∞lk sohbeti aktif olarak i≈üaretle (eƒüer liste bo≈ü deƒüilse)\r\n      if (response.data.length > 0 && !activeChatId) {\r\n        setActiveChatId(response.data[0].id);\r\n        fetchChatHistory(response.data[0].id);\r\n      } else if (response.data.length === 0) {\r\n        // Sohbet listesi bo≈üsa yeni bir sohbet olu≈ütur\r\n        createNewChat();\r\n      }\r\n    } catch (error) {\r\n      console.error('Sohbet listesi alƒ±nƒ±rken hata:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchChatHistory = async (chatId) => {\r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadƒ±');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.get(`/api/chat-history/${chatId}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      // Ba≈üarƒ±lƒ± yanƒ±tta mesajlarƒ± g√ºncelle\r\n      if (response.data.chatHistory && Array.isArray(response.data.chatHistory)) {\r\n        setMessages(response.data.chatHistory);\r\n      } else {\r\n        // Bo≈ü mesaj listesi\r\n        setMessages([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Sohbet ge√ßmi≈üi alƒ±nƒ±rken hata:', error);\r\n      setMessages([]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const createNewChat = () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadƒ±');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // Yeni sohbet olu≈ütur\r\n      axios.post('/api/create-chat', {}, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      })\r\n      .then(response => {\r\n        if (response.data && response.data.id) {\r\n          // Yeni sohbeti listeye ekle\r\n          const newChat = {\r\n            id: response.data.id,\r\n            title: response.data.title || 'Yeni Sohbet',\r\n            lastMessage: new Date().toISOString()\r\n          };\r\n          \r\n          setChatList(prevList => [...prevList, newChat]);\r\n          setActiveChatId(response.data.id);\r\n          \r\n          // Yeni sohbetin ge√ßmi≈üini y√ºkle (bo≈ü olacak)\r\n          setMessages([{\r\n            role: 'assistant',\r\n            content: `Merhaba! üòä Diyet Dostu'na ho≈ü geldin!\r\n\r\nBen senin ki≈üisel beslenme ve spor asistanƒ±nƒ±m. Bana istediƒüin konuda soru sorabilirsin.\r\n\r\nT√ºrk mutfaƒüƒ±na uygun, kolay ve saƒülƒ±klƒ± tarifler sunarak diyet hedeflerine ula≈ümana yardƒ±mcƒ± olacaƒüƒ±m.\r\n\r\nƒ∞≈üte sana yardƒ±mcƒ± olabileceƒüim konular:\r\nü•ó T√ºrk mutfaƒüƒ±na uygun d√º≈ü√ºk kalorili/y√ºksek proteinli tarifler\r\nüèãÔ∏è‚Äç‚ôÄÔ∏è Ki≈üiselle≈ütirilmi≈ü egzersiz planlarƒ±\r\nüì∏ Yemek fotoƒüraflarƒ±nƒ± analiz ederek besin deƒüeri tahmini\r\nüìù Haftalƒ±k beslenme programƒ± olu≈üturma\r\nüìä Kilo takibi ve geli≈üim analizi\r\n\r\nSormak istediƒüin bir ≈üey var mƒ±? Birlikte saƒülƒ±klƒ± bir ya≈üam yolculuƒüuna ba≈ülayalƒ±m! üí™`\r\n          }]);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('Yeni sohbet olu≈üturulurken hata:', error);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n    } catch (error) {\r\n      console.error('Yeni sohbet olu≈üturulurken hata:', error);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const deleteChat = async (chatId) => {\r\n    if (!window.confirm('Bu sohbeti silmek istediƒüinizden emin misiniz?')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadƒ±');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // API'ya istek g√∂nder\r\n      const response = await axios.delete(`/api/delete-chat/${chatId}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      // Ba≈üarƒ±lƒ± yanƒ±tta UI'ƒ± g√ºncelle\r\n      if (response.data.success) {\r\n        // Sohbet listesinden sil\r\n        setChatList(prevList => prevList.filter(chat => chat.id !== chatId));\r\n        \r\n        // Eƒüer aktif sohbet siliniyorsa ba≈üka bir sohbete ge√ß\r\n        if (chatId === activeChatId) {\r\n          const remainingChats = chatList.filter(chat => chat.id !== chatId);\r\n          const nextChat = remainingChats.length > 0 ? remainingChats[0] : null;\r\n          \r\n          if (nextChat) {\r\n            setActiveChatId(nextChat.id);\r\n            // Bu sohbetin ge√ßmi≈üini y√ºkle\r\n            fetchChatHistory(nextChat.id);\r\n          } else {\r\n            // Hi√ß sohbet kalmadƒ±ysa yeni bir sohbet olu≈ütur\r\n            createNewChat();\r\n          }\r\n        }\r\n        \r\n        // Bildirim g√∂ster\r\n        alert('Sohbet ba≈üarƒ±yla silindi.');\r\n      } else {\r\n        alert('Sohbet silinirken bir hata olu≈ütu.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Sohbet silinirken hata:', error);\r\n      alert('Sohbet silinirken bir hata olu≈ütu. L√ºtfen tekrar deneyin.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const clearChatHistory = async () => {\r\n    try {\r\n      if (!window.confirm('Sohbet ge√ßmi≈üini temizlemek istediƒüinizden emin misiniz?')) {\r\n        return;\r\n      }\r\n      \r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadƒ±');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // API'ya istek g√∂nder\r\n      const response = await axios.post('/api/clear-chat', {}, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.data.success) {\r\n        // Ba≈üarƒ±lƒ± yanƒ±tta mesajlarƒ± g√ºncelle\r\n        setMessages(response.data.chatHistory || [{\r\n          role: 'assistant',\r\n          content: `Merhaba! üòä Diyet Dostu'na ho≈ü geldin!\r\n\r\nBen senin ki≈üisel beslenme ve spor asistanƒ±nƒ±m. Sohbet ge√ßmi≈üin temizlendi ve yeni bir konu≈üma ba≈ülatƒ±ldƒ±.\r\n\r\nT√ºrk mutfaƒüƒ±na uygun, kolay ve saƒülƒ±klƒ± tarifler sunarak diyet hedeflerine ula≈ümana yardƒ±mcƒ± olacaƒüƒ±m.\r\n\r\nƒ∞≈üte sana yardƒ±mcƒ± olabileceƒüim konular:\r\nü•ó T√ºrk mutfaƒüƒ±na uygun d√º≈ü√ºk kalorili/y√ºksek proteinli tarifler\r\nüèãÔ∏è‚Äç‚ôÄÔ∏è Ki≈üiselle≈ütirilmi≈ü egzersiz planlarƒ±\r\nüì∏ Yemek fotoƒüraflarƒ±nƒ± analiz ederek besin deƒüeri tahmini\r\nüìù Haftalƒ±k beslenme programƒ± olu≈üturma\r\nüìä Kilo takibi ve geli≈üim analizi\r\n\r\nSormak istediƒüin bir ≈üey var mƒ±? Birlikte saƒülƒ±klƒ± bir ya≈üam yolculuƒüuna ba≈ülayalƒ±m! üí™`\r\n        }]);\r\n        \r\n        // Aktif sohbeti g√ºncelle\r\n        const updatedList = chatList.map(chat => {\r\n          if (chat.id === activeChatId) {\r\n            return { ...chat, title: 'Temizlenmi≈ü Sohbet' };\r\n          }\r\n          return chat;\r\n        });\r\n        \r\n        setChatList(updatedList);\r\n        \r\n        // Formlarƒ± gizle\r\n        setShowUserInfoForm(false);\r\n        setShowDietPlan(false);\r\n        \r\n        // Ba≈üarƒ± mesajƒ± g√∂ster\r\n        alert('Sohbet ge√ßmi≈üi ba≈üarƒ±yla temizlendi.');\r\n      } else {\r\n        // Hata mesajƒ±\r\n        alert('Sohbet ge√ßmi≈üi temizlenirken bir hata olu≈ütu.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Sohbet ge√ßmi≈üi temizlenirken hata:', error);\r\n      // Hata durumunda kullanƒ±cƒ±yƒ± bilgilendir\r\n      alert('Sohbet ge√ßmi≈üi temizlenirken bir hata olu≈ütu. L√ºtfen tekrar deneyin.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    if (messagesEndRef.current) {\r\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSubmit(e);\r\n    }\r\n  };\r\n\r\n  const handleImageUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setImageFile(file);\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setImagePreview(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const clearImage = () => {\r\n    setImageFile(null);\r\n    setImagePreview(null);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const message = input.trim();\r\n    \r\n    if (!message && !imageFile) return;\r\n    \r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadƒ±');\r\n        setMessages((prev) => [...prev, {\r\n          role: 'assistant',\r\n          content: 'Oturum s√ºreniz dolmu≈ü g√∂r√ºn√ºyor. L√ºtfen tekrar giri≈ü yapƒ±n.'\r\n        }]);\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // Kullanƒ±cƒ± mesajƒ±nƒ± ekle\r\n      const userMessage = {\r\n        role: 'user',\r\n        content: message\r\n      };\r\n      \r\n      setMessages((prev) => [...prev, userMessage]);\r\n      setInput('');\r\n      \r\n      // √ñzel komutlarƒ± kontrol et\r\n      if (message.toLowerCase().includes('ki≈üisel bilgilerimi girmek istiyorum') ||\r\n          message.toLowerCase().includes('diyet programƒ± olu≈üturmak istiyorum') ||\r\n          message.toLowerCase().includes('bilgilerimi g√ºncellemek istiyorum')) {\r\n        \r\n        setTimeout(() => {\r\n          setShowUserInfoForm(true);\r\n          setIsLoading(false);\r\n        }, 500);\r\n        \r\n        return;\r\n      }\r\n      \r\n      if (message.toLowerCase().includes('diyet planƒ±mƒ± g√∂ster') ||\r\n          message.toLowerCase().includes('beslenme planƒ±mƒ± g√∂ster') ||\r\n          message.toLowerCase().includes('beslenme planƒ± olu≈ütur')) {\r\n        \r\n        if (!userInfo) {\r\n          // Kullanƒ±cƒ± bilgisi yoksa bilgi formunu g√∂ster\r\n          setTimeout(() => {\r\n            setMessages((prev) => [...prev, {\r\n              role: 'assistant',\r\n              content: 'Diyet planƒ± olu≈üturmak i√ßin √∂ncelikle ki≈üisel bilgilerinizi girmeniz gerekiyor. Bilgi formunu a√ßƒ±yorum...'\r\n            }]);\r\n            \r\n            setTimeout(() => {\r\n              setShowUserInfoForm(true);\r\n              setIsLoading(false);\r\n            }, 500);\r\n          }, 500);\r\n        } else {\r\n          // Kullanƒ±cƒ± bilgisi varsa diyet planƒ±nƒ± g√∂ster\r\n          setTimeout(() => {\r\n            setMessages((prev) => [...prev, {\r\n              role: 'assistant',\r\n              content: 'ƒ∞≈üte size √∂zel hazƒ±rladƒ±ƒüƒ±m beslenme planƒ±:'\r\n            }]);\r\n            \r\n            setTimeout(() => {\r\n              setShowDietPlan(true);\r\n              setIsLoading(false);\r\n            }, 500);\r\n          }, 500);\r\n        }\r\n        \r\n        return;\r\n      }\r\n      \r\n      // Eƒüer g√∂rsel varsa, farklƒ± bir endpoint kullanarak g√∂rsel analizi yapƒ±n\r\n      if (imageFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', imageFile);\r\n        \r\n        try {\r\n          console.log('G√∂rsel analizi isteƒüi g√∂nderiliyor...');\r\n          const response = await axios.post(\r\n            '/api/analyze-image',\r\n            formData,\r\n            {\r\n              headers: { \r\n                Authorization: `Bearer ${token}`,\r\n                'Content-Type': 'multipart/form-data' \r\n              }\r\n            }\r\n          );\r\n          \r\n          console.log('G√∂rsel analiz yanƒ±tƒ±:', response.data);\r\n          \r\n          // Analiz sonucunu g√∂ster (eƒüer socket.io ile otomatik gelmiyorsa)\r\n          if (!response.data.message || response.data.message !== 'G√∂r√ºnt√º analiz edildi') {\r\n            // Mesaj yanƒ±tƒ± sadece bildirim i√ßeriyorsa, birka√ß saniye sonra sohbet ge√ßmi≈üini g√ºncelle\r\n            setTimeout(() => {\r\n              fetchChatHistory(activeChatId);\r\n            }, 1000);\r\n          }\r\n          \r\n          // G√∂rsel √∂nizlemeyi temizle\r\n          clearImage();\r\n        } catch (imgError) {\r\n          console.error('G√∂rsel analiz hatasƒ±:', imgError);\r\n          \r\n          // Hata mesajƒ±nƒ± sohbete ekle\r\n          setMessages((prev) => [...prev, {\r\n            role: 'assistant',\r\n            content: 'G√∂rsel analiz edilirken bir hata olu≈ütu. L√ºtfen daha sonra tekrar deneyin veya ba≈üka bir g√∂rsel y√ºkleyin.'\r\n          }]);\r\n        }\r\n      } else {\r\n        // G√∂rsel yoksa normal mesaj g√∂nderimi yap\r\n        try {\r\n          console.log('Mesaj g√∂nderiliyor:', message);\r\n          console.log('Aktif sohbet ID:', activeChatId);\r\n          \r\n          const response = await axios.post(\r\n            '/api/chat',\r\n            {\r\n              message,\r\n              chatId: activeChatId\r\n            },\r\n            {\r\n              headers: { Authorization: `Bearer ${token}` }\r\n            }\r\n          );\r\n          \r\n          console.log('API yanƒ±tƒ±:', response.data);\r\n          \r\n          // Asistan yanƒ±tƒ±nƒ± ekle (cevap varsa)\r\n          if (response.data.response) {\r\n            const assistantMessage = {\r\n              role: 'assistant',\r\n              content: response.data.response\r\n            };\r\n            \r\n            setMessages((prev) => [...prev, assistantMessage]);\r\n          } else {\r\n            // Yanƒ±t yoksa, sohbet ge√ßmi≈üini g√ºncellemek i√ßin bekle\r\n            setTimeout(() => {\r\n              fetchChatHistory(activeChatId);\r\n            }, 1000);\r\n          }\r\n        } catch (chatError) {\r\n          console.error('Mesaj g√∂nderme hatasƒ±:', chatError);\r\n          \r\n          // Hata mesajƒ±nƒ± sohbete ekle ve daha a√ßƒ±klayƒ±cƒ± hata mesajlarƒ± saƒüla\r\n          let errorMessage = '√úzg√ºn√ºm, mesajƒ±nƒ±z g√∂nderilemedi. L√ºtfen internet baƒülantƒ±nƒ±zƒ± kontrol edin veya daha sonra tekrar deneyin.';\r\n          \r\n          if (chatError.response) {\r\n            // Sunucu yanƒ±tƒ± var, hata kodu ile birlikte\r\n            console.error('Sunucu yanƒ±t kodu:', chatError.response.status);\r\n            console.error('Sunucu hata mesajƒ±:', chatError.response.data);\r\n            \r\n            if (chatError.response.status === 401 || chatError.response.status === 403) {\r\n              errorMessage = 'Oturum s√ºreniz dolmu≈ü g√∂r√ºn√ºyor. L√ºtfen tekrar giri≈ü yapƒ±n.';\r\n            } else if (chatError.response.status === 404) {\r\n              errorMessage = 'API endpoint bulunamadƒ±. Sunucu yapƒ±landƒ±rmasƒ± kontrol edilmeli.';\r\n            } else if (chatError.response.status === 500) {\r\n              errorMessage = 'Sunucu hatasƒ±. L√ºtfen daha sonra tekrar deneyin.';\r\n            }\r\n          } else if (chatError.request) {\r\n            // ƒ∞stek yapƒ±ldƒ± ama yanƒ±t alƒ±namadƒ±\r\n            console.error('Yanƒ±t alƒ±namadƒ±:', chatError.request);\r\n            errorMessage = 'Sunucuya baƒülanƒ±lamƒ±yor. L√ºtfen sunucunun √ßalƒ±≈ütƒ±ƒüƒ±ndan emin olun.';\r\n          }\r\n          \r\n          setMessages((prev) => [...prev, {\r\n            role: 'assistant',\r\n            content: errorMessage\r\n          }]);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Mesaj g√∂nderilirken genel hata:', error);\r\n      \r\n      // Hata mesajƒ±nƒ± sohbete ekleyin\r\n      const errorMessage = {\r\n        role: 'assistant',\r\n        content: '√úzg√ºn√ºm, bir hata olu≈ütu. L√ºtfen daha sonra tekrar deneyin.'\r\n      };\r\n      \r\n      setMessages((prev) => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n      setTimeout(scrollToBottom, 100);\r\n    }\r\n  };\r\n\r\n  const handleUserInfoSubmit = (formData) => {\r\n    // Kullanƒ±cƒ± bilgilerini kaydet\r\n    setUserInfo(formData);\r\n    setShowUserInfoForm(false);\r\n    \r\n    // Kullanƒ±cƒ± bilgileri alƒ±ndƒ±ƒüƒ±nda diyet planƒ±nƒ± g√∂ster\r\n    setTimeout(() => {\r\n      setMessages((prev) => [...prev, {\r\n        role: 'assistant',\r\n        content: `Te≈üekk√ºrler! Bilgileriniz kaydedildi. \r\n\r\nSize √∂zel bir beslenme planƒ± hazƒ±rlƒ±yorum. Bu plan, hedeflerinize, tercihlerinize ve ihtiya√ßlarƒ±nƒ±za g√∂re √∂zelle≈ütirilmi≈ütir.\r\n\r\nƒ∞≈üte size √∂zel beslenme planƒ±m:`\r\n      }]);\r\n      \r\n      setTimeout(() => {\r\n        setShowDietPlan(true);\r\n      }, 1000);\r\n    }, 500);\r\n  };\r\n\r\n  const toggleSidebar = () => {\r\n    setSidebarOpen(!sidebarOpen);\r\n  };\r\n\r\n  // Eksik olduƒüu i√ßin not silme fonksiyonunu ekliyorum\r\n  const deleteNote = async (noteId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('Token bulunamadƒ±');\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.delete(`/api/delete-note/${noteId}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.data.success) {\r\n        // Notu listeden kaldƒ±r\r\n        setMessages(messages.filter(msg => {\r\n          // Not ID'si mesaj i√ßinde tanƒ±mlanmƒ±≈üsa (data-note-id gibi bir √∂zellik ile)\r\n          return !(msg.type === 'note' && msg.noteId === noteId);\r\n        }));\r\n        \r\n        // Bildirim g√∂ster\r\n        alert('Not ba≈üarƒ±yla silindi');\r\n      } else {\r\n        alert('Not silinirken bir hata olu≈ütu');\r\n      }\r\n    } catch (error) {\r\n      console.error('Not silinirken hata:', error);\r\n      alert('Not silinirken bir hata olu≈ütu. L√ºtfen tekrar deneyin.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-[calc(100vh-64px)]\">\r\n      {/* Sol Kenar √áubuƒüu - Sohbet Listesi */}\r\n      <div className={`chat-sidebar ${sidebarOpen ? 'open' : 'closed'}`}>\r\n        <div className=\"p-4 border-b flex justify-between items-center\">\r\n          <h3 className=\"font-semibold text-gray-700\">Sohbetlerim</h3>\r\n          <button \r\n            onClick={createNewChat}\r\n            className=\"bg-diet-green text-white p-2 rounded-lg hover:bg-green-600 transition-colors\"\r\n            title=\"Yeni sohbet ba≈ülat\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"overflow-y-auto h-full\">\r\n          {chatList.map((chat) => (\r\n            <div \r\n              key={chat.id}\r\n              className={`p-3 border-b cursor-pointer hover:bg-gray-100 flex justify-between items-center ${chat.id === activeChatId ? 'bg-diet-green bg-opacity-10 border-l-4 border-diet-green' : ''}`}\r\n            >\r\n              <div className=\"flex-1\" onClick={() => setActiveChatId(chat.id)}>\r\n                <p className=\"font-medium text-gray-800\">{chat.title}</p>\r\n                <p className=\"text-xs text-gray-500\">{chat.date}</p>\r\n              </div>\r\n              {chat.id !== 'current' && (\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    deleteChat(chat.id);\r\n                  }}\r\n                  className=\"text-gray-400 hover:text-red-500 p-1\"\r\n                  title=\"Sohbeti sil\"\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                </button>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Sohbet B√∂l√ºm√º */}\r\n      <div className=\"flex-1 flex flex-col relative\">\r\n        {/* Mobil g√∂r√ºn√ºmde kenar √ßubuƒüu a√ßma/kapama butonu */}\r\n        <button \r\n          className=\"sidebar-toggle\"\r\n          onClick={toggleSidebar}\r\n          title={sidebarOpen ? \"Kenar √ßubuƒüunu kapat\" : \"Kenar √ßubuƒüunu a√ß\"}\r\n        >\r\n          {sidebarOpen ? (\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 19l-7-7 7-7m8 14l-7-7 7-7\" />\r\n            </svg>\r\n          ) : (\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 5l7 7-7 7M5 5l7 7-7 7\" />\r\n            </svg>\r\n          )}\r\n        </button>\r\n        \r\n        <div className=\"p-4 bg-diet-green text-white flex justify-between items-center\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"diyet-dostu-avatar\">\r\n              <div className=\"avatar-icon\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"#4CAF50\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#e8f5e9\" />\r\n                  <path d=\"M17 8.5C17 6.01 14.99 4 12.5 4C10.01 4 8 6.01 8 8.5C8 11.99 12.5 16.5 12.5 16.5C12.5 16.5 17 11.99 17 8.5ZM12.5 9.5C11.95 9.5 11.5 9.05 11.5 8.5C11.5 7.95 11.95 7.5 12.5 7.5C13.05 7.5 13.5 7.95 13.5 8.5C13.5 9.05 13.05 9.5 12.5 9.5Z\" fill=\"#4CAF50\" />\r\n                  <path d=\"M16 15H9C8.45 15 8 15.45 8 16C8 16.55 8.45 17 9 17H16C16.55 17 17 16.55 17 16C17 15.45 16.55 15 16 15Z\" fill=\"#4CAF50\" />\r\n                  <path d=\"M12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20ZM12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z\" fill=\"#4CAF50\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold\">Diyet Dostu ü•ó</h2>\r\n              <p className=\"text-sm\">Saƒülƒ±klƒ± ya≈üam asistanƒ±nƒ±z</p>\r\n            </div>\r\n          </div>\r\n          <button \r\n            onClick={clearChatHistory}\r\n            className=\"bg-white bg-opacity-20 hover:bg-opacity-30 text-white py-1 px-3 rounded-lg text-sm transition-colors duration-200\"\r\n            title=\"Sohbet ge√ßmi≈üini temizle\"\r\n          >\r\n            Sohbeti Temizle\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"flex-grow overflow-y-auto p-4 chat-messages\">\r\n          {messages.length === 0 ? (\r\n            <div className=\"flex items-center justify-center h-full\">\r\n              <div className=\"text-center\">\r\n                <div className=\"text-4xl mb-4\">üëã</div>\r\n                <p className=\"text-xl font-medium text-gray-700 mb-2\">Diyet Dostu'na Ho≈ü Geldin!</p>\r\n                <p className=\"text-gray-500 mb-4\">Beslenme, diyet veya fitness hakkƒ±nda bir ≈üeyler sor.</p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            messages.map((msg, index) => (\r\n              <div key={index}>\r\n                {msg.type === 'note' ? (\r\n                  <div className=\"note-container\">\r\n                    <ChatBubble message={msg} />\r\n                    <button \r\n                      onClick={() => deleteNote(msg.noteId)}\r\n                      className=\"delete-note-btn\"\r\n                      title=\"Notu sil\"\r\n                    >\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                        <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                ) : (\r\n                  <ChatBubble message={msg} />\r\n                )}\r\n              </div>\r\n            ))\r\n          )}\r\n          \r\n          {isLoading && (\r\n            <div className=\"flex items-center space-x-2 text-gray-500 p-4 bg-gray-100 rounded-lg max-w-[80%] mr-auto my-3 shadow-md loading-container\">\r\n              <div className=\"loader-container\">\r\n                <div className=\"food-icons\">\r\n                  <span className=\"icon apple\">üçé</span>\r\n                  <span className=\"icon broccoli\">ü•¶</span>\r\n                  <span className=\"icon avocado\">ü•ë</span>\r\n                </div>\r\n                <p className=\"ml-2 font-medium\">Diyet Dostu d√º≈ü√ºn√ºyor...</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Kullanƒ±cƒ± bilgi formu */}\r\n          {showUserInfoForm && (\r\n            <div className=\"my-4 p-2 bg-white rounded-lg shadow-lg\">\r\n              <UserInfoForm \r\n                onSubmit={handleUserInfoSubmit} \r\n                onCancel={() => setShowUserInfoForm(false)}\r\n              />\r\n            </div>\r\n          )}\r\n          \r\n          {/* Diyet planƒ± */}\r\n          {showDietPlan && userInfo && (\r\n            <div className=\"my-4 p-2 bg-white rounded-lg shadow-lg\">\r\n              <DietPlanGenerator userInfo={userInfo} />\r\n            </div>\r\n          )}\r\n          \r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n\r\n        <div className=\"p-4 border-t\">\r\n          <form onSubmit={handleSubmit} className=\"flex items-end gap-2\">\r\n            <div className=\"flex-1 relative\">\r\n              <textarea\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                onKeyDown={handleKeyDown}\r\n                ref={textareaRef}\r\n                placeholder=\"Diyet Dostu'na bir soru sor...\"\r\n                className=\"w-full p-3 pr-12 border border-gray-300 rounded-lg resize-none focus:border-diet-green focus:ring-1 focus:ring-diet-green outline-none min-h-[50px] max-h-[200px]\"\r\n                rows=\"1\"\r\n              ></textarea>\r\n              \r\n              <label htmlFor=\"image-upload\" className=\"absolute right-2 bottom-2 cursor-pointer text-gray-500 hover:text-diet-green p-1\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                </svg>\r\n                <input\r\n                  id=\"image-upload\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={handleImageUpload}\r\n                  className=\"hidden\"\r\n                />\r\n              </label>\r\n            </div>\r\n            \r\n            <button\r\n              type=\"submit\"\r\n              disabled={isLoading || (!input.trim() && !imageFile)}\r\n              className={`p-3 rounded-lg ${isLoading || (!input.trim() && !imageFile) ? 'bg-gray-300 cursor-not-allowed' : 'bg-diet-green text-white hover:bg-green-600'} transition-colors`}\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 5l7 7-7 7M5 5l7 7-7 7\" />\r\n              </svg>\r\n            </button>\r\n          </form>\r\n          \r\n          {imagePreview && (\r\n            <div className=\"mt-2 relative\">\r\n              <img src={imagePreview} alt=\"Y√ºklenen g√∂rsel\" className=\"h-20 object-contain rounded-md border border-gray-300\" />\r\n              <button \r\n                onClick={clearImage}\r\n                className=\"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors\"\r\n                title=\"G√∂rseli kaldƒ±r\"\r\n              >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}